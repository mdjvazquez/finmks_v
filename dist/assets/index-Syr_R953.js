var $k=Object.defineProperty;var Hk=(t,e,n)=>e in t?$k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bm=(t,e,n)=>Hk(t,typeof e!="symbol"?e+"":e,n);function jN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Lr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _m={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function Kk(){if(Cx)return Ul;Cx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Nx;function Yk(){return Nx||(Nx=1,_m.exports=Kk()),_m.exports}var x=Yk(),wm={exports:{}};function Jk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zN={exports:{}},Ft=zN.exports={},$r,Hr;function my(){throw new Error("setTimeout has not been defined")}function gy(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$r=setTimeout:$r=my}catch{$r=my}try{typeof clearTimeout=="function"?Hr=clearTimeout:Hr=gy}catch{Hr=gy}})();function FN(t){if($r===setTimeout)return setTimeout(t,0);if(($r===my||!$r)&&setTimeout)return $r=setTimeout,setTimeout(t,0);try{return $r(t,0)}catch{try{return $r.call(null,t,0)}catch{return $r.call(this,t,0)}}}function Wk(t){if(Hr===clearTimeout)return clearTimeout(t);if((Hr===gy||!Hr)&&clearTimeout)return Hr=clearTimeout,clearTimeout(t);try{return Hr(t)}catch{try{return Hr.call(null,t)}catch{return Hr.call(this,t)}}}var vi=[],gs=!1,to,_f=-1;function Xk(){!gs||!to||(gs=!1,to.length?vi=to.concat(vi):_f=-1,vi.length&&GN())}function GN(){if(!gs){var t=FN(Xk);gs=!0;for(var e=vi.length;e;){for(to=vi,vi=[];++_f<e;)to&&to[_f].run();_f=-1,e=vi.length}to=null,gs=!1,Wk(t)}}Ft.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];vi.push(new $N(t,e)),vi.length===1&&!gs&&FN(GN)};function $N(t,e){this.fun=t,this.array=e}$N.prototype.run=function(){this.fun.apply(null,this.array)};Ft.title="browser";Ft.browser=!0;Ft.env={};Ft.argv=[];Ft.version="";Ft.versions={};function Mi(){}Ft.on=Mi;Ft.addListener=Mi;Ft.once=Mi;Ft.off=Mi;Ft.removeListener=Mi;Ft.removeAllListeners=Mi;Ft.emit=Mi;Ft.prependListener=Mi;Ft.prependOnceListener=Mi;Ft.listeners=function(t){return[]};Ft.binding=function(t){throw new Error("process.binding is not supported")};Ft.cwd=function(){return"/"};Ft.chdir=function(t){throw new Error("process.chdir is not supported")};Ft.umask=function(){return 0};var Qk=zN.exports;const Yr=Jk(Qk);var Le={},Rx;function Zk(){if(Rx)return Le;Rx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function R(G,j,X){this.props=G,this.context=j,this.refs=S,this.updater=X||E}R.prototype.isReactComponent={},R.prototype.setState=function(G,j){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,j,"setState")},R.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=R.prototype;function M(G,j,X){this.props=G,this.context=j,this.refs=S,this.updater=X||E}var L=M.prototype=new D;L.constructor=M,A(L,R.prototype),L.isPureReactComponent=!0;var U=Array.isArray;function B(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function z(G,j,X){var V=X.ref;return{$$typeof:t,type:G,key:j,ref:V!==void 0?V:null,props:X}}function fe(G,j){return z(G.type,j,G.props)}function te(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function ne(G){var j={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(X){return j[X]})}var be=/\/+/g;function Se(G,j){return typeof G=="object"&&G!==null&&G.key!=null?ne(""+G.key):j.toString(36)}function Ie(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(j){G.status==="pending"&&(G.status="fulfilled",G.value=j)},function(j){G.status==="pending"&&(G.status="rejected",G.reason=j)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,j,X,V,ce){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var ge=!1;if(G===null)ge=!0;else switch(me){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(G.$$typeof){case t:case e:ge=!0;break;case h:return ge=G._init,Y(ge(G._payload),j,X,V,ce)}}if(ge)return ce=ce(G),ge=V===""?"."+Se(G,0):V,U(ce)?(X="",ge!=null&&(X=ge.replace(be,"$&/")+"/"),Y(ce,j,X,"",function(oe){return oe})):ce!=null&&(te(ce)&&(ce=fe(ce,X+(ce.key==null||G&&G.key===ce.key?"":(""+ce.key).replace(be,"$&/")+"/")+ge)),j.push(ce)),1;ge=0;var we=V===""?".":V+":";if(U(G))for(var ae=0;ae<G.length;ae++)V=G[ae],me=we+Se(V,ae),ge+=Y(V,j,X,me,ce);else if(ae=w(G),typeof ae=="function")for(G=ae.call(G),ae=0;!(V=G.next()).done;)V=V.value,me=we+Se(V,ae++),ge+=Y(V,j,X,me,ce);else if(me==="object"){if(typeof G.then=="function")return Y(Ie(G),j,X,V,ce);throw j=String(G),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ge}function he(G,j,X){if(G==null)return G;var V=[],ce=0;return Y(G,V,"","",function(me){return j.call(X,me,ce++)}),V}function ve(G){if(G._status===-1){var j=G._result;j=j(),j.then(function(X){(G._status===0||G._status===-1)&&(G._status=1,G._result=X)},function(X){(G._status===0||G._status===-1)&&(G._status=2,G._result=X)}),G._status===-1&&(G._status=0,G._result=j)}if(G._status===1)return G._result.default;throw G._result}var Te=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(j))return}else if(typeof Yr=="object"&&typeof Yr.emit=="function"){Yr.emit("uncaughtException",G);return}console.error(G)},ke={map:he,forEach:function(G,j,X){he(G,function(){j.apply(this,arguments)},X)},count:function(G){var j=0;return he(G,function(){j++}),j},toArray:function(G){return he(G,function(j){return j})||[]},only:function(G){if(!te(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Le.Activity=g,Le.Children=ke,Le.Component=R,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=M,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(G){return F.H.useMemoCache(G)}},Le.cache=function(G){return function(){return G.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(G,j,X){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var V=A({},G.props),ce=G.key;if(j!=null)for(me in j.key!==void 0&&(ce=""+j.key),j)!ie.call(j,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&j.ref===void 0||(V[me]=j[me]);var me=arguments.length-2;if(me===1)V.children=X;else if(1<me){for(var ge=Array(me),we=0;we<me;we++)ge[we]=arguments[we+2];V.children=ge}return z(G.type,ce,V)},Le.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Le.createElement=function(G,j,X){var V,ce={},me=null;if(j!=null)for(V in j.key!==void 0&&(me=""+j.key),j)ie.call(j,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ce[V]=j[V]);var ge=arguments.length-2;if(ge===1)ce.children=X;else if(1<ge){for(var we=Array(ge),ae=0;ae<ge;ae++)we[ae]=arguments[ae+2];ce.children=we}if(G&&G.defaultProps)for(V in ge=G.defaultProps,ge)ce[V]===void 0&&(ce[V]=ge[V]);return z(G,me,ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(G){return{$$typeof:c,render:G}},Le.isValidElement=te,Le.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:ve}},Le.memo=function(G,j){return{$$typeof:d,type:G,compare:j===void 0?null:j}},Le.startTransition=function(G){var j=F.T,X={};F.T=X;try{var V=G(),ce=F.S;ce!==null&&ce(X,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(B,Te)}catch(me){Te(me)}finally{j!==null&&X.types!==null&&(j.types=X.types),F.T=j}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(G){return F.H.use(G)},Le.useActionState=function(G,j,X){return F.H.useActionState(G,j,X)},Le.useCallback=function(G,j){return F.H.useCallback(G,j)},Le.useContext=function(G){return F.H.useContext(G)},Le.useDebugValue=function(){},Le.useDeferredValue=function(G,j){return F.H.useDeferredValue(G,j)},Le.useEffect=function(G,j){return F.H.useEffect(G,j)},Le.useEffectEvent=function(G){return F.H.useEffectEvent(G)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(G,j,X){return F.H.useImperativeHandle(G,j,X)},Le.useInsertionEffect=function(G,j){return F.H.useInsertionEffect(G,j)},Le.useLayoutEffect=function(G,j){return F.H.useLayoutEffect(G,j)},Le.useMemo=function(G,j){return F.H.useMemo(G,j)},Le.useOptimistic=function(G,j){return F.H.useOptimistic(G,j)},Le.useReducer=function(G,j,X){return F.H.useReducer(G,j,X)},Le.useRef=function(G){return F.H.useRef(G)},Le.useState=function(G){return F.H.useState(G)},Le.useSyncExternalStore=function(G,j,X){return F.H.useSyncExternalStore(G,j,X)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.2.0",Le}var Ix;function Is(){return Ix||(Ix=1,wm.exports=Zk()),wm.exports}var I=Is();const HN=Lr(I),eU=jN({__proto__:null,default:HN},[I]);var Em={exports:{}},Ll={},xm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function tU(){return Mx||(Mx=1,(function(t){function e(Y,he){var ve=Y.length;Y.push(he);e:for(;0<ve;){var Te=ve-1>>>1,ke=Y[Te];if(0<i(ke,he))Y[Te]=he,Y[ve]=ke,ve=Te;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var he=Y[0],ve=Y.pop();if(ve!==he){Y[0]=ve;e:for(var Te=0,ke=Y.length,G=ke>>>1;Te<G;){var j=2*(Te+1)-1,X=Y[j],V=j+1,ce=Y[V];if(0>i(X,ve))V<ke&&0>i(ce,X)?(Y[Te]=ce,Y[V]=ve,Te=V):(Y[Te]=X,Y[j]=ve,Te=j);else if(V<ke&&0>i(ce,ve))Y[Te]=ce,Y[V]=ve,Te=V;else break e}}return he}function i(Y,he){var ve=Y.sortIndex-he.sortIndex;return ve!==0?ve:Y.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,g=null,b=3,w=!1,E=!1,A=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(Y){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=Y)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(d)}}function U(Y){if(A=!1,L(Y),!E)if(n(f)!==null)E=!0,B||(B=!0,ne());else{var he=n(d);he!==null&&Ie(U,he.startTime-Y)}}var B=!1,F=-1,ie=5,z=-1;function fe(){return S?!0:!(t.unstable_now()-z<ie)}function te(){if(S=!1,B){var Y=t.unstable_now();z=Y;var he=!0;try{e:{E=!1,A&&(A=!1,D(F),F=-1),w=!0;var ve=b;try{t:{for(L(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&fe());){var Te=g.callback;if(typeof Te=="function"){g.callback=null,b=g.priorityLevel;var ke=Te(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof ke=="function"){g.callback=ke,L(Y),he=!0;break t}g===n(f)&&r(f),L(Y)}else r(f);g=n(f)}if(g!==null)he=!0;else{var G=n(d);G!==null&&Ie(U,G.startTime-Y),he=!1}}break e}finally{g=null,b=ve,w=!1}he=void 0}}finally{he?ne():B=!1}}}var ne;if(typeof M=="function")ne=function(){M(te)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Se=be.port2;be.port1.onmessage=te,ne=function(){Se.postMessage(null)}}else ne=function(){R(te,0)};function Ie(Y,he){F=R(function(){Y(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var ve=b;b=he;try{return Y()}finally{b=ve}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,he){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=b;b=Y;try{return he()}finally{b=ve}},t.unstable_scheduleCallback=function(Y,he,ve){var Te=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Te+ve:Te):ve=Te,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ve+ke,Y={id:h++,callback:he,priorityLevel:Y,startTime:ve,expirationTime:ke,sortIndex:-1},ve>Te?(Y.sortIndex=ve,e(d,Y),n(f)===null&&Y===n(d)&&(A?(D(F),F=-1):A=!0,Ie(U,ve-Te))):(Y.sortIndex=ke,e(f,Y),E||w||(E=!0,B||(B=!0,ne()))),Y},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(Y){var he=b;return function(){var ve=b;b=he;try{return Y.apply(this,arguments)}finally{b=ve}}}})(Sm)),Sm}var Px;function nU(){return Px||(Px=1,xm.exports=tU()),xm.exports}var Tm={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function rU(){if(Ox)return An;Ox=1;var t=Is();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},An.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},An.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},An.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},An.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},An.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},An.requestFormReset=function(f){r.d.r(f)},An.unstable_batchedUpdates=function(f,d){return f(d)},An.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.2.0",An}var Dx;function VN(){if(Dx)return Tm.exports;Dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tm.exports=rU(),Tm.exports}var kx;function iU(){if(kx)return Ll;kx=1;var t=nU(),e=Is(),n=VN();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,p=s;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),a;if(_===p)return f(v),s;_=_.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=_;else{for(var N=!1,P=v.child;P;){if(P===u){N=!0,u=v,p=_;break}if(P===p){N=!0,p=v,u=_;break}P=P.sibling}if(!N){for(P=_.child;P;){if(P===u){N=!0,u=_,p=v;break}if(P===p){N=!0,p=_,u=v;break}P=P.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var be=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===be?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case B:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case M:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case L:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return s=a.displayName||null,s!==null?s:Se(a.type)||"Memo";case ie:s=a._payload,a=a._init;try{return Se(a(s))}catch{}}return null}var Ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Te=[],ke=-1;function G(a){return{current:a}}function j(a){0>ke||(a.current=Te[ke],Te[ke]=null,ke--)}function X(a,s){ke++,Te[ke]=a.current,a.current=s}var V=G(null),ce=G(null),me=G(null),ge=G(null);function we(a,s){switch(X(me,s),X(ce,a),X(V,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?WE(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=WE(s),a=XE(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}j(V),X(V,a)}function ae(){j(V),j(ce),j(me)}function oe(a){a.memoizedState!==null&&X(ge,a);var s=V.current,u=XE(s,a.type);s!==u&&(X(ce,a),X(V,u))}function ye(a){ce.current===a&&(j(V),j(ce)),ge.current===a&&(j(ge),Pl._currentValue=ve)}var pe,Ue;function Fe(a){if(pe===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);pe=s&&s[1]||"",Ue=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+Ue}var He=!1;function De(a,s){if(!a||He)return"";He=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var Q=re}Reflect.construct(a,[],de)}else{try{de.call()}catch(re){Q=re}a.call(de.prototype)}}else{try{throw Error()}catch(re){Q=re}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&Q&&typeof re.stack=="string")return[re.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),N=_[0],P=_[1];if(N&&P){var q=N.split(`
`),W=P.split(`
`);for(v=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(p===q.length||v===W.length)for(p=q.length-1,v=W.length-1;1<=p&&0<=v&&q[p]!==W[v];)v--;for(;1<=p&&0<=v;p--,v--)if(q[p]!==W[v]){if(p!==1||v!==1)do if(p--,v--,0>v||q[p]!==W[v]){var le=`
`+q[p].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=p&&0<=v);break}}}finally{He=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Fe(u):""}function Xe(a,s){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==s&&s!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return De(a.type,!1);case 11:return De(a.type.render,!1);case 1:return De(a.type,!0);case 31:return Fe("Activity");default:return""}}function Gt(a){try{var s="",u=null;do s+=Xe(a,u),u=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var en=Object.prototype.hasOwnProperty,un=t.unstable_scheduleCallback,Tn=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,$t=t.unstable_requestPaint,bt=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,Bi=t.unstable_UserBlockingPriority,Gn=t.unstable_NormalPriority,oh=t.unstable_LowPriority,O=t.unstable_IdlePriority,T=t.log,C=t.unstable_setDisableYieldValue,k=null,H=null;function Z(a){if(typeof T=="function"&&C(a),H&&typeof H.setStrictMode=="function")try{H.setStrictMode(k,a)}catch{}}var se=Math.clz32?Math.clz32:mt,Ge=Math.log,Tt=Math.LN2;function mt(a){return a>>>=0,a===0?32:31-(Ge(a)/Tt|0)|0}var dt=256,Qe=262144,Du=4194304;function Na(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ku(a,s,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var P=p&134217727;return P!==0?(p=P&~_,p!==0?v=Na(p):(N&=P,N!==0?v=Na(N):u||(u=P&~a,u!==0&&(v=Na(u))))):(P=p&~_,P!==0?v=Na(P):N!==0?v=Na(N):u||(u=p&~a,u!==0&&(v=Na(u)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:v}function Hs(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function MD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mb(){var a=Du;return Du<<=1,(Du&62914560)===0&&(Du=4194304),a}function sh(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Vs(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function PD(a,s,u,p,v,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var P=a.entanglements,q=a.expirationTimes,W=a.hiddenUpdates;for(u=N&~u;0<u;){var le=31-se(u),de=1<<le;P[le]=0,q[le]=-1;var Q=W[le];if(Q!==null)for(W[le]=null,le=0;le<Q.length;le++){var re=Q[le];re!==null&&(re.lane&=-536870913)}u&=~de}p!==0&&Pb(a,p,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function Pb(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-se(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Ob(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var p=31-se(u),v=1<<p;v&s|a[p]&s&&(a[p]|=s),u&=~v}}function Db(a,s){var u=s&-s;return u=(u&42)!==0?1:lh(u),(u&(a.suspendedLanes|s))!==0?0:u}function lh(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function uh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function kb(){var a=he.p;return a!==0?a:(a=window.event,a===void 0?32:_x(a.type))}function Ub(a,s){var u=he.p;try{return he.p=a,s()}finally{he.p=u}}var qi=Math.random().toString(36).slice(2),yn="__reactFiber$"+qi,Pn="__reactProps$"+qi,vo="__reactContainer$"+qi,ch="__reactEvents$"+qi,OD="__reactListeners$"+qi,DD="__reactHandles$"+qi,Lb="__reactResources$"+qi,Ks="__reactMarker$"+qi;function fh(a){delete a[yn],delete a[Pn],delete a[ch],delete a[OD],delete a[DD]}function bo(a){var s=a[yn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[vo]||u[yn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=ix(a);a!==null;){if(u=a[yn])return u;a=ix(a)}return s}a=u,u=a.parentNode}return null}function _o(a){if(a=a[yn]||a[vo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Ys(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function wo(a){var s=a[Lb];return s||(s=a[Lb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(a){a[Ks]=!0}var Bb=new Set,qb={};function Ra(a,s){Eo(a,s),Eo(a+"Capture",s)}function Eo(a,s){for(qb[a]=s,a=0;a<s.length;a++)Bb.add(s[a])}var kD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jb={},zb={};function UD(a){return en.call(zb,a)?!0:en.call(jb,a)?!1:kD.test(a)?zb[a]=!0:(jb[a]=!0,!1)}function Uu(a,s,u){if(UD(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function Lu(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function Qr(a,s,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+p)}}function or(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Fb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function LD(a,s,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,_=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function dh(a){if(!a._valueTracker){var s=Fb(a)?"checked":"value";a._valueTracker=LD(a,s,""+a[s])}}function Gb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return a&&(p=Fb(a)?a.checked?"true":"false":a.value),a=p,a!==u?(s.setValue(a),!0):!1}function Bu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var BD=/[\n"\\]/g;function sr(a){return a.replace(BD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hh(a,s,u,p,v,_,N,P){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+or(s)):a.value!==""+or(s)&&(a.value=""+or(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?ph(a,N,or(s)):u!=null?ph(a,N,or(u)):p!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+or(P):a.removeAttribute("name")}function $b(a,s,u,p,v,_,N,P){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){dh(a);return}u=u!=null?""+or(u):"",s=s!=null?""+or(s):u,P||s===a.value||(a.value=s),a.defaultValue=s}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=P?a.checked:!!p,a.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),dh(a)}function ph(a,s,u){s==="number"&&Bu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function xo(a,s,u,p){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&p&&(a[u].defaultSelected=!0)}else{for(u=""+or(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function Hb(a,s,u){if(s!=null&&(s=""+or(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+or(u):""}function Vb(a,s,u,p){if(s==null){if(p!=null){if(u!=null)throw Error(r(92));if(Ie(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),s=u}u=or(s),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),dh(a)}function So(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var qD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kb(a,s,u){var p=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,u):typeof u!="number"||u===0||qD.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Yb(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in s)p=s[v],s.hasOwnProperty(v)&&u[v]!==p&&Kb(a,v,p)}else for(var _ in s)s.hasOwnProperty(_)&&Kb(a,_,s[_])}function mh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(a){return zD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Zr(){}var gh=null;function yh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var To=null,Ao=null;function Jb(a){var s=_o(a);if(s&&(a=s.stateNode)){var u=a[Pn]||null;e:switch(a=s.stateNode,s.type){case"input":if(hh(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==a&&p.form===a.form){var v=p[Pn]||null;if(!v)throw Error(r(90));hh(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)p=u[s],p.form===a.form&&Gb(p)}break e;case"textarea":Hb(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&xo(a,!!u.multiple,s,!1)}}}var vh=!1;function Wb(a,s,u){if(vh)return a(s,u);vh=!0;try{var p=a(s);return p}finally{if(vh=!1,(To!==null||Ao!==null)&&(Ac(),To&&(s=To,a=Ao,Ao=To=null,Jb(s),a)))for(s=0;s<a.length;s++)Jb(a[s])}}function Js(a,s){var u=a.stateNode;if(u===null)return null;var p=u[Pn]||null;if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=!1;if(ei)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){bh=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{bh=!1}var ji=null,_h=null,ju=null;function Xb(){if(ju)return ju;var a,s=_h,u=s.length,p,v="value"in ji?ji.value:ji.textContent,_=v.length;for(a=0;a<u&&s[a]===v[a];a++);var N=u-a;for(p=1;p<=N&&s[u-p]===v[_-p];p++);return ju=v.slice(a,1<p?1-p:void 0)}function zu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Fu(){return!0}function Qb(){return!1}function On(a){function s(u,p,v,_,N){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(u=a[P],this[P]=u?u(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Fu:Qb,this.isPropagationStopped=Qb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),s}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=On(Ia),Xs=g({},Ia,{view:0,detail:0}),FD=On(Xs),wh,Eh,Qs,$u=g({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qs&&(Qs&&a.type==="mousemove"?(wh=a.screenX-Qs.screenX,Eh=a.screenY-Qs.screenY):Eh=wh=0,Qs=a),wh)},movementY:function(a){return"movementY"in a?a.movementY:Eh}}),Zb=On($u),GD=g({},$u,{dataTransfer:0}),$D=On(GD),HD=g({},Xs,{relatedTarget:0}),xh=On(HD),VD=g({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),KD=On(VD),YD=g({},Ia,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),JD=On(YD),WD=g({},Ia,{data:0}),e_=On(WD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ZD[a])?!!s[a]:!1}function Sh(){return e2}var t2=g({},Xs,{key:function(a){if(a.key){var s=XD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=zu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?QD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(a){return a.type==="keypress"?zu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),n2=On(t2),r2=g({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t_=On(r2),i2=g({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),a2=On(i2),o2=g({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),s2=On(o2),l2=g({},$u,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),u2=On(l2),c2=g({},Ia,{newState:0,oldState:0}),f2=On(c2),d2=[9,13,27,32],Th=ei&&"CompositionEvent"in window,Zs=null;ei&&"documentMode"in document&&(Zs=document.documentMode);var h2=ei&&"TextEvent"in window&&!Zs,n_=ei&&(!Th||Zs&&8<Zs&&11>=Zs),r_=" ",i_=!1;function a_(a,s){switch(a){case"keyup":return d2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Co=!1;function p2(a,s){switch(a){case"compositionend":return o_(s);case"keypress":return s.which!==32?null:(i_=!0,r_);case"textInput":return a=s.data,a===r_&&i_?null:a;default:return null}}function m2(a,s){if(Co)return a==="compositionend"||!Th&&a_(a,s)?(a=Xb(),ju=_h=ji=null,Co=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return n_&&s.locale!=="ko"?null:s.data;default:return null}}var g2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!g2[a.type]:s==="textarea"}function l_(a,s,u,p){To?Ao?Ao.push(p):Ao=[p]:To=p,s=Oc(s,"onChange"),0<s.length&&(u=new Gu("onChange","change",null,u,p),a.push({event:u,listeners:s}))}var el=null,tl=null;function y2(a){$E(a,0)}function Hu(a){var s=Ys(a);if(Gb(s))return a}function u_(a,s){if(a==="change")return s}var c_=!1;if(ei){var Ah;if(ei){var Ch="oninput"in document;if(!Ch){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Ch=typeof f_.oninput=="function"}Ah=Ch}else Ah=!1;c_=Ah&&(!document.documentMode||9<document.documentMode)}function d_(){el&&(el.detachEvent("onpropertychange",h_),tl=el=null)}function h_(a){if(a.propertyName==="value"&&Hu(tl)){var s=[];l_(s,tl,a,yh(a)),Wb(y2,s)}}function v2(a,s,u){a==="focusin"?(d_(),el=s,tl=u,el.attachEvent("onpropertychange",h_)):a==="focusout"&&d_()}function b2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hu(tl)}function _2(a,s){if(a==="click")return Hu(s)}function w2(a,s){if(a==="input"||a==="change")return Hu(s)}function E2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var $n=typeof Object.is=="function"?Object.is:E2;function nl(a,s){if($n(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!en.call(s,v)||!$n(a[v],s[v]))return!1}return!0}function p_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m_(a,s){var u=p_(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=s&&p>=s)return{node:u,offset:s-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=p_(u)}}function g_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?g_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function y_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Bu(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Bu(a.document)}return s}function Nh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var x2=ei&&"documentMode"in document&&11>=document.documentMode,No=null,Rh=null,rl=null,Ih=!1;function v_(a,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ih||No==null||No!==Bu(p)||(p=No,"selectionStart"in p&&Nh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),rl&&nl(rl,p)||(rl=p,p=Oc(Rh,"onSelect"),0<p.length&&(s=new Gu("onSelect","select",null,s,u),a.push({event:s,listeners:p}),s.target=No)))}function Ma(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Ro={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Mh={},b_={};ei&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Pa(a){if(Mh[a])return Mh[a];if(!Ro[a])return a;var s=Ro[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in b_)return Mh[a]=s[u];return a}var __=Pa("animationend"),w_=Pa("animationiteration"),E_=Pa("animationstart"),S2=Pa("transitionrun"),T2=Pa("transitionstart"),A2=Pa("transitioncancel"),x_=Pa("transitionend"),S_=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Ar(a,s){S_.set(a,s),Ra(s,[a])}var Vu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof Yr=="object"&&typeof Yr.emit=="function"){Yr.emit("uncaughtException",a);return}console.error(a)},lr=[],Io=0,Oh=0;function Ku(){for(var a=Io,s=Oh=Io=0;s<a;){var u=lr[s];lr[s++]=null;var p=lr[s];lr[s++]=null;var v=lr[s];lr[s++]=null;var _=lr[s];if(lr[s++]=null,p!==null&&v!==null){var N=p.pending;N===null?v.next=v:(v.next=N.next,N.next=v),p.pending=v}_!==0&&T_(u,v,_)}}function Yu(a,s,u,p){lr[Io++]=a,lr[Io++]=s,lr[Io++]=u,lr[Io++]=p,Oh|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Dh(a,s,u,p){return Yu(a,s,u,p),Ju(a)}function Oa(a,s){return Yu(a,null,null,s),Ju(a)}function T_(a,s,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,p=_.alternate,p!==null&&(p.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&s!==null&&(v=31-se(u),a=_.hiddenUpdates,p=a[v],p===null?a[v]=[s]:p.push(s),s.lane=u|536870912),_):null}function Ju(a){if(50<Tl)throw Tl=0,Gp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Mo={};function C2(a,s,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(a,s,u,p){return new C2(a,s,u,p)}function kh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ti(a,s){var u=a.alternate;return u===null?(u=Hn(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function A_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Wu(a,s,u,p,v,_){var N=0;if(p=a,typeof a=="function")kh(a)&&(N=1);else if(typeof a=="string")N=Pk(a,u,V.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Hn(31,u,s,v),a.elementType=z,a.lanes=_,a;case A:return Da(u.children,v,_,s);case S:N=8,v|=24;break;case R:return a=Hn(12,u,s,v|2),a.elementType=R,a.lanes=_,a;case U:return a=Hn(13,u,s,v),a.elementType=U,a.lanes=_,a;case B:return a=Hn(19,u,s,v),a.elementType=B,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:N=10;break e;case D:N=9;break e;case L:N=11;break e;case F:N=14;break e;case ie:N=16,p=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Hn(N,u,s,v),s.elementType=a,s.type=p,s.lanes=_,s}function Da(a,s,u,p){return a=Hn(7,a,p,s),a.lanes=u,a}function Uh(a,s,u){return a=Hn(6,a,null,s),a.lanes=u,a}function C_(a){var s=Hn(18,null,null,0);return s.stateNode=a,s}function Lh(a,s,u){return s=Hn(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var N_=new WeakMap;function ur(a,s){if(typeof a=="object"&&a!==null){var u=N_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Gt(s)},N_.set(a,s),s)}return{value:a,source:s,stack:Gt(s)}}var Po=[],Oo=0,Xu=null,il=0,cr=[],fr=0,zi=null,jr=1,zr="";function ni(a,s){Po[Oo++]=il,Po[Oo++]=Xu,Xu=a,il=s}function R_(a,s,u){cr[fr++]=jr,cr[fr++]=zr,cr[fr++]=zi,zi=a;var p=jr;a=zr;var v=32-se(p)-1;p&=~(1<<v),u+=1;var _=32-se(s)+v;if(30<_){var N=v-v%5;_=(p&(1<<N)-1).toString(32),p>>=N,v-=N,jr=1<<32-se(s)+v|u<<v|p,zr=_+a}else jr=1<<_|u<<v|p,zr=a}function Bh(a){a.return!==null&&(ni(a,1),R_(a,1,0))}function qh(a){for(;a===Xu;)Xu=Po[--Oo],Po[Oo]=null,il=Po[--Oo],Po[Oo]=null;for(;a===zi;)zi=cr[--fr],cr[fr]=null,zr=cr[--fr],cr[fr]=null,jr=cr[--fr],cr[fr]=null}function I_(a,s){cr[fr++]=jr,cr[fr++]=zr,cr[fr++]=zi,jr=s.id,zr=s.overflow,zi=a}var vn=null,_t=null,We=!1,Fi=null,dr=!1,jh=Error(r(519));function Gi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(ur(s,a)),jh}function M_(a){var s=a.stateNode,u=a.type,p=a.memoizedProps;switch(s[yn]=a,s[Pn]=p,u){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(u=0;u<Cl.length;u++)Ke(Cl[u],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),$b(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),Vb(s,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||p.suppressHydrationWarning===!0||YE(s.textContent,u)?(p.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),p.onScroll!=null&&Ke("scroll",s),p.onScrollEnd!=null&&Ke("scrollend",s),p.onClick!=null&&(s.onclick=Zr),s=!0):s=!1,s||Gi(a,!0)}function P_(a){for(vn=a.return;vn;)switch(vn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:vn=vn.return}}function Do(a){if(a!==vn)return!1;if(!We)return P_(a),We=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||im(a.type,a.memoizedProps)),u=!u),u&&_t&&Gi(a),P_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=rx(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=rx(a)}else s===27?(s=_t,ra(a.type)?(a=um,um=null,_t=a):_t=s):_t=vn?pr(a.stateNode.nextSibling):null;return!0}function ka(){_t=vn=null,We=!1}function zh(){var a=Fi;return a!==null&&(Ln===null?Ln=a:Ln.push.apply(Ln,a),Fi=null),a}function al(a){Fi===null?Fi=[a]:Fi.push(a)}var Fh=G(null),Ua=null,ri=null;function $i(a,s,u){X(Fh,s._currentValue),s._currentValue=u}function ii(a){a._currentValue=Fh.current,j(Fh)}function Gh(a,s,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===u)break;a=a.return}}function $h(a,s,u,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var N=v.child;_=_.firstContext;e:for(;_!==null;){var P=_;_=v;for(var q=0;q<s.length;q++)if(P.context===s[q]){_.lanes|=u,P=_.alternate,P!==null&&(P.lanes|=u),Gh(_.return,u,a),p||(N=null);break e}_=P.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),Gh(N,u,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function ko(a,s,u,p){a=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var P=v.type;$n(v.pendingProps.value,N.value)||(a!==null?a.push(P):a=[P])}}else if(v===ge.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Pl):a=[Pl])}v=v.return}a!==null&&$h(s,a,u,p),s.flags|=262144}function Qu(a){for(a=a.firstContext;a!==null;){if(!$n(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function La(a){Ua=a,ri=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function bn(a){return O_(Ua,a)}function Zu(a,s){return Ua===null&&La(a),O_(a,s)}function O_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ri===null){if(a===null)throw Error(r(308));ri=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ri=ri.next=s;return u}var N2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},R2=t.unstable_scheduleCallback,I2=t.unstable_NormalPriority,Ht={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new N2,data:new Map,refCount:0}}function ol(a){a.refCount--,a.refCount===0&&R2(I2,function(){a.controller.abort()})}var sl=null,Vh=0,Uo=0,Lo=null;function M2(a,s){if(sl===null){var u=sl=[];Vh=0,Uo=Jp(),Lo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Vh++,s.then(D_,D_),s}function D_(){if(--Vh===0&&sl!==null){Lo!==null&&(Lo.status="fulfilled");var a=sl;sl=null,Uo=0,Lo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function P2(a,s){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var k_=Y.S;Y.S=function(a,s){vE=bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&M2(a,s),k_!==null&&k_(a,s)};var Ba=G(null);function Kh(){var a=Ba.current;return a!==null?a:ht.pooledCache}function ec(a,s){s===null?X(Ba,Ba.current):X(Ba,s.pool)}function U_(){var a=Kh();return a===null?null:{parent:Ht._currentValue,pool:a}}var Bo=Error(r(460)),Yh=Error(r(474)),tc=Error(r(542)),nc={then:function(){}};function L_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function B_(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Zr,Zr),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,j_(a),a;default:if(typeof s.status=="string")s.then(Zr,Zr);else{if(a=ht,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=p}},function(p){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,j_(a),a}throw ja=s,Bo}}function qa(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ja=u,Bo):u}}var ja=null;function q_(){if(ja===null)throw Error(r(459));var a=ja;return ja=null,a}function j_(a){if(a===Bo||a===tc)throw Error(r(483))}var qo=null,ll=0;function rc(a){var s=ll;return ll+=1,qo===null&&(qo=[]),B_(qo,a,s)}function ul(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function ic(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function z_(a){function s(K,$){if(a){var J=K.deletions;J===null?(K.deletions=[$],K.flags|=16):J.push($)}}function u(K,$){if(!a)return null;for(;$!==null;)s(K,$),$=$.sibling;return null}function p(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function v(K,$){return K=ti(K,$),K.index=0,K.sibling=null,K}function _(K,$,J){return K.index=J,a?(J=K.alternate,J!==null?(J=J.index,J<$?(K.flags|=67108866,$):J):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function N(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function P(K,$,J,ue){return $===null||$.tag!==6?($=Uh(J,K.mode,ue),$.return=K,$):($=v($,J),$.return=K,$)}function q(K,$,J,ue){var Re=J.type;return Re===A?le(K,$,J.props.children,ue,J.key):$!==null&&($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ie&&qa(Re)===$.type)?($=v($,J.props),ul($,J),$.return=K,$):($=Wu(J.type,J.key,J.props,null,K.mode,ue),ul($,J),$.return=K,$)}function W(K,$,J,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=Lh(J,K.mode,ue),$.return=K,$):($=v($,J.children||[]),$.return=K,$)}function le(K,$,J,ue,Re){return $===null||$.tag!==7?($=Da(J,K.mode,ue,Re),$.return=K,$):($=v($,J),$.return=K,$)}function de(K,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Uh(""+$,K.mode,J),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return J=Wu($.type,$.key,$.props,null,K.mode,J),ul(J,$),J.return=K,J;case E:return $=Lh($,K.mode,J),$.return=K,$;case ie:return $=qa($),de(K,$,J)}if(Ie($)||ne($))return $=Da($,K.mode,J,null),$.return=K,$;if(typeof $.then=="function")return de(K,rc($),J);if($.$$typeof===M)return de(K,Zu(K,$),J);ic(K,$)}return null}function Q(K,$,J,ue){var Re=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:P(K,$,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Re?q(K,$,J,ue):null;case E:return J.key===Re?W(K,$,J,ue):null;case ie:return J=qa(J),Q(K,$,J,ue)}if(Ie(J)||ne(J))return Re!==null?null:le(K,$,J,ue,null);if(typeof J.then=="function")return Q(K,$,rc(J),ue);if(J.$$typeof===M)return Q(K,$,Zu(K,J),ue);ic(K,J)}return null}function re(K,$,J,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(J)||null,P($,K,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return K=K.get(ue.key===null?J:ue.key)||null,q($,K,ue,Re);case E:return K=K.get(ue.key===null?J:ue.key)||null,W($,K,ue,Re);case ie:return ue=qa(ue),re(K,$,J,ue,Re)}if(Ie(ue)||ne(ue))return K=K.get(J)||null,le($,K,ue,Re,null);if(typeof ue.then=="function")return re(K,$,J,rc(ue),Re);if(ue.$$typeof===M)return re(K,$,J,Zu($,ue),Re);ic($,ue)}return null}function xe(K,$,J,ue){for(var Re=null,Ze=null,Ae=$,ze=$=0,Je=null;Ae!==null&&ze<J.length;ze++){Ae.index>ze?(Je=Ae,Ae=null):Je=Ae.sibling;var et=Q(K,Ae,J[ze],ue);if(et===null){Ae===null&&(Ae=Je);break}a&&Ae&&et.alternate===null&&s(K,Ae),$=_(et,$,ze),Ze===null?Re=et:Ze.sibling=et,Ze=et,Ae=Je}if(ze===J.length)return u(K,Ae),We&&ni(K,ze),Re;if(Ae===null){for(;ze<J.length;ze++)Ae=de(K,J[ze],ue),Ae!==null&&($=_(Ae,$,ze),Ze===null?Re=Ae:Ze.sibling=Ae,Ze=Ae);return We&&ni(K,ze),Re}for(Ae=p(Ae);ze<J.length;ze++)Je=re(Ae,K,ze,J[ze],ue),Je!==null&&(a&&Je.alternate!==null&&Ae.delete(Je.key===null?ze:Je.key),$=_(Je,$,ze),Ze===null?Re=Je:Ze.sibling=Je,Ze=Je);return a&&Ae.forEach(function(la){return s(K,la)}),We&&ni(K,ze),Re}function Me(K,$,J,ue){if(J==null)throw Error(r(151));for(var Re=null,Ze=null,Ae=$,ze=$=0,Je=null,et=J.next();Ae!==null&&!et.done;ze++,et=J.next()){Ae.index>ze?(Je=Ae,Ae=null):Je=Ae.sibling;var la=Q(K,Ae,et.value,ue);if(la===null){Ae===null&&(Ae=Je);break}a&&Ae&&la.alternate===null&&s(K,Ae),$=_(la,$,ze),Ze===null?Re=la:Ze.sibling=la,Ze=la,Ae=Je}if(et.done)return u(K,Ae),We&&ni(K,ze),Re;if(Ae===null){for(;!et.done;ze++,et=J.next())et=de(K,et.value,ue),et!==null&&($=_(et,$,ze),Ze===null?Re=et:Ze.sibling=et,Ze=et);return We&&ni(K,ze),Re}for(Ae=p(Ae);!et.done;ze++,et=J.next())et=re(Ae,K,ze,et.value,ue),et!==null&&(a&&et.alternate!==null&&Ae.delete(et.key===null?ze:et.key),$=_(et,$,ze),Ze===null?Re=et:Ze.sibling=et,Ze=et);return a&&Ae.forEach(function(Gk){return s(K,Gk)}),We&&ni(K,ze),Re}function ct(K,$,J,ue){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Re=J.key;$!==null;){if($.key===Re){if(Re=J.type,Re===A){if($.tag===7){u(K,$.sibling),ue=v($,J.props.children),ue.return=K,K=ue;break e}}else if($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ie&&qa(Re)===$.type){u(K,$.sibling),ue=v($,J.props),ul(ue,J),ue.return=K,K=ue;break e}u(K,$);break}else s(K,$);$=$.sibling}J.type===A?(ue=Da(J.props.children,K.mode,ue,J.key),ue.return=K,K=ue):(ue=Wu(J.type,J.key,J.props,null,K.mode,ue),ul(ue,J),ue.return=K,K=ue)}return N(K);case E:e:{for(Re=J.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){u(K,$.sibling),ue=v($,J.children||[]),ue.return=K,K=ue;break e}else{u(K,$);break}else s(K,$);$=$.sibling}ue=Lh(J,K.mode,ue),ue.return=K,K=ue}return N(K);case ie:return J=qa(J),ct(K,$,J,ue)}if(Ie(J))return xe(K,$,J,ue);if(ne(J)){if(Re=ne(J),typeof Re!="function")throw Error(r(150));return J=Re.call(J),Me(K,$,J,ue)}if(typeof J.then=="function")return ct(K,$,rc(J),ue);if(J.$$typeof===M)return ct(K,$,Zu(K,J),ue);ic(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(u(K,$.sibling),ue=v($,J),ue.return=K,K=ue):(u(K,$),ue=Uh(J,K.mode,ue),ue.return=K,K=ue),N(K)):u(K,$)}return function(K,$,J,ue){try{ll=0;var Re=ct(K,$,J,ue);return qo=null,Re}catch(Ae){if(Ae===Bo||Ae===tc)throw Ae;var Ze=Hn(29,Ae,null,K.mode);return Ze.lanes=ue,Ze.return=K,Ze}finally{}}}var za=z_(!0),F_=z_(!1),Hi=!1;function Jh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ki(a,s,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(rt&2)!==0){var v=p.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),p.pending=s,s=Ju(a),T_(a,null,u),s}return Yu(a,p,s,u),Ju(a)}function cl(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Ob(a,u)}}function Xh(a,s){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?v=_=s:_=_.next=s}else v=_=s;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Qh=!1;function fl(){if(Qh){var a=Lo;if(a!==null)throw a}}function dl(a,s,u,p){Qh=!1;var v=a.updateQueue;Hi=!1;var _=v.firstBaseUpdate,N=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var q=P,W=q.next;q.next=null,N===null?_=W:N.next=W,N=q;var le=a.alternate;le!==null&&(le=le.updateQueue,P=le.lastBaseUpdate,P!==N&&(P===null?le.firstBaseUpdate=W:P.next=W,le.lastBaseUpdate=q))}if(_!==null){var de=v.baseState;N=0,le=W=q=null,P=_;do{var Q=P.lane&-536870913,re=Q!==P.lane;if(re?(Ye&Q)===Q:(p&Q)===Q){Q!==0&&Q===Uo&&(Qh=!0),le!==null&&(le=le.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var xe=a,Me=P;Q=s;var ct=u;switch(Me.tag){case 1:if(xe=Me.payload,typeof xe=="function"){de=xe.call(ct,de,Q);break e}de=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Me.payload,Q=typeof xe=="function"?xe.call(ct,de,Q):xe,Q==null)break e;de=g({},de,Q);break e;case 2:Hi=!0}}Q=P.callback,Q!==null&&(a.flags|=64,re&&(a.flags|=8192),re=v.callbacks,re===null?v.callbacks=[Q]:re.push(Q))}else re={lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},le===null?(W=le=re,q=de):le=le.next=re,N|=Q;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;re=P,P=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);le===null&&(q=de),v.baseState=q,v.firstBaseUpdate=W,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),Qi|=N,a.lanes=N,a.memoizedState=de}}function G_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function $_(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)G_(u[a],s)}var jo=G(null),ac=G(0);function H_(a,s){a=hi,X(ac,a),X(jo,s),hi=a|s.baseLanes}function Zh(){X(ac,hi),X(jo,jo.current)}function ep(){hi=ac.current,j(jo),j(ac)}var Vn=G(null),hr=null;function Yi(a){var s=a.alternate;X(qt,qt.current&1),X(Vn,a),hr===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(hr=a)}function tp(a){X(qt,qt.current),X(Vn,a),hr===null&&(hr=a)}function V_(a){a.tag===22?(X(qt,qt.current),X(Vn,a),hr===null&&(hr=a)):Ji()}function Ji(){X(qt,qt.current),X(Vn,Vn.current)}function Kn(a){j(Vn),hr===a&&(hr=null),j(qt)}var qt=G(0);function oc(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||sm(u)||lm(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ai=0,qe=null,lt=null,Vt=null,sc=!1,zo=!1,Fa=!1,lc=0,hl=0,Fo=null,O2=0;function Ut(){throw Error(r(321))}function np(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!$n(a[u],s[u]))return!1;return!0}function rp(a,s,u,p,v,_){return ai=_,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=a===null||a.memoizedState===null?Rw:vp,Fa=!1,_=u(p,v),Fa=!1,zo&&(_=Y_(s,u,p,v)),K_(a),_}function K_(a){Y.H=gl;var s=lt!==null&&lt.next!==null;if(ai=0,Vt=lt=qe=null,sc=!1,hl=0,Fo=null,s)throw Error(r(300));a===null||Kt||(a=a.dependencies,a!==null&&Qu(a)&&(Kt=!0))}function Y_(a,s,u,p){qe=a;var v=0;do{if(zo&&(Fo=null),hl=0,zo=!1,25<=v)throw Error(r(301));if(v+=1,Vt=lt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=Iw,_=s(u,p)}while(zo);return _}function D2(){var a=Y.H,s=a.useState()[0];return s=typeof s.then=="function"?pl(s):s,a=a.useState()[0],(lt!==null?lt.memoizedState:null)!==a&&(qe.flags|=1024),s}function ip(){var a=lc!==0;return lc=0,a}function ap(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function op(a){if(sc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}sc=!1}ai=0,Vt=lt=qe=null,zo=!1,hl=lc=0,Fo=null}function Rn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?qe.memoizedState=Vt=a:Vt=Vt.next=a,Vt}function jt(){if(lt===null){var a=qe.alternate;a=a!==null?a.memoizedState:null}else a=lt.next;var s=Vt===null?qe.memoizedState:Vt.next;if(s!==null)Vt=s,lt=a;else{if(a===null)throw qe.alternate===null?Error(r(467)):Error(r(310));lt=a,a={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?qe.memoizedState=Vt=a:Vt=Vt.next=a}return Vt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(a){var s=hl;return hl+=1,Fo===null&&(Fo=[]),a=B_(Fo,a,s),s=qe,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?Rw:vp),a}function cc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return pl(a);if(a.$$typeof===M)return bn(a)}throw Error(r(438,String(a)))}function sp(a){var s=null,u=qe.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var p=qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=uc(),qe.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),p=0;p<a;p++)u[p]=fe;return s.index++,u}function oi(a,s){return typeof s=="function"?s(a):s}function fc(a){var s=jt();return lp(s,lt,a)}function lp(a,s,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=a.baseQueue,_=p.pending;if(_!==null){if(v!==null){var N=v.next;v.next=_.next,_.next=N}s.baseQueue=v=_,p.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{s=v.next;var P=N=null,q=null,W=s,le=!1;do{var de=W.lane&-536870913;if(de!==W.lane?(Ye&de)===de:(ai&de)===de){var Q=W.revertLane;if(Q===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),de===Uo&&(le=!0);else if((ai&Q)===Q){W=W.next,Q===Uo&&(le=!0);continue}else de={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(P=q=de,N=_):q=q.next=de,qe.lanes|=Q,Qi|=Q;de=W.action,Fa&&u(_,de),_=W.hasEagerState?W.eagerState:u(_,de)}else Q={lane:de,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(P=q=Q,N=_):q=q.next=Q,qe.lanes|=de,Qi|=de;W=W.next}while(W!==null&&W!==s);if(q===null?N=_:q.next=P,!$n(_,a.memoizedState)&&(Kt=!0,le&&(u=Lo,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=q,p.lastRenderedState=_}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function up(a){var s=jt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,v=u.pending,_=s.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do _=a(_,N.action),N=N.next;while(N!==v);$n(_,s.memoizedState)||(Kt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,p]}function J_(a,s,u){var p=qe,v=jt(),_=We;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var N=!$n((lt||v).memoizedState,u);if(N&&(v.memoizedState=u,Kt=!0),v=v.queue,dp(Q_.bind(null,p,v,a),[a]),v.getSnapshot!==s||N||Vt!==null&&Vt.memoizedState.tag&1){if(p.flags|=2048,Go(9,{destroy:void 0},X_.bind(null,p,v,u,s),null),ht===null)throw Error(r(349));_||(ai&127)!==0||W_(p,s,u)}return u}function W_(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=qe.updateQueue,s===null?(s=uc(),qe.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function X_(a,s,u,p){s.value=u,s.getSnapshot=p,Z_(s)&&ew(a)}function Q_(a,s,u){return u(function(){Z_(s)&&ew(a)})}function Z_(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!$n(a,u)}catch{return!0}}function ew(a){var s=Oa(a,2);s!==null&&Bn(s,a,2)}function cp(a){var s=Rn();if(typeof a=="function"){var u=a;if(a=u(),Fa){Z(!0);try{u()}finally{Z(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},s}function tw(a,s,u,p){return a.baseState=u,lp(a,lt,typeof p=="function"?p:oi)}function k2(a,s,u,p,v){if(pc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};Y.T!==null?u(!0):_.isTransition=!1,p(_),u=s.pending,u===null?(_.next=s.pending=_,nw(s,_)):(_.next=u.next,s.pending=u.next=_)}}function nw(a,s){var u=s.action,p=s.payload,v=a.state;if(s.isTransition){var _=Y.T,N={};Y.T=N;try{var P=u(v,p),q=Y.S;q!==null&&q(N,P),rw(a,s,P)}catch(W){fp(a,s,W)}finally{_!==null&&N.types!==null&&(_.types=N.types),Y.T=_}}else try{_=u(v,p),rw(a,s,_)}catch(W){fp(a,s,W)}}function rw(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){iw(a,s,p)},function(p){return fp(a,s,p)}):iw(a,s,u)}function iw(a,s,u){s.status="fulfilled",s.value=u,aw(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,nw(a,u)))}function fp(a,s,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=u,aw(s),s=s.next;while(s!==p)}a.action=null}function aw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function ow(a,s){return s}function sw(a,s){if(We){var u=ht.formState;if(u!==null){e:{var p=qe;if(We){if(_t){t:{for(var v=_t,_=dr;v.nodeType!==8;){if(!_){v=null;break t}if(v=pr(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){_t=pr(v.nextSibling),p=v.data==="F!";break e}}Gi(p)}p=!1}p&&(s=u[0])}}return u=Rn(),u.memoizedState=u.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ow,lastRenderedState:s},u.queue=p,u=Aw.bind(null,qe,p),p.dispatch=u,p=cp(!1),_=yp.bind(null,qe,!1,p.queue),p=Rn(),v={state:s,dispatch:null,action:a,pending:null},p.queue=v,u=k2.bind(null,qe,v,_,u),v.dispatch=u,p.memoizedState=a,[s,u,!1]}function lw(a){var s=jt();return uw(s,lt,a)}function uw(a,s,u){if(s=lp(a,s,ow)[0],a=fc(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=pl(s)}catch(N){throw N===Bo?tc:N}else p=s;s=jt();var v=s.queue,_=v.dispatch;return u!==s.memoizedState&&(qe.flags|=2048,Go(9,{destroy:void 0},U2.bind(null,v,u),null)),[p,_,a]}function U2(a,s){a.action=s}function cw(a){var s=jt(),u=lt;if(u!==null)return uw(s,u,a);jt(),s=s.memoizedState,u=jt();var p=u.queue.dispatch;return u.memoizedState=a,[s,p,!1]}function Go(a,s,u,p){return a={tag:a,create:u,deps:p,inst:s,next:null},s=qe.updateQueue,s===null&&(s=uc(),qe.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,s.lastEffect=a),a}function fw(){return jt().memoizedState}function dc(a,s,u,p){var v=Rn();qe.flags|=a,v.memoizedState=Go(1|s,{destroy:void 0},u,p===void 0?null:p)}function hc(a,s,u,p){var v=jt();p=p===void 0?null:p;var _=v.memoizedState.inst;lt!==null&&p!==null&&np(p,lt.memoizedState.deps)?v.memoizedState=Go(s,_,u,p):(qe.flags|=a,v.memoizedState=Go(1|s,_,u,p))}function dw(a,s){dc(8390656,8,a,s)}function dp(a,s){hc(2048,8,a,s)}function L2(a){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=uc(),qe.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function hw(a){var s=jt().memoizedState;return L2({ref:s,nextImpl:a}),function(){if((rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function pw(a,s){return hc(4,2,a,s)}function mw(a,s){return hc(4,4,a,s)}function gw(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function yw(a,s,u){u=u!=null?u.concat([a]):null,hc(4,4,gw.bind(null,s,a),u)}function hp(){}function vw(a,s){var u=jt();s=s===void 0?null:s;var p=u.memoizedState;return s!==null&&np(s,p[1])?p[0]:(u.memoizedState=[a,s],a)}function bw(a,s){var u=jt();s=s===void 0?null:s;var p=u.memoizedState;if(s!==null&&np(s,p[1]))return p[0];if(p=a(),Fa){Z(!0);try{a()}finally{Z(!1)}}return u.memoizedState=[p,s],p}function pp(a,s,u){return u===void 0||(ai&1073741824)!==0&&(Ye&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=_E(),qe.lanes|=a,Qi|=a,u)}function _w(a,s,u,p){return $n(u,s)?u:jo.current!==null?(a=pp(a,u,p),$n(a,s)||(Kt=!0),a):(ai&42)===0||(ai&1073741824)!==0&&(Ye&261930)===0?(Kt=!0,a.memoizedState=u):(a=_E(),qe.lanes|=a,Qi|=a,s)}function ww(a,s,u,p,v){var _=he.p;he.p=_!==0&&8>_?_:8;var N=Y.T,P={};Y.T=P,yp(a,!1,s,u);try{var q=v(),W=Y.S;if(W!==null&&W(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var le=P2(q,p);ml(a,s,le,Wn(a))}else ml(a,s,p,Wn(a))}catch(de){ml(a,s,{then:function(){},status:"rejected",reason:de},Wn())}finally{he.p=_,N!==null&&P.types!==null&&(N.types=P.types),Y.T=N}}function B2(){}function mp(a,s,u,p){if(a.tag!==5)throw Error(r(476));var v=Ew(a).queue;ww(a,v,s,ve,u===null?B2:function(){return xw(a),u(p)})}function Ew(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ve},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function xw(a){var s=Ew(a);s.next===null&&(s=a.alternate.memoizedState),ml(a,s.next.queue,{},Wn())}function gp(){return bn(Pl)}function Sw(){return jt().memoizedState}function Tw(){return jt().memoizedState}function q2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Wn();a=Vi(u);var p=Ki(s,a,u);p!==null&&(Bn(p,s,u),cl(p,s,u)),s={cache:Hh()},a.payload=s;return}s=s.return}}function j2(a,s,u){var p=Wn();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pc(a)?Cw(s,u):(u=Dh(a,s,u,p),u!==null&&(Bn(u,a,p),Nw(u,s,p)))}function Aw(a,s,u){var p=Wn();ml(a,s,u,p)}function ml(a,s,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(pc(a))Cw(s,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,P=_(N,u);if(v.hasEagerState=!0,v.eagerState=P,$n(P,N))return Yu(a,s,v,0),ht===null&&Ku(),!1}catch{}finally{}if(u=Dh(a,s,v,p),u!==null)return Bn(u,a,p),Nw(u,s,p),!0}return!1}function yp(a,s,u,p){if(p={lane:2,revertLane:Jp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},pc(a)){if(s)throw Error(r(479))}else s=Dh(a,u,p,2),s!==null&&Bn(s,a,2)}function pc(a){var s=a.alternate;return a===qe||s!==null&&s===qe}function Cw(a,s){zo=sc=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function Nw(a,s,u){if((u&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Ob(a,u)}}var gl={readContext:bn,use:cc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};gl.useEffectEvent=Ut;var Rw={readContext:bn,use:cc,useCallback:function(a,s){return Rn().memoizedState=[a,s===void 0?null:s],a},useContext:bn,useEffect:dw,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,dc(4194308,4,gw.bind(null,s,a),u)},useLayoutEffect:function(a,s){return dc(4194308,4,a,s)},useInsertionEffect:function(a,s){dc(4,2,a,s)},useMemo:function(a,s){var u=Rn();s=s===void 0?null:s;var p=a();if(Fa){Z(!0);try{a()}finally{Z(!1)}}return u.memoizedState=[p,s],p},useReducer:function(a,s,u){var p=Rn();if(u!==void 0){var v=u(s);if(Fa){Z(!0);try{u(s)}finally{Z(!1)}}}else v=s;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=j2.bind(null,qe,a),[p.memoizedState,a]},useRef:function(a){var s=Rn();return a={current:a},s.memoizedState=a},useState:function(a){a=cp(a);var s=a.queue,u=Aw.bind(null,qe,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:hp,useDeferredValue:function(a,s){var u=Rn();return pp(u,a,s)},useTransition:function(){var a=cp(!1);return a=ww.bind(null,qe,a.queue,!0,!1),Rn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var p=qe,v=Rn();if(We){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),ht===null)throw Error(r(349));(Ye&127)!==0||W_(p,s,u)}v.memoizedState=u;var _={value:u,getSnapshot:s};return v.queue=_,dw(Q_.bind(null,p,_,a),[a]),p.flags|=2048,Go(9,{destroy:void 0},X_.bind(null,p,_,u,s),null),u},useId:function(){var a=Rn(),s=ht.identifierPrefix;if(We){var u=zr,p=jr;u=(p&~(1<<32-se(p)-1)).toString(32)+u,s="_"+s+"R_"+u,u=lc++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=O2++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:gp,useFormState:sw,useActionState:sw,useOptimistic:function(a){var s=Rn();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=yp.bind(null,qe,!0,u),u.dispatch=s,[a,s]},useMemoCache:sp,useCacheRefresh:function(){return Rn().memoizedState=q2.bind(null,qe)},useEffectEvent:function(a){var s=Rn(),u={impl:a};return s.memoizedState=u,function(){if((rt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},vp={readContext:bn,use:cc,useCallback:vw,useContext:bn,useEffect:dp,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:bw,useReducer:fc,useRef:fw,useState:function(){return fc(oi)},useDebugValue:hp,useDeferredValue:function(a,s){var u=jt();return _w(u,lt.memoizedState,a,s)},useTransition:function(){var a=fc(oi)[0],s=jt().memoizedState;return[typeof a=="boolean"?a:pl(a),s]},useSyncExternalStore:J_,useId:Sw,useHostTransitionStatus:gp,useFormState:lw,useActionState:lw,useOptimistic:function(a,s){var u=jt();return tw(u,lt,a,s)},useMemoCache:sp,useCacheRefresh:Tw};vp.useEffectEvent=hw;var Iw={readContext:bn,use:cc,useCallback:vw,useContext:bn,useEffect:dp,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:bw,useReducer:up,useRef:fw,useState:function(){return up(oi)},useDebugValue:hp,useDeferredValue:function(a,s){var u=jt();return lt===null?pp(u,a,s):_w(u,lt.memoizedState,a,s)},useTransition:function(){var a=up(oi)[0],s=jt().memoizedState;return[typeof a=="boolean"?a:pl(a),s]},useSyncExternalStore:J_,useId:Sw,useHostTransitionStatus:gp,useFormState:cw,useActionState:cw,useOptimistic:function(a,s){var u=jt();return lt!==null?tw(u,lt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:sp,useCacheRefresh:Tw};Iw.useEffectEvent=hw;function bp(a,s,u,p){s=a.memoizedState,u=u(p,s),u=u==null?s:g({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var _p={enqueueSetState:function(a,s,u){a=a._reactInternals;var p=Wn(),v=Vi(p);v.payload=s,u!=null&&(v.callback=u),s=Ki(a,v,p),s!==null&&(Bn(s,a,p),cl(s,a,p))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var p=Wn(),v=Vi(p);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Ki(a,v,p),s!==null&&(Bn(s,a,p),cl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Wn(),p=Vi(u);p.tag=2,s!=null&&(p.callback=s),s=Ki(a,p,u),s!==null&&(Bn(s,a,u),cl(s,a,u))}};function Mw(a,s,u,p,v,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,N):s.prototype&&s.prototype.isPureReactComponent?!nl(u,p)||!nl(v,_):!0}function Pw(a,s,u,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==a&&_p.enqueueReplaceState(s,s.state,null)}function Ga(a,s){var u=s;if("ref"in s){u={};for(var p in s)p!=="ref"&&(u[p]=s[p])}if(a=a.defaultProps){u===s&&(u=g({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Ow(a){Vu(a)}function Dw(a){console.error(a)}function kw(a){Vu(a)}function mc(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function Uw(a,s,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function wp(a,s,u){return u=Vi(u),u.tag=3,u.payload={element:null},u.callback=function(){mc(a,s)},u}function Lw(a){return a=Vi(a),a.tag=3,a}function Bw(a,s,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=p.value;a.payload=function(){return v(_)},a.callback=function(){Uw(s,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Uw(s,u,p),typeof v!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function z2(a,s,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=u.alternate,s!==null&&ko(s,u,v,!0),u=Vn.current,u!==null){switch(u.tag){case 31:case 13:return hr===null?Cc():u.alternate===null&&Lt===0&&(Lt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===nc?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([p]):s.add(p),Vp(a,p,v)),!1;case 22:return u.flags|=65536,p===nc?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([p]):u.add(p)),Vp(a,p,v)),!1}throw Error(r(435,u.tag))}return Vp(a,p,v),Cc(),!1}if(We)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,p!==jh&&(a=Error(r(422),{cause:p}),al(ur(a,u)))):(p!==jh&&(s=Error(r(423),{cause:p}),al(ur(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=ur(p,u),v=wp(a.stateNode,p,v),Xh(a,v),Lt!==4&&(Lt=2)),!1;var _=Error(r(520),{cause:p});if(_=ur(_,u),Sl===null?Sl=[_]:Sl.push(_),Lt!==4&&(Lt=2),s===null)return!0;p=ur(p,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=wp(u.stateNode,p,a),Xh(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zi===null||!Zi.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Lw(v),Bw(v,a,u,p),Xh(u,v),!1}u=u.return}while(u!==null);return!1}var Ep=Error(r(461)),Kt=!1;function _n(a,s,u,p){s.child=a===null?F_(s,null,u,p):za(s,a.child,u,p)}function qw(a,s,u,p,v){u=u.render;var _=s.ref;if("ref"in p){var N={};for(var P in p)P!=="ref"&&(N[P]=p[P])}else N=p;return La(s),p=rp(a,s,u,N,_,v),P=ip(),a!==null&&!Kt?(ap(a,s,v),si(a,s,v)):(We&&P&&Bh(s),s.flags|=1,_n(a,s,p,v),s.child)}function jw(a,s,u,p,v){if(a===null){var _=u.type;return typeof _=="function"&&!kh(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,zw(a,s,_,p,v)):(a=Wu(u.type,null,p,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Ip(a,v)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:nl,u(N,p)&&a.ref===s.ref)return si(a,s,v)}return s.flags|=1,a=ti(_,p),a.ref=s.ref,a.return=s,s.child=a}function zw(a,s,u,p,v){if(a!==null){var _=a.memoizedProps;if(nl(_,p)&&a.ref===s.ref)if(Kt=!1,s.pendingProps=p=_,Ip(a,v))(a.flags&131072)!==0&&(Kt=!0);else return s.lanes=a.lanes,si(a,s,v)}return xp(a,s,u,p,v)}function Fw(a,s,u,p){var v=p.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(p=s.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~_}else p=0,s.child=null;return Gw(a,s,_,u,p)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ec(s,_!==null?_.cachePool:null),_!==null?H_(s,_):Zh(),V_(s);else return p=s.lanes=536870912,Gw(a,s,_!==null?_.baseLanes|u:u,u,p)}else _!==null?(ec(s,_.cachePool),H_(s,_),Ji(),s.memoizedState=null):(a!==null&&ec(s,null),Zh(),Ji());return _n(a,s,v,u),s.child}function yl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Gw(a,s,u,p,v){var _=Kh();return _=_===null?null:{parent:Ht._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&ec(s,null),Zh(),V_(s),a!==null&&ko(a,s,p,!0),s.childLanes=v,null}function gc(a,s){return s=vc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function $w(a,s,u){return za(s,a.child,null,u),a=gc(s,s.pendingProps),a.flags|=2,Kn(s),s.memoizedState=null,a}function F2(a,s,u){var p=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(We){if(p.mode==="hidden")return a=gc(s,p),s.lanes=536870912,yl(null,a);if(tp(s),(a=_t)?(a=nx(a,dr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:zi!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},u=C_(a),u.return=s,s.child=u,vn=s,_t=null)):a=null,a===null)throw Gi(s);return s.lanes=536870912,null}return gc(s,p)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(tp(s),v)if(s.flags&256)s.flags&=-257,s=$w(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Kt||ko(a,s,u,!1),v=(u&a.childLanes)!==0,Kt||v){if(p=ht,p!==null&&(N=Db(p,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,Oa(a,N),Bn(p,a,N),Ep;Cc(),s=$w(a,s,u)}else a=_.treeContext,_t=pr(N.nextSibling),vn=s,We=!0,Fi=null,dr=!1,a!==null&&I_(s,a),s=gc(s,p),s.flags|=4096;return s}return a=ti(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function yc(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function xp(a,s,u,p,v){return La(s),u=rp(a,s,u,p,void 0,v),p=ip(),a!==null&&!Kt?(ap(a,s,v),si(a,s,v)):(We&&p&&Bh(s),s.flags|=1,_n(a,s,u,v),s.child)}function Hw(a,s,u,p,v,_){return La(s),s.updateQueue=null,u=Y_(s,p,u,v),K_(a),p=ip(),a!==null&&!Kt?(ap(a,s,_),si(a,s,_)):(We&&p&&Bh(s),s.flags|=1,_n(a,s,u,_),s.child)}function Vw(a,s,u,p,v){if(La(s),s.stateNode===null){var _=Mo,N=u.contextType;typeof N=="object"&&N!==null&&(_=bn(N)),_=new u(p,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=_p,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=p,_.state=s.memoizedState,_.refs={},Jh(s),N=u.contextType,_.context=typeof N=="object"&&N!==null?bn(N):Mo,_.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(bp(s,u,N,p),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&_p.enqueueReplaceState(_,_.state,null),dl(s,p,_,v),fl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){_=s.stateNode;var P=s.memoizedProps,q=Ga(u,P);_.props=q;var W=_.context,le=u.contextType;N=Mo,typeof le=="object"&&le!==null&&(N=bn(le));var de=u.getDerivedStateFromProps;le=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P||W!==N)&&Pw(s,_,p,N),Hi=!1;var Q=s.memoizedState;_.state=Q,dl(s,p,_,v),fl(),W=s.memoizedState,P||Q!==W||Hi?(typeof de=="function"&&(bp(s,u,de,p),W=s.memoizedState),(q=Hi||Mw(s,u,q,p,Q,W,N))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=W),_.props=p,_.state=W,_.context=N,p=q):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{_=s.stateNode,Wh(a,s),N=s.memoizedProps,le=Ga(u,N),_.props=le,de=s.pendingProps,Q=_.context,W=u.contextType,q=Mo,typeof W=="object"&&W!==null&&(q=bn(W)),P=u.getDerivedStateFromProps,(W=typeof P=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==de||Q!==q)&&Pw(s,_,p,q),Hi=!1,Q=s.memoizedState,_.state=Q,dl(s,p,_,v),fl();var re=s.memoizedState;N!==de||Q!==re||Hi||a!==null&&a.dependencies!==null&&Qu(a.dependencies)?(typeof P=="function"&&(bp(s,u,P,p),re=s.memoizedState),(le=Hi||Mw(s,u,le,p,Q,re,q)||a!==null&&a.dependencies!==null&&Qu(a.dependencies))?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,re,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,re,q)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=re),_.props=p,_.state=re,_.context=q,p=le):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),p=!1)}return _=p,yc(a,s),p=(s.flags&128)!==0,_||p?(_=s.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&p?(s.child=za(s,a.child,null,v),s.child=za(s,null,u,v)):_n(a,s,u,v),s.memoizedState=_.state,a=s.child):a=si(a,s,v),a}function Kw(a,s,u,p){return ka(),s.flags|=256,_n(a,s,u,p),s.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(a){return{baseLanes:a,cachePool:U_()}}function Ap(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Jn),a}function Yw(a,s,u){var p=s.pendingProps,v=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(qt.current&2)!==0),N&&(v=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(We){if(v?Yi(s):Ji(),(a=_t)?(a=nx(a,dr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:zi!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},u=C_(a),u.return=s,s.child=u,vn=s,_t=null)):a=null,a===null)throw Gi(s);return lm(a)?s.lanes=32:s.lanes=536870912,null}var P=p.children;return p=p.fallback,v?(Ji(),v=s.mode,P=vc({mode:"hidden",children:P},v),p=Da(p,v,u,null),P.return=s,p.return=s,P.sibling=p,s.child=P,p=s.child,p.memoizedState=Tp(u),p.childLanes=Ap(a,N,u),s.memoizedState=Sp,yl(null,p)):(Yi(s),Cp(s,P))}var q=a.memoizedState;if(q!==null&&(P=q.dehydrated,P!==null)){if(_)s.flags&256?(Yi(s),s.flags&=-257,s=Np(a,s,u)):s.memoizedState!==null?(Ji(),s.child=a.child,s.flags|=128,s=null):(Ji(),P=p.fallback,v=s.mode,p=vc({mode:"visible",children:p.children},v),P=Da(P,v,u,null),P.flags|=2,p.return=s,P.return=s,p.sibling=P,s.child=p,za(s,a.child,null,u),p=s.child,p.memoizedState=Tp(u),p.childLanes=Ap(a,N,u),s.memoizedState=Sp,s=yl(null,p));else if(Yi(s),lm(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var W=N.dgst;N=W,p=Error(r(419)),p.stack="",p.digest=N,al({value:p,source:null,stack:null}),s=Np(a,s,u)}else if(Kt||ko(a,s,u,!1),N=(u&a.childLanes)!==0,Kt||N){if(N=ht,N!==null&&(p=Db(N,u),p!==0&&p!==q.retryLane))throw q.retryLane=p,Oa(a,p),Bn(N,a,p),Ep;sm(P)||Cc(),s=Np(a,s,u)}else sm(P)?(s.flags|=192,s.child=a.child,s=null):(a=q.treeContext,_t=pr(P.nextSibling),vn=s,We=!0,Fi=null,dr=!1,a!==null&&I_(s,a),s=Cp(s,p.children),s.flags|=4096);return s}return v?(Ji(),P=p.fallback,v=s.mode,q=a.child,W=q.sibling,p=ti(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,W!==null?P=ti(W,P):(P=Da(P,v,u,null),P.flags|=2),P.return=s,p.return=s,p.sibling=P,s.child=p,yl(null,p),p=s.child,P=a.child.memoizedState,P===null?P=Tp(u):(v=P.cachePool,v!==null?(q=Ht._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=U_(),P={baseLanes:P.baseLanes|u,cachePool:v}),p.memoizedState=P,p.childLanes=Ap(a,N,u),s.memoizedState=Sp,yl(a.child,p)):(Yi(s),u=a.child,a=u.sibling,u=ti(u,{mode:"visible",children:p.children}),u.return=s,u.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=u,s.memoizedState=null,u)}function Cp(a,s){return s=vc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function vc(a,s){return a=Hn(22,a,null,s),a.lanes=0,a}function Np(a,s,u){return za(s,a.child,null,u),a=Cp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Jw(a,s,u){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Gh(a.return,s,u)}function Rp(a,s,u,p,v,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=v,N.treeForkCount=_)}function Ww(a,s,u){var p=s.pendingProps,v=p.revealOrder,_=p.tail;p=p.children;var N=qt.current,P=(N&2)!==0;if(P?(N=N&1|2,s.flags|=128):N&=1,X(qt,N),_n(a,s,p,u),p=We?il:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Jw(a,u,s);else if(a.tag===19)Jw(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&oc(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),Rp(s,!1,v,u,_,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&oc(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Rp(s,!0,u,null,_,p);break;case"together":Rp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function si(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Qi|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(ko(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=ti(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=ti(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Ip(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Qu(a)))}function G2(a,s,u){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),$i(s,Ht,a.memoizedState.cache),ka();break;case 27:case 5:oe(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:$i(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Yi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Yw(a,s,u):(Yi(s),a=si(a,s,u),a!==null?a.sibling:null);Yi(s);break;case 19:var v=(a.flags&128)!==0;if(p=(u&s.childLanes)!==0,p||(ko(a,s,u,!1),p=(u&s.childLanes)!==0),v){if(p)return Ww(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(qt,qt.current),p)break;return null;case 22:return s.lanes=0,Fw(a,s,u,s.pendingProps);case 24:$i(s,Ht,a.memoizedState.cache)}return si(a,s,u)}function Xw(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Ip(a,u)&&(s.flags&128)===0)return Kt=!1,G2(a,s,u);Kt=(a.flags&131072)!==0}else Kt=!1,We&&(s.flags&1048576)!==0&&R_(s,il,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=qa(s.elementType),s.type=a,typeof a=="function")kh(a)?(p=Ga(a,p),s.tag=1,s=Vw(null,s,a,p,u)):(s.tag=0,s=xp(null,s,a,p,u));else{if(a!=null){var v=a.$$typeof;if(v===L){s.tag=11,s=qw(null,s,a,p,u);break e}else if(v===F){s.tag=14,s=jw(null,s,a,p,u);break e}}throw s=Se(a)||a,Error(r(306,s,""))}}return s;case 0:return xp(a,s,s.type,s.pendingProps,u);case 1:return p=s.type,v=Ga(p,s.pendingProps),Vw(a,s,p,v,u);case 3:e:{if(we(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var _=s.memoizedState;v=_.element,Wh(a,s),dl(s,p,null,u);var N=s.memoizedState;if(p=N.cache,$i(s,Ht,p),p!==_.cache&&$h(s,[Ht],u,!0),fl(),p=N.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Kw(a,s,p,u);break e}else if(p!==v){v=ur(Error(r(424)),s),al(v),s=Kw(a,s,p,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(_t=pr(a.firstChild),vn=s,We=!0,Fi=null,dr=!0,u=F_(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ka(),p===v){s=si(a,s,u);break e}_n(a,s,p,u)}s=s.child}return s;case 26:return yc(a,s),a===null?(u=lx(s.type,null,s.pendingProps,null))?s.memoizedState=u:We||(u=s.type,a=s.pendingProps,p=Dc(me.current).createElement(u),p[yn]=s,p[Pn]=a,wn(p,u,a),cn(p),s.stateNode=p):s.memoizedState=lx(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return oe(s),a===null&&We&&(p=s.stateNode=ax(s.type,s.pendingProps,me.current),vn=s,dr=!0,v=_t,ra(s.type)?(um=v,_t=pr(p.firstChild)):_t=v),_n(a,s,s.pendingProps.children,u),yc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&We&&((v=p=_t)&&(p=bk(p,s.type,s.pendingProps,dr),p!==null?(s.stateNode=p,vn=s,_t=pr(p.firstChild),dr=!1,v=!0):v=!1),v||Gi(s)),oe(s),v=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,p=_.children,im(v,_)?p=null:N!==null&&im(v,N)&&(s.flags|=32),s.memoizedState!==null&&(v=rp(a,s,D2,null,null,u),Pl._currentValue=v),yc(a,s),_n(a,s,p,u),s.child;case 6:return a===null&&We&&((a=u=_t)&&(u=_k(u,s.pendingProps,dr),u!==null?(s.stateNode=u,vn=s,_t=null,a=!0):a=!1),a||Gi(s)),null;case 13:return Yw(a,s,u);case 4:return we(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=za(s,null,p,u):_n(a,s,p,u),s.child;case 11:return qw(a,s,s.type,s.pendingProps,u);case 7:return _n(a,s,s.pendingProps,u),s.child;case 8:return _n(a,s,s.pendingProps.children,u),s.child;case 12:return _n(a,s,s.pendingProps.children,u),s.child;case 10:return p=s.pendingProps,$i(s,s.type,p.value),_n(a,s,p.children,u),s.child;case 9:return v=s.type._context,p=s.pendingProps.children,La(s),v=bn(v),p=p(v),s.flags|=1,_n(a,s,p,u),s.child;case 14:return jw(a,s,s.type,s.pendingProps,u);case 15:return zw(a,s,s.type,s.pendingProps,u);case 19:return Ww(a,s,u);case 31:return F2(a,s,u);case 22:return Fw(a,s,u,s.pendingProps);case 24:return La(s),p=bn(Ht),a===null?(v=Kh(),v===null&&(v=ht,_=Hh(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),s.memoizedState={parent:p,cache:v},Jh(s),$i(s,Ht,v)):((a.lanes&u)!==0&&(Wh(a,s),dl(s,null,null,u),fl()),v=a.memoizedState,_=s.memoizedState,v.parent!==p?(v={parent:p,cache:p},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),$i(s,Ht,p)):(p=_.cache,$i(s,Ht,p),p!==v.cache&&$h(s,[Ht],u,!0))),_n(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function li(a){a.flags|=4}function Mp(a,s,u,p,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(SE())a.flags|=8192;else throw ja=nc,Yh}else a.flags&=-16777217}function Qw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!hx(s))if(SE())a.flags|=8192;else throw ja=nc,Yh}function bc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Mb():536870912,a.lanes|=s,Ko|=s)}function vl(a,s){if(!We)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function wt(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=u,s}function $2(a,s,u){var p=s.pendingProps;switch(qh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return u=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),ii(Ht),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Do(s)?li(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zh())),wt(s),null;case 26:var v=s.type,_=s.memoizedState;return a===null?(li(s),_!==null?(wt(s),Qw(s,_)):(wt(s),Mp(s,v,null,p,u))):_?_!==a.memoizedState?(li(s),wt(s),Qw(s,_)):(wt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&li(s),wt(s),Mp(s,v,a,p,u)),null;case 27:if(ye(s),u=me.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&li(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return wt(s),null}a=V.current,Do(s)?M_(s):(a=ax(v,p,u),s.stateNode=a,li(s))}return wt(s),null;case 5:if(ye(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&li(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(_=V.current,Do(s))M_(s);else{var N=Dc(me.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?N.createElement(v,{is:p.is}):N.createElement(v)}}_[yn]=s,_[Pn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(wn(_,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&li(s)}}return wt(s),Mp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&li(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=me.current,Do(s)){if(a=s.stateNode,u=s.memoizedProps,p=null,v=vn,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[yn]=s,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||YE(a.nodeValue,u)),a||Gi(s,!0)}else a=Dc(a).createTextNode(p),a[yn]=s,s.stateNode=a}return wt(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(p=Do(s),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=s}else ka(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),a=!1}else u=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Do(s),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[yn]=s}else ka(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),v=!1}else v=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=s.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==v&&(p.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),bc(s,s.updateQueue),wt(s),null);case 4:return ae(),a===null&&Zp(s.stateNode.containerInfo),wt(s),null;case 10:return ii(s.type),wt(s),null;case 19:if(j(qt),p=s.memoizedState,p===null)return wt(s),null;if(v=(s.flags&128)!==0,_=p.rendering,_===null)if(v)vl(p,!1);else{if(Lt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=oc(a),_!==null){for(s.flags|=128,vl(p,!1),a=_.updateQueue,s.updateQueue=a,bc(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)A_(u,a),u=u.sibling;return X(qt,qt.current&1|2),We&&ni(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&bt()>Sc&&(s.flags|=128,v=!0,vl(p,!1),s.lanes=4194304)}else{if(!v)if(a=oc(_),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,bc(s,a),vl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return wt(s),null}else 2*bt()-p.renderingStartTime>Sc&&u!==536870912&&(s.flags|=128,v=!0,vl(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=bt(),a.sibling=null,u=qt.current,X(qt,v?u&1|2:u&1),We&&ni(s,p.treeForkCount),a):(wt(s),null);case 22:case 23:return Kn(s),ep(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(u&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),u=s.updateQueue,u!==null&&bc(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048),a!==null&&j(Ba),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ii(Ht),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function H2(a,s){switch(qh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ii(Ht),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ye(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));ka()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Kn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ka()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return j(qt),null;case 4:return ae(),null;case 10:return ii(s.type),null;case 22:case 23:return Kn(s),ep(),a!==null&&j(Ba),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ii(Ht),null;case 25:return null;default:return null}}function Zw(a,s){switch(qh(s),s.tag){case 3:ii(Ht),ae();break;case 26:case 27:case 5:ye(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:j(qt);break;case 10:ii(s.type);break;case 22:case 23:Kn(s),ep(),a!==null&&j(Ba);break;case 24:ii(Ht)}}function bl(a,s){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&a)===a){p=void 0;var _=u.create,N=u.inst;p=_(),N.destroy=p}u=u.next}while(u!==v)}}catch(P){at(s,s.return,P)}}function Wi(a,s,u){try{var p=s.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var _=v.next;p=_;do{if((p.tag&a)===a){var N=p.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,v=s;var q=u,W=P;try{W()}catch(le){at(v,q,le)}}}p=p.next}while(p!==_)}}catch(le){at(s,s.return,le)}}function eE(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{$_(s,u)}catch(p){at(a,a.return,p)}}}function tE(a,s,u){u.props=Ga(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){at(a,s,p)}}function _l(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(v){at(a,s,v)}}function Fr(a,s){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){at(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){at(a,s,v)}else u.current=null}function nE(a){var s=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){at(a,a.return,v)}}function Pp(a,s,u){try{var p=a.stateNode;hk(p,a.type,u,s),p[Pn]=s}catch(v){at(a,a.return,v)}}function rE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ra(a.type)||a.tag===4}function Op(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||rE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ra(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dp(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Zr));else if(p!==4&&(p===27&&ra(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Dp(a,s,u),a=a.sibling;a!==null;)Dp(a,s,u),a=a.sibling}function _c(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(p!==4&&(p===27&&ra(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(_c(a,s,u),a=a.sibling;a!==null;)_c(a,s,u),a=a.sibling}function iE(a){var s=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);wn(s,p,u),s[yn]=a,s[Pn]=u}catch(_){at(a,a.return,_)}}var ui=!1,Yt=!1,kp=!1,aE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function V2(a,s){if(a=a.containerInfo,nm=zc,a=y_(a),Nh(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,P=-1,q=-1,W=0,le=0,de=a,Q=null;t:for(;;){for(var re;de!==u||v!==0&&de.nodeType!==3||(P=N+v),de!==_||p!==0&&de.nodeType!==3||(q=N+p),de.nodeType===3&&(N+=de.nodeValue.length),(re=de.firstChild)!==null;)Q=de,de=re;for(;;){if(de===a)break t;if(Q===u&&++W===v&&(P=N),Q===_&&++le===p&&(q=N),(re=de.nextSibling)!==null)break;de=Q,Q=de.parentNode}de=re}u=P===-1||q===-1?null:{start:P,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(rm={focusedElem:a,selectionRange:u},zc=!1,fn=s;fn!==null;)if(s=fn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,fn=a;else for(;fn!==null;){switch(s=fn,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,v=_.memoizedProps,_=_.memoizedState,p=u.stateNode;try{var xe=Ga(u.type,v);a=p.getSnapshotBeforeUpdate(xe,_),p.__reactInternalSnapshotBeforeUpdate=a}catch(Me){at(u,u.return,Me)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)om(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":om(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,fn=a;break}fn=s.return}}function oE(a,s,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:fi(a,u),p&4&&bl(5,u);break;case 1:if(fi(a,u),p&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(N){at(u,u.return,N)}else{var v=Ga(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){at(u,u.return,N)}}p&64&&eE(u),p&512&&_l(u,u.return);break;case 3:if(fi(a,u),p&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{$_(a,s)}catch(N){at(u,u.return,N)}}break;case 27:s===null&&p&4&&iE(u);case 26:case 5:fi(a,u),s===null&&p&4&&nE(u),p&512&&_l(u,u.return);break;case 12:fi(a,u);break;case 31:fi(a,u),p&4&&uE(a,u);break;case 13:fi(a,u),p&4&&cE(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=tk.bind(null,u),wk(a,u))));break;case 22:if(p=u.memoizedState!==null||ui,!p){s=s!==null&&s.memoizedState!==null||Yt,v=ui;var _=Yt;ui=p,(Yt=s)&&!_?di(a,u,(u.subtreeFlags&8772)!==0):fi(a,u),ui=v,Yt=_}break;case 30:break;default:fi(a,u)}}function sE(a){var s=a.alternate;s!==null&&(a.alternate=null,sE(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&fh(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var At=null,Dn=!1;function ci(a,s,u){for(u=u.child;u!==null;)lE(a,s,u),u=u.sibling}function lE(a,s,u){if(H&&typeof H.onCommitFiberUnmount=="function")try{H.onCommitFiberUnmount(k,u)}catch{}switch(u.tag){case 26:Yt||Fr(u,s),ci(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Yt||Fr(u,s);var p=At,v=Dn;ra(u.type)&&(At=u.stateNode,Dn=!1),ci(a,s,u),Rl(u.stateNode),At=p,Dn=v;break;case 5:Yt||Fr(u,s);case 6:if(p=At,v=Dn,At=null,ci(a,s,u),At=p,Dn=v,At!==null)if(Dn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(u.stateNode)}catch(_){at(u,s,_)}else try{At.removeChild(u.stateNode)}catch(_){at(u,s,_)}break;case 18:At!==null&&(Dn?(a=At,ex(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ts(a)):ex(At,u.stateNode));break;case 4:p=At,v=Dn,At=u.stateNode.containerInfo,Dn=!0,ci(a,s,u),At=p,Dn=v;break;case 0:case 11:case 14:case 15:Wi(2,u,s),Yt||Wi(4,u,s),ci(a,s,u);break;case 1:Yt||(Fr(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"&&tE(u,s,p)),ci(a,s,u);break;case 21:ci(a,s,u);break;case 22:Yt=(p=Yt)||u.memoizedState!==null,ci(a,s,u),Yt=p;break;default:ci(a,s,u)}}function uE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ts(a)}catch(u){at(s,s.return,u)}}}function cE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ts(a)}catch(u){at(s,s.return,u)}}function K2(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new aE),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new aE),s;default:throw Error(r(435,a.tag))}}function wc(a,s){var u=K2(a);s.forEach(function(p){if(!u.has(p)){u.add(p);var v=nk.bind(null,a,p);p.then(v,v)}})}function kn(a,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],_=a,N=s,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(ra(P.type)){At=P.stateNode,Dn=!1;break e}break;case 5:At=P.stateNode,Dn=!1;break e;case 3:case 4:At=P.stateNode.containerInfo,Dn=!0;break e}P=P.return}if(At===null)throw Error(r(160));lE(_,N,v),At=null,Dn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fE(s,a),s=s.sibling}var Cr=null;function fE(a,s){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:kn(s,a),Un(a),p&4&&(Wi(3,a,a.return),bl(3,a),Wi(5,a,a.return));break;case 1:kn(s,a),Un(a),p&512&&(Yt||u===null||Fr(u,u.return)),p&64&&ui&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Cr;if(kn(s,a),Un(a),p&512&&(Yt||u===null||Fr(u,u.return)),p&4){var _=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ks]||_[yn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(p),v.head.insertBefore(_,v.querySelector("head > title"))),wn(_,p,u),_[yn]=a,cn(_),p=_;break e;case"link":var N=fx("link","href",v).get(p+(u.href||""));if(N){for(var P=0;P<N.length;P++)if(_=N[P],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(P,1);break t}}_=v.createElement(p),wn(_,p,u),v.head.appendChild(_);break;case"meta":if(N=fx("meta","content",v).get(p+(u.content||""))){for(P=0;P<N.length;P++)if(_=N[P],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(P,1);break t}}_=v.createElement(p),wn(_,p,u),v.head.appendChild(_);break;default:throw Error(r(468,p))}_[yn]=a,cn(_),p=_}a.stateNode=p}else dx(v,a.type,a.stateNode);else a.stateNode=cx(v,p,a.memoizedProps);else _!==p?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,p===null?dx(v,a.type,a.stateNode):cx(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Pp(a,a.memoizedProps,u.memoizedProps)}break;case 27:kn(s,a),Un(a),p&512&&(Yt||u===null||Fr(u,u.return)),u!==null&&p&4&&Pp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(kn(s,a),Un(a),p&512&&(Yt||u===null||Fr(u,u.return)),a.flags&32){v=a.stateNode;try{So(v,"")}catch(xe){at(a,a.return,xe)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,Pp(a,v,u!==null?u.memoizedProps:v)),p&1024&&(kp=!0);break;case 6:if(kn(s,a),Un(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(xe){at(a,a.return,xe)}}break;case 3:if(Lc=null,v=Cr,Cr=kc(s.containerInfo),kn(s,a),Cr=v,Un(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ts(s.containerInfo)}catch(xe){at(a,a.return,xe)}kp&&(kp=!1,dE(a));break;case 4:p=Cr,Cr=kc(a.stateNode.containerInfo),kn(s,a),Un(a),Cr=p;break;case 12:kn(s,a),Un(a);break;case 31:kn(s,a),Un(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,wc(a,p)));break;case 13:kn(s,a),Un(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(xc=bt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,wc(a,p)));break;case 22:v=a.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,W=ui,le=Yt;if(ui=W||v,Yt=le||q,kn(s,a),Yt=le,ui=W,Un(a),p&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||q||ui||Yt||$a(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){q=u=s;try{if(_=q.stateNode,v)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=q.stateNode;var de=q.memoizedProps.style,Q=de!=null&&de.hasOwnProperty("display")?de.display:null;P.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(xe){at(q,q.return,xe)}}}else if(s.tag===6){if(u===null){q=s;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(xe){at(q,q.return,xe)}}}else if(s.tag===18){if(u===null){q=s;try{var re=q.stateNode;v?tx(re,!0):tx(q.stateNode,!1)}catch(xe){at(q,q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,wc(a,u))));break;case 19:kn(s,a),Un(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,wc(a,p)));break;case 30:break;case 21:break;default:kn(s,a),Un(a)}}function Un(a){var s=a.flags;if(s&2){try{for(var u,p=a.return;p!==null;){if(rE(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Op(a);_c(a,_,v);break;case 5:var N=u.stateNode;u.flags&32&&(So(N,""),u.flags&=-33);var P=Op(a);_c(a,P,N);break;case 3:case 4:var q=u.stateNode.containerInfo,W=Op(a);Dp(a,W,q);break;default:throw Error(r(161))}}catch(le){at(a,a.return,le)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function dE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;dE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function fi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)oE(a,s.alternate,s),s=s.sibling}function $a(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Wi(4,s,s.return),$a(s);break;case 1:Fr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&tE(s,s.return,u),$a(s);break;case 27:Rl(s.stateNode);case 26:case 5:Fr(s,s.return),$a(s);break;case 22:s.memoizedState===null&&$a(s);break;case 30:$a(s);break;default:$a(s)}a=a.sibling}}function di(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,v=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:di(v,_,u),bl(4,_);break;case 1:if(di(v,_,u),p=_,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){at(p,p.return,W)}if(p=_,v=p.updateQueue,v!==null){var P=p.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)G_(q[v],P)}catch(W){at(p,p.return,W)}}u&&N&64&&eE(_),_l(_,_.return);break;case 27:iE(_);case 26:case 5:di(v,_,u),u&&p===null&&N&4&&nE(_),_l(_,_.return);break;case 12:di(v,_,u);break;case 31:di(v,_,u),u&&N&4&&uE(v,_);break;case 13:di(v,_,u),u&&N&4&&cE(v,_);break;case 22:_.memoizedState===null&&di(v,_,u),_l(_,_.return);break;case 30:break;default:di(v,_,u)}s=s.sibling}}function Up(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&ol(u))}function Lp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ol(a))}function Nr(a,s,u,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hE(a,s,u,p),s=s.sibling}function hE(a,s,u,p){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(a,s,u,p),v&2048&&bl(9,s);break;case 1:Nr(a,s,u,p);break;case 3:Nr(a,s,u,p),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ol(a)));break;case 12:if(v&2048){Nr(a,s,u,p),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,P=_.onPostCommit;typeof P=="function"&&P(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){at(s,s.return,q)}}else Nr(a,s,u,p);break;case 31:Nr(a,s,u,p);break;case 13:Nr(a,s,u,p);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?Nr(a,s,u,p):wl(a,s):_._visibility&2?Nr(a,s,u,p):(_._visibility|=2,$o(a,s,u,p,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Up(N,s);break;case 24:Nr(a,s,u,p),v&2048&&Lp(s.alternate,s);break;default:Nr(a,s,u,p)}}function $o(a,s,u,p,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,P=u,q=p,W=N.flags;switch(N.tag){case 0:case 11:case 15:$o(_,N,P,q,v),bl(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?$o(_,N,P,q,v):wl(_,N):(le._visibility|=2,$o(_,N,P,q,v)),v&&W&2048&&Up(N.alternate,N);break;case 24:$o(_,N,P,q,v),v&&W&2048&&Lp(N.alternate,N);break;default:$o(_,N,P,q,v)}s=s.sibling}}function wl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,p=s,v=p.flags;switch(p.tag){case 22:wl(u,p),v&2048&&Up(p.alternate,p);break;case 24:wl(u,p),v&2048&&Lp(p.alternate,p);break;default:wl(u,p)}s=s.sibling}}var El=8192;function Ho(a,s,u){if(a.subtreeFlags&El)for(a=a.child;a!==null;)pE(a,s,u),a=a.sibling}function pE(a,s,u){switch(a.tag){case 26:Ho(a,s,u),a.flags&El&&a.memoizedState!==null&&Ok(u,Cr,a.memoizedState,a.memoizedProps);break;case 5:Ho(a,s,u);break;case 3:case 4:var p=Cr;Cr=kc(a.stateNode.containerInfo),Ho(a,s,u),Cr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=El,El=16777216,Ho(a,s,u),El=p):Ho(a,s,u));break;default:Ho(a,s,u)}}function mE(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function xl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];fn=p,yE(p,a)}mE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gE(a),a=a.sibling}function gE(a){switch(a.tag){case 0:case 11:case 15:xl(a),a.flags&2048&&Wi(9,a,a.return);break;case 3:xl(a);break;case 12:xl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Ec(a)):xl(a);break;default:xl(a)}}function Ec(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];fn=p,yE(p,a)}mE(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Wi(8,s,s.return),Ec(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Ec(s));break;default:Ec(s)}a=a.sibling}}function yE(a,s){for(;fn!==null;){var u=fn;switch(u.tag){case 0:case 11:case 15:Wi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ol(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,fn=p;else e:for(u=a;fn!==null;){p=fn;var v=p.sibling,_=p.return;if(sE(p),p===u){fn=null;break e}if(v!==null){v.return=_,fn=v;break e}fn=_}}}var Y2={getCacheForType:function(a){var s=bn(Ht),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return bn(Ht).controller.signal}},J2=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,Ve=null,Ye=0,it=0,Yn=null,Xi=!1,Vo=!1,Bp=!1,hi=0,Lt=0,Qi=0,Ha=0,qp=0,Jn=0,Ko=0,Sl=null,Ln=null,jp=!1,xc=0,vE=0,Sc=1/0,Tc=null,Zi=null,tn=0,ea=null,Yo=null,pi=0,zp=0,Fp=null,bE=null,Tl=0,Gp=null;function Wn(){return(rt&2)!==0&&Ye!==0?Ye&-Ye:Y.T!==null?Jp():kb()}function _E(){if(Jn===0)if((Ye&536870912)===0||We){var a=Qe;Qe<<=1,(Qe&3932160)===0&&(Qe=262144),Jn=a}else Jn=536870912;return a=Vn.current,a!==null&&(a.flags|=32),Jn}function Bn(a,s,u){(a===ht&&(it===2||it===9)||a.cancelPendingCommit!==null)&&(Jo(a,0),ta(a,Ye,Jn,!1)),Vs(a,u),((rt&2)===0||a!==ht)&&(a===ht&&((rt&2)===0&&(Ha|=u),Lt===4&&ta(a,Ye,Jn,!1)),Gr(a))}function wE(a,s,u){if((rt&6)!==0)throw Error(r(327));var p=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Hs(a,s),v=p?Q2(a,s):Hp(a,s,!0),_=p;do{if(v===0){Vo&&!p&&ta(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!W2(u)){v=Hp(a,s,!1),_=!1;continue}if(v===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var P=a;v=Sl;var q=P.current.memoizedState.isDehydrated;if(q&&(Jo(P,N).flags|=256),N=Hp(P,N,!1),N!==2){if(Bp&&!q){P.errorRecoveryDisabledLanes|=_,Ha|=_,v=4;break e}_=Ln,Ln=v,_!==null&&(Ln===null?Ln=_:Ln.push.apply(Ln,_))}v=N}if(_=!1,v!==2)continue}}if(v===1){Jo(a,0),ta(a,s,0,!0);break}e:{switch(p=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ta(p,s,Jn,!Xi);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=xc+300-bt(),10<v)){if(ta(p,s,Jn,!Xi),ku(p,0,!0)!==0)break e;pi=s,p.timeoutHandle=QE(EE.bind(null,p,u,Ln,Tc,jp,s,Jn,Ha,Ko,Xi,_,"Throttled",-0,0),v);break e}EE(p,u,Ln,Tc,jp,s,Jn,Ha,Ko,Xi,_,null,-0,0)}}break}while(!0);Gr(a)}function EE(a,s,u,p,v,_,N,P,q,W,le,de,Q,re){if(a.timeoutHandle=-1,de=s.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zr},pE(s,_,de);var xe=(_&62914560)===_?xc-bt():(_&4194048)===_?vE-bt():0;if(xe=Dk(de,xe),xe!==null){pi=_,a.cancelPendingCommit=xe(IE.bind(null,a,s,_,u,p,v,N,P,q,le,de,null,Q,re)),ta(a,_,N,!W);return}}IE(a,s,_,u,p,v,N,P,q)}function W2(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],_=v.getSnapshot;v=v.value;try{if(!$n(_(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ta(a,s,u,p){s&=~qp,s&=~Ha,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var v=s;0<v;){var _=31-se(v),N=1<<_;p[_]=-1,v&=~N}u!==0&&Pb(a,u,s)}function Ac(){return(rt&6)===0?(Al(0),!1):!0}function $p(){if(Ve!==null){if(it===0)var a=Ve.return;else a=Ve,ri=Ua=null,op(a),qo=null,ll=0,a=Ve;for(;a!==null;)Zw(a.alternate,a),a=a.return;Ve=null}}function Jo(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,gk(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),pi=0,$p(),ht=a,Ve=u=ti(a.current,null),Ye=s,it=0,Yn=null,Xi=!1,Vo=Hs(a,s),Bp=!1,Ko=Jn=qp=Ha=Qi=Lt=0,Ln=Sl=null,jp=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var v=31-se(p),_=1<<v;s|=a[v],p&=~_}return hi=s,Ku(),u}function xE(a,s){qe=null,Y.H=gl,s===Bo||s===tc?(s=q_(),it=3):s===Yh?(s=q_(),it=4):it=s===Ep?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Ve===null&&(Lt=1,mc(a,ur(s,a.current)))}function SE(){var a=Vn.current;return a===null?!0:(Ye&4194048)===Ye?hr===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?a===hr:!1}function TE(){var a=Y.H;return Y.H=gl,a===null?gl:a}function AE(){var a=Y.A;return Y.A=Y2,a}function Cc(){Lt=4,Xi||(Ye&4194048)!==Ye&&Vn.current!==null||(Vo=!0),(Qi&134217727)===0&&(Ha&134217727)===0||ht===null||ta(ht,Ye,Jn,!1)}function Hp(a,s,u){var p=rt;rt|=2;var v=TE(),_=AE();(ht!==a||Ye!==s)&&(Tc=null,Jo(a,s)),s=!1;var N=Lt;e:do try{if(it!==0&&Ve!==null){var P=Ve,q=Yn;switch(it){case 8:$p(),N=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var W=it;if(it=0,Yn=null,Wo(a,P,q,W),u&&Vo){N=0;break e}break;default:W=it,it=0,Yn=null,Wo(a,P,q,W)}}X2(),N=Lt;break}catch(le){xE(a,le)}while(!0);return s&&a.shellSuspendCounter++,ri=Ua=null,rt=p,Y.H=v,Y.A=_,Ve===null&&(ht=null,Ye=0,Ku()),N}function X2(){for(;Ve!==null;)CE(Ve)}function Q2(a,s){var u=rt;rt|=2;var p=TE(),v=AE();ht!==a||Ye!==s?(Tc=null,Sc=bt()+500,Jo(a,s)):Vo=Hs(a,s);e:do try{if(it!==0&&Ve!==null){s=Ve;var _=Yn;t:switch(it){case 1:it=0,Yn=null,Wo(a,s,_,1);break;case 2:case 9:if(L_(_)){it=0,Yn=null,NE(s);break}s=function(){it!==2&&it!==9||ht!==a||(it=7),Gr(a)},_.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:L_(_)?(it=0,Yn=null,NE(s)):(it=0,Yn=null,Wo(a,s,_,7));break;case 5:var N=null;switch(Ve.tag){case 26:N=Ve.memoizedState;case 5:case 27:var P=Ve;if(N?hx(N):P.stateNode.complete){it=0,Yn=null;var q=P.sibling;if(q!==null)Ve=q;else{var W=P.return;W!==null?(Ve=W,Nc(W)):Ve=null}break t}}it=0,Yn=null,Wo(a,s,_,5);break;case 6:it=0,Yn=null,Wo(a,s,_,6);break;case 8:$p(),Lt=6;break e;default:throw Error(r(462))}}Z2();break}catch(le){xE(a,le)}while(!0);return ri=Ua=null,Y.H=p,Y.A=v,rt=u,Ve!==null?0:(ht=null,Ye=0,Ku(),Lt)}function Z2(){for(;Ve!==null&&!Dt();)CE(Ve)}function CE(a){var s=Xw(a.alternate,a,hi);a.memoizedProps=a.pendingProps,s===null?Nc(a):Ve=s}function NE(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=Hw(u,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=Hw(u,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:op(s);default:Zw(u,s),s=Ve=A_(s,hi),s=Xw(u,s,hi)}a.memoizedProps=a.pendingProps,s===null?Nc(a):Ve=s}function Wo(a,s,u,p){ri=Ua=null,op(s),qo=null,ll=0;var v=s.return;try{if(z2(a,v,s,u,Ye)){Lt=1,mc(a,ur(u,a.current)),Ve=null;return}}catch(_){if(v!==null)throw Ve=v,_;Lt=1,mc(a,ur(u,a.current)),Ve=null;return}s.flags&32768?(We||p===1?a=!0:Vo||(Ye&536870912)!==0?a=!1:(Xi=a=!0,(p===2||p===9||p===3||p===6)&&(p=Vn.current,p!==null&&p.tag===13&&(p.flags|=16384))),RE(s,a)):Nc(s)}function Nc(a){var s=a;do{if((s.flags&32768)!==0){RE(s,Xi);return}a=s.return;var u=$2(s.alternate,s,hi);if(u!==null){Ve=u;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=a}while(s!==null);Lt===0&&(Lt=5)}function RE(a,s){do{var u=H2(a.alternate,a);if(u!==null){u.flags&=32767,Ve=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=u}while(a!==null);Lt=6,Ve=null}function IE(a,s,u,p,v,_,N,P,q){a.cancelPendingCommit=null;do Rc();while(tn!==0);if((rt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Oh,PD(a,u,_,N,P,q),a===ht&&(Ve=ht=null,Ye=0),Yo=s,ea=a,pi=u,zp=_,Fp=v,bE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,rk(Gn,function(){return kE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,v=he.p,he.p=2,N=rt,rt|=4;try{V2(a,s,u)}finally{rt=N,he.p=v,Y.T=p}}tn=1,ME(),PE(),OE()}}function ME(){if(tn===1){tn=0;var a=ea,s=Yo,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var p=he.p;he.p=2;var v=rt;rt|=4;try{fE(s,a);var _=rm,N=y_(a.containerInfo),P=_.focusedElem,q=_.selectionRange;if(N!==P&&P&&P.ownerDocument&&g_(P.ownerDocument.documentElement,P)){if(q!==null&&Nh(P)){var W=q.start,le=q.end;if(le===void 0&&(le=W),"selectionStart"in P)P.selectionStart=W,P.selectionEnd=Math.min(le,P.value.length);else{var de=P.ownerDocument||document,Q=de&&de.defaultView||window;if(Q.getSelection){var re=Q.getSelection(),xe=P.textContent.length,Me=Math.min(q.start,xe),ct=q.end===void 0?Me:Math.min(q.end,xe);!re.extend&&Me>ct&&(N=ct,ct=Me,Me=N);var K=m_(P,Me),$=m_(P,ct);if(K&&$&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==$.node||re.focusOffset!==$.offset)){var J=de.createRange();J.setStart(K.node,K.offset),re.removeAllRanges(),Me>ct?(re.addRange(J),re.extend($.node,$.offset)):(J.setEnd($.node,$.offset),re.addRange(J))}}}}for(de=[],re=P;re=re.parentNode;)re.nodeType===1&&de.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<de.length;P++){var ue=de[P];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}zc=!!nm,rm=nm=null}finally{rt=v,he.p=p,Y.T=u}}a.current=s,tn=2}}function PE(){if(tn===2){tn=0;var a=ea,s=Yo,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var p=he.p;he.p=2;var v=rt;rt|=4;try{oE(a,s.alternate,s)}finally{rt=v,he.p=p,Y.T=u}}tn=3}}function OE(){if(tn===4||tn===3){tn=0,$t();var a=ea,s=Yo,u=pi,p=bE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Yo=ea=null,DE(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Zi=null),uh(u),s=s.stateNode,H&&typeof H.onCommitFiberRoot=="function")try{H.onCommitFiberRoot(k,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=Y.T,v=he.p,he.p=2,Y.T=null;try{for(var _=a.onRecoverableError,N=0;N<p.length;N++){var P=p[N];_(P.value,{componentStack:P.stack})}}finally{Y.T=s,he.p=v}}(pi&3)!==0&&Rc(),Gr(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Gp?Tl++:(Tl=0,Gp=a):Tl=0,Al(0)}}function DE(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,ol(s)))}function Rc(){return ME(),PE(),OE(),kE()}function kE(){if(tn!==5)return!1;var a=ea,s=zp;zp=0;var u=uh(pi),p=Y.T,v=he.p;try{he.p=32>u?32:u,Y.T=null,u=Fp,Fp=null;var _=ea,N=pi;if(tn=0,Yo=ea=null,pi=0,(rt&6)!==0)throw Error(r(331));var P=rt;if(rt|=4,gE(_.current),hE(_,_.current,N,u),rt=P,Al(0,!1),H&&typeof H.onPostCommitFiberRoot=="function")try{H.onPostCommitFiberRoot(k,_)}catch{}return!0}finally{he.p=v,Y.T=p,DE(a,s)}}function UE(a,s,u){s=ur(u,s),s=wp(a.stateNode,s,2),a=Ki(a,s,2),a!==null&&(Vs(a,2),Gr(a))}function at(a,s,u){if(a.tag===3)UE(a,a,u);else for(;s!==null;){if(s.tag===3){UE(s,a,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Zi===null||!Zi.has(p))){a=ur(u,a),u=Lw(2),p=Ki(s,u,2),p!==null&&(Bw(u,p,s,a),Vs(p,2),Gr(p));break}}s=s.return}}function Vp(a,s,u){var p=a.pingCache;if(p===null){p=a.pingCache=new J2;var v=new Set;p.set(s,v)}else v=p.get(s),v===void 0&&(v=new Set,p.set(s,v));v.has(u)||(Bp=!0,v.add(u),a=ek.bind(null,a,s,u),s.then(a,a))}function ek(a,s,u){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ht===a&&(Ye&u)===u&&(Lt===4||Lt===3&&(Ye&62914560)===Ye&&300>bt()-xc?(rt&2)===0&&Jo(a,0):qp|=u,Ko===Ye&&(Ko=0)),Gr(a)}function LE(a,s){s===0&&(s=Mb()),a=Oa(a,s),a!==null&&(Vs(a,s),Gr(a))}function tk(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),LE(a,u)}function nk(a,s){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),LE(a,u)}function rk(a,s){return un(a,s)}var Ic=null,Xo=null,Kp=!1,Mc=!1,Yp=!1,na=0;function Gr(a){a!==Xo&&a.next===null&&(Xo===null?Ic=Xo=a:Xo=Xo.next=a),Mc=!0,Kp||(Kp=!0,ak())}function Al(a,s){if(!Yp&&Mc){Yp=!0;do for(var u=!1,p=Ic;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var _=0;else{var N=p.suspendedLanes,P=p.pingedLanes;_=(1<<31-se(42|a)+1)-1,_&=v&~(N&~P),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,zE(p,_))}else _=Ye,_=ku(p,p===ht?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Hs(p,_)||(u=!0,zE(p,_));p=p.next}while(u);Yp=!1}}function ik(){BE()}function BE(){Mc=Kp=!1;var a=0;na!==0&&mk()&&(a=na);for(var s=bt(),u=null,p=Ic;p!==null;){var v=p.next,_=qE(p,s);_===0?(p.next=null,u===null?Ic=v:u.next=v,v===null&&(Xo=u)):(u=p,(a!==0||(_&3)!==0)&&(Mc=!0)),p=v}tn!==0&&tn!==5||Al(a),na!==0&&(na=0)}function qE(a,s){for(var u=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-se(_),P=1<<N,q=v[N];q===-1?((P&u)===0||(P&p)!==0)&&(v[N]=MD(P,s)):q<=s&&(a.expiredLanes|=P),_&=~P}if(s=ht,u=Ye,u=ku(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===s&&(it===2||it===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Tn(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Hs(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(p!==null&&Tn(p),uh(u)){case 2:case 8:u=Bi;break;case 32:u=Gn;break;case 268435456:u=O;break;default:u=Gn}return p=jE.bind(null,a),u=un(u,p),a.callbackPriority=s,a.callbackNode=u,s}return p!==null&&p!==null&&Tn(p),a.callbackPriority=2,a.callbackNode=null,2}function jE(a,s){if(tn!==0&&tn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Rc()&&a.callbackNode!==u)return null;var p=Ye;return p=ku(a,a===ht?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(wE(a,p,s),qE(a,bt()),a.callbackNode!=null&&a.callbackNode===u?jE.bind(null,a):null)}function zE(a,s){if(Rc())return null;wE(a,s,!0)}function ak(){yk(function(){(rt&6)!==0?un(kt,ik):BE()})}function Jp(){if(na===0){var a=Uo;a===0&&(a=dt,dt<<=1,(dt&261888)===0&&(dt=256)),na=a}return na}function FE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qu(""+a)}function GE(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function ok(a,s,u,p,v){if(s==="submit"&&u&&u.stateNode===v){var _=FE((v[Pn]||null).action),N=p.submitter;N&&(s=(s=N[Pn]||null)?FE(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var P=new Gu("action","action",null,p,v);a.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(na!==0){var q=N?GE(v,N):new FormData(v);mp(u,{pending:!0,data:q,method:v.method,action:_},null,q)}}else typeof _=="function"&&(P.preventDefault(),q=N?GE(v,N):new FormData(v),mp(u,{pending:!0,data:q,method:v.method,action:_},_,q))},currentTarget:v}]})}}for(var Wp=0;Wp<Ph.length;Wp++){var Xp=Ph[Wp],sk=Xp.toLowerCase(),lk=Xp[0].toUpperCase()+Xp.slice(1);Ar(sk,"on"+lk)}Ar(__,"onAnimationEnd"),Ar(w_,"onAnimationIteration"),Ar(E_,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(S2,"onTransitionRun"),Ar(T2,"onTransitionStart"),Ar(A2,"onTransitionCancel"),Ar(x_,"onTransitionEnd"),Eo("onMouseEnter",["mouseout","mouseover"]),Eo("onMouseLeave",["mouseout","mouseover"]),Eo("onPointerEnter",["pointerout","pointerover"]),Eo("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function $E(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],v=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var N=p.length-1;0<=N;N--){var P=p[N],q=P.instance,W=P.currentTarget;if(P=P.listener,q!==_&&v.isPropagationStopped())break e;_=P,v.currentTarget=W;try{_(v)}catch(le){Vu(le)}v.currentTarget=null,_=q}else for(N=0;N<p.length;N++){if(P=p[N],q=P.instance,W=P.currentTarget,P=P.listener,q!==_&&v.isPropagationStopped())break e;_=P,v.currentTarget=W;try{_(v)}catch(le){Vu(le)}v.currentTarget=null,_=q}}}}function Ke(a,s){var u=s[ch];u===void 0&&(u=s[ch]=new Set);var p=a+"__bubble";u.has(p)||(HE(s,a,2,!1),u.add(p))}function Qp(a,s,u){var p=0;s&&(p|=4),HE(u,a,p,s)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Zp(a){if(!a[Pc]){a[Pc]=!0,Bb.forEach(function(u){u!=="selectionchange"&&(uk.has(u)||Qp(u,!1,a),Qp(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Pc]||(s[Pc]=!0,Qp("selectionchange",!1,s))}}function HE(a,s,u,p){switch(_x(s)){case 2:var v=Lk;break;case 8:v=Bk;break;default:v=pm}u=v.bind(null,s,u,a),v=void 0,!bh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function em(a,s,u,p,v){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var P=p.stateNode.containerInfo;if(P===v)break;if(N===4)for(N=p.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;P!==null;){if(N=bo(P),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){p=_=N;continue e}P=P.parentNode}}p=p.return}Wb(function(){var W=_,le=yh(u),de=[];e:{var Q=S_.get(a);if(Q!==void 0){var re=Gu,xe=a;switch(a){case"keypress":if(zu(u)===0)break e;case"keydown":case"keyup":re=n2;break;case"focusin":xe="focus",re=xh;break;case"focusout":xe="blur",re=xh;break;case"beforeblur":case"afterblur":re=xh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=a2;break;case __:case w_:case E_:re=KD;break;case x_:re=s2;break;case"scroll":case"scrollend":re=FD;break;case"wheel":re=u2;break;case"copy":case"cut":case"paste":re=JD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=t_;break;case"toggle":case"beforetoggle":re=f2}var Me=(s&4)!==0,ct=!Me&&(a==="scroll"||a==="scrollend"),K=Me?Q!==null?Q+"Capture":null:Q;Me=[];for(var $=W,J;$!==null;){var ue=$;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||K===null||(ue=Js($,K),ue!=null&&Me.push(Nl($,ue,J))),ct)break;$=$.return}0<Me.length&&(Q=new re(Q,xe,null,u,le),de.push({event:Q,listeners:Me}))}}if((s&7)===0){e:{if(Q=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",Q&&u!==gh&&(xe=u.relatedTarget||u.fromElement)&&(bo(xe)||xe[vo]))break e;if((re||Q)&&(Q=le.window===le?le:(Q=le.ownerDocument)?Q.defaultView||Q.parentWindow:window,re?(xe=u.relatedTarget||u.toElement,re=W,xe=xe?bo(xe):null,xe!==null&&(ct=o(xe),Me=xe.tag,xe!==ct||Me!==5&&Me!==27&&Me!==6)&&(xe=null)):(re=null,xe=W),re!==xe)){if(Me=Zb,ue="onMouseLeave",K="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Me=t_,ue="onPointerLeave",K="onPointerEnter",$="pointer"),ct=re==null?Q:Ys(re),J=xe==null?Q:Ys(xe),Q=new Me(ue,$+"leave",re,u,le),Q.target=ct,Q.relatedTarget=J,ue=null,bo(le)===W&&(Me=new Me(K,$+"enter",xe,u,le),Me.target=J,Me.relatedTarget=ct,ue=Me),ct=ue,re&&xe)t:{for(Me=ck,K=re,$=xe,J=0,ue=K;ue;ue=Me(ue))J++;ue=0;for(var Re=$;Re;Re=Me(Re))ue++;for(;0<J-ue;)K=Me(K),J--;for(;0<ue-J;)$=Me($),ue--;for(;J--;){if(K===$||$!==null&&K===$.alternate){Me=K;break t}K=Me(K),$=Me($)}Me=null}else Me=null;re!==null&&VE(de,Q,re,Me,!1),xe!==null&&ct!==null&&VE(de,ct,xe,Me,!0)}}e:{if(Q=W?Ys(W):window,re=Q.nodeName&&Q.nodeName.toLowerCase(),re==="select"||re==="input"&&Q.type==="file")var Ze=u_;else if(s_(Q))if(c_)Ze=w2;else{Ze=b2;var Ae=v2}else re=Q.nodeName,!re||re.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?W&&mh(W.elementType)&&(Ze=u_):Ze=_2;if(Ze&&(Ze=Ze(a,W))){l_(de,Ze,u,le);break e}Ae&&Ae(a,Q,W),a==="focusout"&&W&&Q.type==="number"&&W.memoizedProps.value!=null&&ph(Q,"number",Q.value)}switch(Ae=W?Ys(W):window,a){case"focusin":(s_(Ae)||Ae.contentEditable==="true")&&(No=Ae,Rh=W,rl=null);break;case"focusout":rl=Rh=No=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,v_(de,u,le);break;case"selectionchange":if(x2)break;case"keydown":case"keyup":v_(de,u,le)}var ze;if(Th)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Co?a_(a,u)&&(Je="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(n_&&u.locale!=="ko"&&(Co||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Co&&(ze=Xb()):(ji=le,_h="value"in ji?ji.value:ji.textContent,Co=!0)),Ae=Oc(W,Je),0<Ae.length&&(Je=new e_(Je,a,null,u,le),de.push({event:Je,listeners:Ae}),ze?Je.data=ze:(ze=o_(u),ze!==null&&(Je.data=ze)))),(ze=h2?p2(a,u):m2(a,u))&&(Je=Oc(W,"onBeforeInput"),0<Je.length&&(Ae=new e_("onBeforeInput","beforeinput",null,u,le),de.push({event:Ae,listeners:Je}),Ae.data=ze)),ok(de,a,W,u,le)}$E(de,s)})}function Nl(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Oc(a,s){for(var u=s+"Capture",p=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Js(a,u),v!=null&&p.unshift(Nl(a,v,_)),v=Js(a,s),v!=null&&p.push(Nl(a,v,_))),a.tag===3)return p;a=a.return}return[]}function ck(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function VE(a,s,u,p,v){for(var _=s._reactName,N=[];u!==null&&u!==p;){var P=u,q=P.alternate,W=P.stateNode;if(P=P.tag,q!==null&&q===p)break;P!==5&&P!==26&&P!==27||W===null||(q=W,v?(W=Js(u,_),W!=null&&N.unshift(Nl(u,W,q))):v||(W=Js(u,_),W!=null&&N.push(Nl(u,W,q)))),u=u.return}N.length!==0&&a.push({event:s,listeners:N})}var fk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function KE(a){return(typeof a=="string"?a:""+a).replace(fk,`
`).replace(dk,"")}function YE(a,s){return s=KE(s),KE(a)===s}function ut(a,s,u,p,v,_){switch(u){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||So(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&So(a,""+p);break;case"className":Lu(a,"class",p);break;case"tabIndex":Lu(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Lu(a,u,p);break;case"style":Yb(a,p,_);break;case"data":if(s!=="object"){Lu(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=qu(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&ut(a,s,"name",v.name,v,null),ut(a,s,"formEncType",v.formEncType,v,null),ut(a,s,"formMethod",v.formMethod,v,null),ut(a,s,"formTarget",v.formTarget,v,null)):(ut(a,s,"encType",v.encType,v,null),ut(a,s,"method",v.method,v,null),ut(a,s,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=qu(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Zr);break;case"onScroll":p!=null&&Ke("scroll",a);break;case"onScrollEnd":p!=null&&Ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=qu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Ke("beforetoggle",a),Ke("toggle",a),Uu(a,"popover",p);break;case"xlinkActuate":Qr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Qr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Qr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Qr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Qr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Qr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Qr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Uu(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=jD.get(u)||u,Uu(a,u,p))}}function tm(a,s,u,p,v,_){switch(u){case"style":Yb(a,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?So(a,p):(typeof p=="number"||typeof p=="bigint")&&So(a,""+p);break;case"onScroll":p!=null&&Ke("scroll",a);break;case"onScrollEnd":p!=null&&Ke("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),_=a[Pn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,v),typeof p=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,p,v);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Uu(a,u,p)}}}function wn(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",a),Ke("load",a);var p=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(a,s,_,N,u,null)}}v&&ut(a,s,"srcSet",u.srcSet,u,null),p&&ut(a,s,"src",u.src,u,null);return;case"input":Ke("invalid",a);var P=_=N=v=null,q=null,W=null;for(p in u)if(u.hasOwnProperty(p)){var le=u[p];if(le!=null)switch(p){case"name":v=le;break;case"type":N=le;break;case"checked":q=le;break;case"defaultChecked":W=le;break;case"value":_=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:ut(a,s,p,le,u,null)}}$b(a,_,P,q,W,N,v,!1);return;case"select":Ke("invalid",a),p=N=_=null;for(v in u)if(u.hasOwnProperty(v)&&(P=u[v],P!=null))switch(v){case"value":_=P;break;case"defaultValue":N=P;break;case"multiple":p=P;default:ut(a,s,v,P,u,null)}s=_,u=N,a.multiple=!!p,s!=null?xo(a,!!p,s,!1):u!=null&&xo(a,!!p,u,!0);return;case"textarea":Ke("invalid",a),_=v=p=null;for(N in u)if(u.hasOwnProperty(N)&&(P=u[N],P!=null))switch(N){case"value":p=P;break;case"defaultValue":v=P;break;case"children":_=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:ut(a,s,N,P,u,null)}Vb(a,p,v,_);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(p=u[q],p!=null))switch(q){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ut(a,s,q,p,u,null)}return;case"dialog":Ke("beforetoggle",a),Ke("toggle",a),Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":Ke("load",a);break;case"video":case"audio":for(p=0;p<Cl.length;p++)Ke(Cl[p],a);break;case"image":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"embed":case"source":case"link":Ke("error",a),Ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(p=u[W],p!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(a,s,W,p,u,null)}return;default:if(mh(s)){for(le in u)u.hasOwnProperty(le)&&(p=u[le],p!==void 0&&tm(a,s,le,p,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(p=u[P],p!=null&&ut(a,s,P,p,u,null))}function hk(a,s,u,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,N=null,P=null,q=null,W=null,le=null;for(re in u){var de=u[re];if(u.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=de;default:p.hasOwnProperty(re)||ut(a,s,re,null,p,de)}}for(var Q in p){var re=p[Q];if(de=u[Q],p.hasOwnProperty(Q)&&(re!=null||de!=null))switch(Q){case"type":_=re;break;case"name":v=re;break;case"checked":W=re;break;case"defaultChecked":le=re;break;case"value":N=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==de&&ut(a,s,Q,re,p,de)}}hh(a,N,P,q,W,le,_,v);return;case"select":re=N=P=Q=null;for(_ in u)if(q=u[_],u.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":re=q;default:p.hasOwnProperty(_)||ut(a,s,_,null,p,q)}for(v in p)if(_=p[v],q=u[v],p.hasOwnProperty(v)&&(_!=null||q!=null))switch(v){case"value":Q=_;break;case"defaultValue":P=_;break;case"multiple":N=_;default:_!==q&&ut(a,s,v,_,p,q)}s=P,u=N,p=re,Q!=null?xo(a,!!u,Q,!1):!!p!=!!u&&(s!=null?xo(a,!!u,s,!0):xo(a,!!u,u?[]:"",!1));return;case"textarea":re=Q=null;for(P in u)if(v=u[P],u.hasOwnProperty(P)&&v!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ut(a,s,P,null,p,v)}for(N in p)if(v=p[N],_=u[N],p.hasOwnProperty(N)&&(v!=null||_!=null))switch(N){case"value":Q=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&ut(a,s,N,v,p,_)}Hb(a,Q,re);return;case"option":for(var xe in u)if(Q=u[xe],u.hasOwnProperty(xe)&&Q!=null&&!p.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:ut(a,s,xe,null,p,Q)}for(q in p)if(Q=p[q],re=u[q],p.hasOwnProperty(q)&&Q!==re&&(Q!=null||re!=null))switch(q){case"selected":a.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ut(a,s,q,Q,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in u)Q=u[Me],u.hasOwnProperty(Me)&&Q!=null&&!p.hasOwnProperty(Me)&&ut(a,s,Me,null,p,Q);for(W in p)if(Q=p[W],re=u[W],p.hasOwnProperty(W)&&Q!==re&&(Q!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:ut(a,s,W,Q,p,re)}return;default:if(mh(s)){for(var ct in u)Q=u[ct],u.hasOwnProperty(ct)&&Q!==void 0&&!p.hasOwnProperty(ct)&&tm(a,s,ct,void 0,p,Q);for(le in p)Q=p[le],re=u[le],!p.hasOwnProperty(le)||Q===re||Q===void 0&&re===void 0||tm(a,s,le,Q,p,re);return}}for(var K in u)Q=u[K],u.hasOwnProperty(K)&&Q!=null&&!p.hasOwnProperty(K)&&ut(a,s,K,null,p,Q);for(de in p)Q=p[de],re=u[de],!p.hasOwnProperty(de)||Q===re||Q==null&&re==null||ut(a,s,de,Q,p,re)}function JE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pk(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],_=v.transferSize,N=v.initiatorType,P=v.duration;if(_&&P&&JE(N)){for(N=0,P=v.responseEnd,p+=1;p<u.length;p++){var q=u[p],W=q.startTime;if(W>P)break;var le=q.transferSize,de=q.initiatorType;le&&JE(de)&&(q=q.responseEnd,N+=le*(q<P?1:(P-W)/(q-W)))}if(--p,s+=8*(_+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var nm=null,rm=null;function Dc(a){return a.nodeType===9?a:a.ownerDocument}function WE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XE(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function im(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var am=null;function mk(){var a=window.event;return a&&a.type==="popstate"?a===am?!1:(am=a,!0):(am=null,!1)}var QE=typeof setTimeout=="function"?setTimeout:void 0,gk=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(a){return ZE.resolve(null).then(a).catch(vk)}:QE;function vk(a){setTimeout(function(){throw a})}function ra(a){return a==="head"}function ex(a,s){var u=s,p=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(v),ts(s);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Rl(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Rl(u);for(var _=u.firstChild;_;){var N=_.nextSibling,P=_.nodeName;_[Ks]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&Rl(a.ownerDocument.body);u=v}while(u);ts(s)}function tx(a,s){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function om(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":om(u),fh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function bk(a,s,u,p){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Ks])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=pr(a.nextSibling),a===null)break}return null}function _k(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=pr(a.nextSibling),a===null))return null;return a}function nx(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=pr(a.nextSibling),a===null))return null;return a}function sm(a){return a.data==="$?"||a.data==="$~"}function lm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function wk(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var p=function(){s(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function pr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var um=null;function rx(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return pr(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function ix(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function ax(a,s,u){switch(s=Dc(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Rl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);fh(a)}var mr=new Map,ox=new Set;function kc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var mi=he.d;he.d={f:Ek,r:xk,D:Sk,C:Tk,L:Ak,m:Ck,X:Rk,S:Nk,M:Ik};function Ek(){var a=mi.f(),s=Ac();return a||s}function xk(a){var s=_o(a);s!==null&&s.tag===5&&s.type==="form"?xw(s):mi.r(a)}var Qo=typeof document>"u"?null:document;function sx(a,s,u){var p=Qo;if(p&&typeof s=="string"&&s){var v=sr(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),ox.has(v)||(ox.add(v),a={rel:a,crossOrigin:u,href:s},p.querySelector(v)===null&&(s=p.createElement("link"),wn(s,"link",a),cn(s),p.head.appendChild(s)))}}function Sk(a){mi.D(a),sx("dns-prefetch",a,null)}function Tk(a,s){mi.C(a,s),sx("preconnect",a,s)}function Ak(a,s,u){mi.L(a,s,u);var p=Qo;if(p&&a&&s){var v='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+sr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+sr(u.imageSizes)+'"]')):v+='[href="'+sr(a)+'"]';var _=v;switch(s){case"style":_=Zo(a);break;case"script":_=es(a)}mr.has(_)||(a=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),mr.set(_,a),p.querySelector(v)!==null||s==="style"&&p.querySelector(Il(_))||s==="script"&&p.querySelector(Ml(_))||(s=p.createElement("link"),wn(s,"link",a),cn(s),p.head.appendChild(s)))}}function Ck(a,s){mi.m(a,s);var u=Qo;if(u&&a){var p=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+sr(p)+'"][href="'+sr(a)+'"]',_=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=es(a)}if(!mr.has(_)&&(a=g({rel:"modulepreload",href:a},s),mr.set(_,a),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ml(_)))return}p=u.createElement("link"),wn(p,"link",a),cn(p),u.head.appendChild(p)}}}function Nk(a,s,u){mi.S(a,s,u);var p=Qo;if(p&&a){var v=wo(p).hoistableStyles,_=Zo(a);s=s||"default";var N=v.get(_);if(!N){var P={loading:0,preload:null};if(N=p.querySelector(Il(_)))P.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},u),(u=mr.get(_))&&cm(a,u);var q=N=p.createElement("link");cn(q),wn(q,"link",a),q._p=new Promise(function(W,le){q.onload=W,q.onerror=le}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Uc(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:P},v.set(_,N)}}}function Rk(a,s){mi.X(a,s);var u=Qo;if(u&&a){var p=wo(u).hoistableScripts,v=es(a),_=p.get(v);_||(_=u.querySelector(Ml(v)),_||(a=g({src:a,async:!0},s),(s=mr.get(v))&&fm(a,s),_=u.createElement("script"),cn(_),wn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(v,_))}}function Ik(a,s){mi.M(a,s);var u=Qo;if(u&&a){var p=wo(u).hoistableScripts,v=es(a),_=p.get(v);_||(_=u.querySelector(Ml(v)),_||(a=g({src:a,async:!0,type:"module"},s),(s=mr.get(v))&&fm(a,s),_=u.createElement("script"),cn(_),wn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(v,_))}}function lx(a,s,u,p){var v=(v=me.current)?kc(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Zo(u.href),u=wo(v).hoistableStyles,p=u.get(s),p||(p={type:"style",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Zo(u.href);var _=wo(v).hoistableStyles,N=_.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=v.querySelector(Il(a)))&&!_._p&&(N.instance=_,N.state.loading=5),mr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mr.set(a,u),_||Mk(v,a,u,N.state))),s&&p===null)throw Error(r(528,""));return N}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=es(u),u=wo(v).hoistableScripts,p=u.get(s),p||(p={type:"script",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Zo(a){return'href="'+sr(a)+'"'}function Il(a){return'link[rel="stylesheet"]['+a+"]"}function ux(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function Mk(a,s,u,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),wn(s,"link",u),cn(s),a.head.appendChild(s))}function es(a){return'[src="'+sr(a)+'"]'}function Ml(a){return"script[async]"+a}function cx(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+sr(u.href)+'"]');if(p)return s.instance=p,cn(p),p;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),cn(p),wn(p,"style",v),Uc(p,u.precedence,a),s.instance=p;case"stylesheet":v=Zo(u.href);var _=a.querySelector(Il(v));if(_)return s.state.loading|=4,s.instance=_,cn(_),_;p=ux(u),(v=mr.get(v))&&cm(p,v),_=(a.ownerDocument||a).createElement("link"),cn(_);var N=_;return N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),wn(_,"link",p),s.state.loading|=4,Uc(_,u.precedence,a),s.instance=_;case"script":return _=es(u.src),(v=a.querySelector(Ml(_)))?(s.instance=v,cn(v),v):(p=u,(v=mr.get(_))&&(p=g({},u),fm(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),cn(v),wn(v,"link",p),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Uc(p,u.precedence,a));return s.instance}function Uc(a,s,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,_=v,N=0;N<p.length;N++){var P=p[N];if(P.dataset.precedence===s)_=P;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function cm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function fm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Lc=null;function fx(a,s,u){if(Lc===null){var p=new Map,v=Lc=new Map;v.set(u,p)}else v=Lc,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[Ks]||_[yn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var P=p.get(N);P?P.push(_):p.set(N,[_])}}return p}function dx(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function Pk(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Ok(a,s,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Zo(p.href),_=s.querySelector(Il(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Bc.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,cn(_);return}_=s.ownerDocument||s,p=ux(p),(v=mr.get(v))&&cm(p,v),_=_.createElement("link"),cn(_);var N=_;N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),wn(_,"link",p),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Bc.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var dm=0;function Dk(a,s){return a.stylesheets&&a.count===0&&jc(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&jc(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&dm===0&&(dm=62500*pk());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&jc(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>dm?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var qc=null;function jc(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,qc=new Map,s.forEach(kk,a),qc=null,Bc.call(a))}function kk(a,s){if(!(s.state.loading&4)){var u=qc.get(a);if(u)var p=u.get(null);else{u=new Map,qc.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var N=v[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}v=s.instance,N=v.getAttribute("data-precedence"),_=u.get(N)||p,_===p&&u.set(null,v),u.set(N,v),this.count++,p=Bc.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var Pl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Uk(a,s,u,p,v,_,N,P,q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.hiddenUpdates=sh(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function px(a,s,u,p,v,_,N,P,q,W,le,de){return a=new Uk(a,s,u,N,q,W,le,de,P),s=1,_===!0&&(s|=24),_=Hn(3,null,null,s),a.current=_,_.stateNode=a,s=Hh(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:p,isDehydrated:u,cache:s},Jh(_),a}function mx(a){return a?(a=Mo,a):Mo}function gx(a,s,u,p,v,_){v=mx(v),p.context===null?p.context=v:p.pendingContext=v,p=Vi(s),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=Ki(a,p,s),u!==null&&(Bn(u,a,s),cl(u,a,s))}function yx(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function hm(a,s){yx(a,s),(a=a.alternate)&&yx(a,s)}function vx(a){if(a.tag===13||a.tag===31){var s=Oa(a,67108864);s!==null&&Bn(s,a,67108864),hm(a,67108864)}}function bx(a){if(a.tag===13||a.tag===31){var s=Wn();s=lh(s);var u=Oa(a,s);u!==null&&Bn(u,a,s),hm(a,s)}}var zc=!0;function Lk(a,s,u,p){var v=Y.T;Y.T=null;var _=he.p;try{he.p=2,pm(a,s,u,p)}finally{he.p=_,Y.T=v}}function Bk(a,s,u,p){var v=Y.T;Y.T=null;var _=he.p;try{he.p=8,pm(a,s,u,p)}finally{he.p=_,Y.T=v}}function pm(a,s,u,p){if(zc){var v=mm(p);if(v===null)em(a,s,p,Fc,u),wx(a,p);else if(jk(v,a,s,u,p))p.stopPropagation();else if(wx(a,p),s&4&&-1<qk.indexOf(a)){for(;v!==null;){var _=_o(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Na(_.pendingLanes);if(N!==0){var P=_;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var q=1<<31-se(N);P.entanglements[1]|=q,N&=~q}Gr(_),(rt&6)===0&&(Sc=bt()+500,Al(0))}}break;case 31:case 13:P=Oa(_,2),P!==null&&Bn(P,_,2),Ac(),hm(_,2)}if(_=mm(p),_===null&&em(a,s,p,Fc,u),_===v)break;v=_}v!==null&&p.stopPropagation()}else em(a,s,p,null,u)}}function mm(a){return a=yh(a),gm(a)}var Fc=null;function gm(a){if(Fc=null,a=bo(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Fc=a,null}function _x(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case kt:return 2;case Bi:return 8;case Gn:case oh:return 32;case O:return 268435456;default:return 32}default:return 32}}var ym=!1,ia=null,aa=null,oa=null,Ol=new Map,Dl=new Map,sa=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wx(a,s){switch(a){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ol.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(s.pointerId)}}function kl(a,s,u,p,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[v]},s!==null&&(s=_o(s),s!==null&&vx(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function jk(a,s,u,p,v){switch(s){case"focusin":return ia=kl(ia,a,s,u,p,v),!0;case"dragenter":return aa=kl(aa,a,s,u,p,v),!0;case"mouseover":return oa=kl(oa,a,s,u,p,v),!0;case"pointerover":var _=v.pointerId;return Ol.set(_,kl(Ol.get(_)||null,a,s,u,p,v)),!0;case"gotpointercapture":return _=v.pointerId,Dl.set(_,kl(Dl.get(_)||null,a,s,u,p,v)),!0}return!1}function Ex(a){var s=bo(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Ub(a.priority,function(){bx(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Ub(a.priority,function(){bx(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=mm(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);gh=p,u.target.dispatchEvent(p),gh=null}else return s=_o(u),s!==null&&vx(s),a.blockedOn=u,!1;s.shift()}return!0}function xx(a,s,u){Gc(a)&&u.delete(s)}function zk(){ym=!1,ia!==null&&Gc(ia)&&(ia=null),aa!==null&&Gc(aa)&&(aa=null),oa!==null&&Gc(oa)&&(oa=null),Ol.forEach(xx),Dl.forEach(xx)}function $c(a,s){a.blockedOn===s&&(a.blockedOn=null,ym||(ym=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zk)))}var Hc=null;function Sx(a){Hc!==a&&(Hc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hc===a&&(Hc=null);for(var s=0;s<a.length;s+=3){var u=a[s],p=a[s+1],v=a[s+2];if(typeof p!="function"){if(gm(p||u)===null)continue;break}var _=_o(u);_!==null&&(a.splice(s,3),s-=3,mp(_,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function ts(a){function s(q){return $c(q,a)}ia!==null&&$c(ia,a),aa!==null&&$c(aa,a),oa!==null&&$c(oa,a),Ol.forEach(s),Dl.forEach(s);for(var u=0;u<sa.length;u++){var p=sa[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<sa.length&&(u=sa[0],u.blockedOn===null);)Ex(u),u.blockedOn===null&&sa.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],_=u[p+1],N=v[Pn]||null;if(typeof _=="function")N||Sx(u);else if(N){var P=null;if(_&&_.hasAttribute("formAction")){if(v=_,N=_[Pn]||null)P=N.formAction;else if(gm(v)!==null)continue}else P=N.action;typeof P=="function"?u[p+1]=P:(u.splice(p,3),p-=3),Sx(u)}}}function Tx(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function vm(a){this._internalRoot=a}Vc.prototype.render=vm.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,p=Wn();gx(u,p,a,s,null,null)},Vc.prototype.unmount=vm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;gx(a.current,2,null,a,null,null),Ac(),s[vo]=null}};function Vc(a){this._internalRoot=a}Vc.prototype.unstable_scheduleHydration=function(a){if(a){var s=kb();a={blockedOn:null,target:a,priority:s};for(var u=0;u<sa.length&&s!==0&&s<sa[u].priority;u++);sa.splice(u,0,a),u===0&&Ex(a)}};var Ax=e.version;if(Ax!=="19.2.0")throw Error(r(527,Ax,"19.2.0"));he.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Fk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{k=Kc.inject(Fk),H=Kc}catch{}}return Ll.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,p="",v=Ow,_=Dw,N=kw;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=px(a,1,!1,null,null,u,p,null,v,_,N,Tx),a[vo]=s.current,Zp(a),new vm(s)},Ll.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var p=!1,v="",_=Ow,N=Dw,P=kw,q=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(q=u.formState)),s=px(a,1,!0,s,u??null,p,v,q,_,N,P,Tx),s.context=mx(null),u=s.current,p=Wn(),p=lh(p),v=Vi(p),v.callback=null,Ki(u,v,p),u=p,s.current.lanes=u,Vs(s,u),Gr(s),a[vo]=s.current,Zp(a),new Vc(s)},Ll.version="19.2.0",Ll}var Ux;function aU(){if(Ux)return Em.exports;Ux=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=iU(),Em.exports}var oU=aU();const sU=Lr(oU);var In=(t=>(t.OPERATING="OPERATING",t.INVESTING="INVESTING",t.FINANCING="FINANCING",t))(In||{}),Mt=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t))(Mt||{}),Et=(t=>(t.CASH="CASH",t.RECEIVABLE="RECEIVABLE",t.PAYABLE="PAYABLE",t))(Et||{}),hn=(t=>(t.PENDING="PENDING",t.PAID="PAID",t))(hn||{}),Sn=(t=>(t.ADMIN="ADMIN",t.ACCOUNTANT="ACCOUNTANT",t.VIEWER="VIEWER",t))(Sn||{}),ha=(t=>(t.BALANCE_SHEET="Balance General",t.INCOME_STATEMENT="Estado de Resultados",t.CASH_FLOW="Flujo de Efectivo",t))(ha||{});Sn.ADMIN,Sn.ACCOUNTANT,Sn.VIEWER;const Lx={EN:{dashboard:"Dashboard",movements:"Movements",reports:"Financial Reports",settings:"Settings",notifications:"Notifications",signOut:"Sign Out",welcomeBack:"Welcome Back",signInTo:"Sign in to your account",email:"Email Address / Username",password:"Password",loginButton:"Sign In",loggingIn:"Signing in...",invalidCredentials:"Invalid username or password.",demoHint:"Default Admin:",passwordPlaceholder:"Enter your password",emailPlaceholder:"admin@email.com",haveCode:"I have an invitation code",enterCode:"Enter 4-digit Code",verifyCode:"Verify Code",backToLogin:"Back to Login",codeExpired:"This code has expired.",codeInvalid:"Invalid or expired code.",registerWithCode:"Register with Code",verifying:"Verifying...",codeVerified:"Code Verified!",financialOverview:"Financial Overview",realTimeStatus:"Real-time financial status of your business",netCashBalance:"Net Cash Balance",totalIncome:"Total Income",totalExpenses:"Total Expenses",pendingReceivables:"Pending Receivables",activityDistribution:"Activity Distribution",pendingNotifications:"Pending Notifications",noNotifications:"No pending alerts.",recentTransactions:"Recent Transactions",date:"Date",desc:"Desc",amount:"Amount",markAsRead:"Mark as Read",financialMovements:"Financial Movements",manageMovements:"Manage operational expenses, investments, and debt.",allMovements:"All Movements",accountsReceivable:"Accounts Receivable",accountsPayable:"Accounts Payable",recordMovement:"Record Movement",analyzing:"Analyzing Receipt...",scanReceipt:"Scan Receipt / Invoice",autoDetect:"Auto-detects Amount, Date & Due Date",description:"Description",movementDate:"Movement Date",accountType:"Account Type",flowType:"Flow Type",paymentDetails:"Payment Details",dueDate:"Due Date",status:"Status",activityGroup:"Activity Group",saveMovement:"Save Movement",details:"Details",action:"Action",paid:"Paid",pending:"Pending",due:"Due",noTransactions:"No transactions found in this category/range.",invoicePlaceholder:"e.g. Invoice #1024",amountOption:"Amount Type",netAmount:"Net Amount",addTax:"Add Tax (+VAT)",finalAmount:"Final Amount",financialStatements:"Financial Statements",generateReportsDesc:"Generate AI-analyzed reports based on specific periods.",periodSelection:"Period Selection",startDate:"Start Date",endDate:"End Date",generate:"Generate Reports",reportHistory:"Report History",noReports:"No reports generated.",loadingAI:"Gemini AI is calculating ratios and analyzing data...",selectRangePrompt:"Select a date range and generate a report to view details.",printPdf:"Print / PDF",statementDetails:"Statement Details",keyRatios:"Key Financial Ratios",cfoSummary:"CFO Executive Summary",generatedBy:"Generated By",generationDate:"Generation Date",authorizedSignature:"Authorized Signature",view:"View",folio:"Folio",period:"Period",type:"Type",confirmGenerateTitle:"Confirm Generation",confirmGenerateMsg:"Are you sure you want to generate this financial statement? This will record a snapshot of the current data.",cancel:"Cancel",confirm:"Confirm",transactionBreakdown:"Transaction Breakdown",r_revenues:"Revenues",r_total_revenue:"Total Revenue",r_expenses:"Expenses",r_total_expenses:"Total Expenses",r_income_before_tax:"Income Before Taxes",r_tax_provision:"Tax Provision",r_net_income:"Net Income",r_assets:"Assets",r_cash_equivalents:"Cash & Equivalents",r_accounts_receivable:"Accounts Receivable",r_fixed_assets:"Fixed Assets",r_total_assets:"Total Assets",r_liabilities:"Liabilities",r_accounts_payable:"Accounts Payable",r_long_term_debt:"Long Term Debt",r_total_liabilities:"Total Liabilities",r_equity:"Equity",r_total_equity:"Total Equity",r_total_liab_equity:"Total Liabilities + Equity",r_op_activities:"Net Cash from Operating Activities",r_inv_activities:"Net Cash from Investing Activities",r_fin_activities:"Net Cash from Financing Activities",r_net_cash_flow:"Net Increase/Decrease in Cash",ratio_gross_margin:"Gross Margin",ratio_op_margin:"Operating Margin",ratio_net_profit_margin:"Net Profit Margin",ratio_exp_revenue:"Expense-to-Revenue",ratio_tax_burden:"Tax Burden",ratio_current_ratio:"Current Ratio",ratio_debt_ratio:"Debt Ratio",ratio_debt_equity:"Debt-to-Equity",ratio_working_capital:"Working Capital",ratio_cash_ratio:"Cash Ratio",ratio_op_cash_flow:"Operating Cash Flow Ratio",ratio_free_cash_flow:"Free Cash Flow",ratio_cash_flow_cov:"Cash Flow Coverage",ratio_cash_flow_margin:"Cash Flow Margin",ratio_net_cash_change:"Net Cash Change",appSettings:"Application Settings",managePreferences:"Manage your company details and preferences.",companyInfo:"Company Information",configuration:"Configuration",uploadLogo:"Upload Logo",companyName:"Company Name",taxId:"Tax ID / RFC",businessAddress:"Business Address",taxRate:"Applicable Tax Rate (%)",taxRateDesc:"Used for income tax calculations in reports.",localization:"Localization",language:"Language",myProfile:"My Profile",saveChanges:"Save Changes",settingsSaved:"Settings saved successfully!",fullName:"Full Name",phone:"Phone Number",bio:"Bio / Position",security:"Security",changePassword:"Change Password",changePasswordDesc:"We will send a 6-digit verification code to your email to verify your identity.",sendCode:"Send Verification Code",verificationCode:"Verification Code",newPassword:"New Password",codeSent:"Verification code sent!",codeSentDesc:"Please check your email (simulated in alert) for the 6-digit code.",passwordChanged:"Password changed successfully!",invalidCode:"Invalid verification code.",verifyAndSave:"Verify & Change Password",users:"Users",manageUsers:"Manage company users",addUser:"Add User",role:"Role",actions:"Actions",userCreated:"User added successfully",userCreateError:"Failed to add user",active:"Active",inactive:"Inactive",activate:"Activate",deactivate:"Deactivate",accountInactive:"Your account is inactive. Please contact the administrator.",sendInvitation:"Generate Invitation Code",invitationSent:"Invitation Code Generated!",invitationDesc:"Share this 4-digit code with the new user. They can use it to sign up directly (Valid for 6 hours).",copyLink:"Copy Code",copied:"Copied!",close:"Close",invitationCode:"Invitation Code"},ES:{dashboard:"Panel Principal",movements:"Movimientos",reports:"Estados Financieros",settings:"Ajustes",notifications:"Notificaciones",signOut:"Cerrar Sesin",welcomeBack:"Bienvenido",signInTo:"Inicia sesin en tu cuenta",email:"Usuario / Correo",password:"Contrasea",loginButton:"Iniciar Sesin",loggingIn:"Entrando...",invalidCredentials:"Usuario o contrasea incorrectos.",demoHint:"Admin por defecto:",passwordPlaceholder:"Ingresa tu contrasea",emailPlaceholder:"admin@email.com",haveCode:"Tengo un cdigo de invitacin",enterCode:"Ingresa Cdigo de 4 Dgitos",verifyCode:"Verificar Cdigo",backToLogin:"Volver al Login",codeExpired:"Este cdigo ha expirado.",codeInvalid:"Cdigo invlido o expirado.",registerWithCode:"Registrarse con Cdigo",verifying:"Verificando...",codeVerified:"Cdigo Verificado!",financialOverview:"Resumen Financiero",realTimeStatus:"Estado financiero en tiempo real de tu negocio",netCashBalance:"Balance de Efectivo",totalIncome:"Ingresos Totales",totalExpenses:"Egresos Totales",pendingReceivables:"Cuentas por Cobrar",activityDistribution:"Distribucin de Actividad",pendingNotifications:"Notificaciones Pendientes",noNotifications:"No hay alertas pendientes.",recentTransactions:"Transacciones Recientes",date:"Fecha",desc:"Desc",amount:"Importe",markAsRead:"Marcar como Ledo",financialMovements:"Movimientos Financieros",manageMovements:"Gestiona gastos operativos, inversiones y deudas.",allMovements:"Todos",accountsReceivable:"Cuentas por Cobrar",accountsPayable:"Cuentas por Pagar",recordMovement:"Registrar Movimiento",analyzing:"Analizando Recibo...",scanReceipt:"Escanear Recibo / Factura",autoDetect:"Detecta Importe, Fecha y Vencimiento",description:"Descripcin",movementDate:"Fecha del Movimiento",accountType:"Tipo de Cuenta",flowType:"Tipo de Flujo",paymentDetails:"Detalles de Pago",dueDate:"Fecha Vencimiento",status:"Estado",activityGroup:"Grupo de Actividad",saveMovement:"Guardar Movimiento",details:"Detalles",action:"Accin",paid:"Pagado",pending:"Pendiente",due:"Vence",noTransactions:"No se encontraron movimientos en esta categora/rango.",invoicePlaceholder:"ej. Factura #1024",amountOption:"Tipo de Importe",netAmount:"Importe Neto",addTax:"Agregar IVA",finalAmount:"Importe Final",financialStatements:"Estados Financieros",generateReportsDesc:"Genera reportes analizados por IA para periodos especficos.",periodSelection:"Seleccin de Periodo",startDate:"Fecha Inicio",endDate:"Fecha Fin",generate:"Generar Reportes",reportHistory:"Historial de Reportes",noReports:"No hay reportes generados.",loadingAI:"Gemini AI est calculando ratios y analizando datos...",selectRangePrompt:"Selecciona un rango de fechas y genera un reporte para ver detalles.",printPdf:"Imprimir / PDF",statementDetails:"Detalles del Estado",keyRatios:"Ratios Financieros Clave",cfoSummary:"Resumen Ejecutivo del CFO",generatedBy:"Generado Por",generationDate:"Fecha de Generacin",authorizedSignature:"Firma Autorizada",view:"Ver",folio:"Folio",period:"Periodo",type:"Tipo",confirmGenerateTitle:"Confirmar Generacin",confirmGenerateMsg:'Ests seguro de que deseas generar este estado financiero? Esto registrar una "foto" de los datos actuales.',cancel:"Cancelar",confirm:"Confirmar",transactionBreakdown:"Desglose de Movimientos",r_revenues:"Ingresos",r_total_revenue:"Ingresos Totales",r_expenses:"Egresos",r_total_expenses:"Egresos Totales",r_income_before_tax:"Utilidad Antes de Impuestos",r_tax_provision:"Impuestos",r_net_income:"Utilidad Neta",r_assets:"Activos",r_cash_equivalents:"Efectivo y Equivalentes",r_accounts_receivable:"Cuentas por Cobrar",r_fixed_assets:"Activos Fijos",r_total_assets:"Total Activos",r_liabilities:"Pasivos",r_accounts_payable:"Cuentas por Pagar",r_long_term_debt:"Deuda a Largo Plazo",r_total_liabilities:"Total Pasivos",r_equity:"Patrimonio",r_total_equity:"Total Patrimonio",r_total_liab_equity:"Total Pasivos + Patrimonio",r_op_activities:"Flujo Neto de Actividades Operativas",r_inv_activities:"Flujo Neto de Actividades de Inversin",r_fin_activities:"Flujo Neto de Actividades Financieras",r_net_cash_flow:"Incremento/Disminucin Neto de Efectivo",ratio_gross_margin:"Margen Bruto",ratio_op_margin:"Margen Operativo",ratio_net_profit_margin:"Margen de Utilidad Neta",ratio_exp_revenue:"Gasto-Ingreso",ratio_tax_burden:"Carga Fiscal",ratio_current_ratio:"Ratio Corriente",ratio_debt_ratio:"Ratio de Endeudamiento",ratio_debt_equity:"Deuda-Patrimonio",ratio_working_capital:"Capital de Trabajo",ratio_cash_ratio:"Ratio de Efectivo",ratio_op_cash_flow:"Ratio Flujo Operativo",ratio_free_cash_flow:"Flujo de Caja Libre",ratio_cash_flow_cov:"Cobertura de Flujo",ratio_cash_flow_margin:"Margen de Flujo",ratio_net_cash_change:"Cambio Neto de Efectivo",appSettings:"Ajustes de la Aplicacin",managePreferences:"Gestiona los detalles de tu empresa y preferencias.",companyInfo:"Informacin de la Empresa",configuration:"Configuracin",uploadLogo:"Subir Logotipo",companyName:"Nombre de la Empresa",taxId:"RFC / Tax ID",businessAddress:"Direccin Comercial",taxRate:"Tasa de Impuesto Aplicable (%)",taxRateDesc:"Usado para clculos de impuestos en los reportes.",localization:"Localizacin",language:"Idioma",myProfile:"Mi Perfil",saveChanges:"Guardar Cambios",settingsSaved:"Ajustes guardados exitosamente!",fullName:"Nombre Completo",phone:"Telfono",bio:"Bio / Cargo",security:"Seguridad",changePassword:"Cambiar Contrasea",changePasswordDesc:"Enviaremos un cdigo de verificacin de 6 dgitos para verificar tu identidad.",sendCode:"Enviar Cdigo de Verificacin",verificationCode:"Cdigo de Verificacin",newPassword:"Nueva Contrasea",codeSent:"Cdigo enviado!",codeSentDesc:"Por favor revisa tu correo (simulado en alerta) para obtener el cdigo de 6 dgitos.",passwordChanged:"Contrasea actualizada exitosamente!",invalidCode:"Cdigo de verificacin invlido.",verifyAndSave:"Verificar y Cambiar",users:"Usuarios",manageUsers:"Administrar usuarios de la empresa",addUser:"Agregar Usuario",role:"Rol",actions:"Acciones",userCreated:"Usuario creado exitosamente",userCreateError:"Error al crear usuario",active:"Activo",inactive:"Inactivo",activate:"Activar",deactivate:"Desactivar",accountInactive:"Tu cuenta est inactiva. Contacta al administrador.",sendInvitation:"Generar Cdigo de Invitacin",invitationSent:"Cdigo de Invitacin Generado!",invitationDesc:"Comparte este cdigo de 4 dgitos con el nuevo usuario. Podr usarlo para registrarse directamente (Vlido por 6 horas).",copyLink:"Copiar Cdigo",copied:"Copiado!",close:"Cerrar",invitationCode:"Cdigo de Invitacin"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lU,uU;function cU(){return{geminiUrl:lU,vertexUrl:uU}}function fU(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=cU();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pi{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,e.slice(o+1),n[d])}else for(const d of f)y(d,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];y(f[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function dU(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&o.length>c)for(let f=c;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}yy(t,i,o,0,l)}}function yy(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])yy(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,h]of Object.entries(f)){const g=[];for(const b of n.slice(r))b==="*"?g.push(d):g.push(b);y(l,g,h)}for(const d of c)delete l[d]}}else{const l=t;o in l&&yy(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hU(t){const e={},n=m(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function pU(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],gU(l)),e}function mU(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],yU(l)),e}function gU(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>vU(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function yU(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>bU(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function vU(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],TU(n)),e}function bU(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],AU(n)),e}function _U(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function wU(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function EU(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],xU(l)),e}function xU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function KN(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],SU(l)),e}function SU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function TU(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Mv(r));const i=m(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function AU(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Mv(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bx;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bx||(Bx={}));var qx;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qx||(qx={}));var jx;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jx||(jx={}));var Pt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Pt||(Pt={}));var zx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zx||(zx={}));var Fx;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fx||(Fx={}));var Gx;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Gx||(Gx={}));var $x;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($x||($x={}));var Hx;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hx||(Hx={}));var Vx;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Vx||(Vx={}));var Kx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Kx||(Kx={}));var Yx;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yx||(Yx={}));var Jx;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Jx||(Jx={}));var Wx;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Wx||(Wx={}));var Xx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Xx||(Xx={}));var Qx;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qx||(Qx={}));var Zx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zx||(Zx={}));var eS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(eS||(eS={}));var tS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tS||(tS={}));var Af;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Af||(Af={}));var nS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nS||(nS={}));var rS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rS||(rS={}));var iS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iS||(iS={}));var vy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vy||(vy={}));var aS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aS||(aS={}));var oS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oS||(oS={}));var sS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sS||(sS={}));var lS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lS||(lS={}));var uS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uS||(uS={}));var cS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cS||(cS={}));var fS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(fS||(fS={}));var dS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dS||(dS={}));var hS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(hS||(hS={}));var pS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(pS||(pS={}));var mS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mS||(mS={}));var gS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gS||(gS={}));var yS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yS||(yS={}));var vS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vS||(vS={}));var bS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bS||(bS={}));var _S;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_S||(_S={}));var wS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wS||(wS={}));var ES;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ES||(ES={}));var xS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xS||(xS={}));var SS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(SS||(SS={}));var TS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(TS||(TS={}));var AS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(AS||(AS={}));var CS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CS||(CS={}));var NS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(NS||(NS={}));var RS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(RS||(RS={}));var IS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(IS||(IS={}));var MS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(MS||(MS={}));var PS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(PS||(PS={}));var OS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(OS||(OS={}));var DS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DS||(DS={}));var hs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(hs||(hs={}));class by{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bl{get text(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const b of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[w,E]of Object.entries(b))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,d+=b.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[b,w]of Object.entries(g))b!=="inlineData"&&(w!==null||w!==void 0)&&h.push(b);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class kS{}class US{}class CU{}class NU{}class RU{}class IU{}class LS{}class BS{}class qS{}class MU{}class Cf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Cf;let i;const o=e;return n?i=mU(o):i=pU(o),Object.assign(r,i),r}}class jS{}class zS{}class FS{}class PU{}class OU{}class DU{}class Pv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Pv,o=EU(e);return Object.assign(r,o),r}}class kU{}class UU{}class LU{}class GS{}class BU{get text(){var e,n,r;let i="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ov{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ov,o=KN(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function YN(t,e){const n=tt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function JN(t){return Array.isArray(t)?t.map(e=>Nf(e)):[Nf(t)]}function Nf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function WN(t){const e=Nf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XN(t){const e=Nf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $S(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function QN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$S(e)):[$S(t)]}function _y(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function HS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function VS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nn(t){if(t==null)throw new Error("ContentUnion is required");return _y(t)?t:{role:"user",parts:QN(t)}}function Dv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Nn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Nn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Nn(n)):[Nn(e)]}function wr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(HS(t)||VS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nn(t)]}const e=[],n=[],r=_y(t[0]);for(const i of t){const o=_y(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(HS(i)||VS(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:QN(n)}),e}function jU(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Pt).includes(n[0].toUpperCase())?n[0].toUpperCase():Pt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Pt).includes(r.toUpperCase())?r.toUpperCase():Pt.TYPE_UNSPECIFIED})}}function ys(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&jU(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Pt).includes(c.toUpperCase())?c.toUpperCase():Pt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=ys(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(ys(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(c))f[d]=ys(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function kv(t){return ys(t)}function Uv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Lv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ms(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ys(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ys(e.response));return t}function Ps(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function zU(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Oi(t,e){if(typeof e!="string")throw new Error("name must be a string");return zU(t,e,"cachedContents")}function ZN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ba(t){return Mv(t)}function FU(t){return t!=null&&typeof t=="object"&&"name"in t}function GU(t){return t!=null&&typeof t=="object"&&"video"in t}function $U(t){return t!=null&&typeof t=="object"&&"uri"in t}function eR(t){var e;let n;if(FU(t)&&(n=t.name),!($U(t)&&(n=t.uri,n===void 0))&&!(GU(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tR(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function nR(t){for(const e of["models","tunedModels","publisherModels"])if(HU(t,e))return t[e];return[]}function HU(t,e){return t!==null&&typeof t=="object"&&e in t}function VU(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function KU(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=VU(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function rR(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function YU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iR(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Os(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function aR(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JU(t){const e={},n=m(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>RL(l))),y(e,["inlinedResponses"],o)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["inlinedEmbedContentResponses"],o)}return e}function WU(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function XU(t){const e={},n=m(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wf(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&y(e,["state"],aR(i));const o=m(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const l=m(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const c=m(t,["metadata","updateTime"]);c!=null&&y(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&y(e,["dest"],JU(iR(d))),e}function wy(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["state"]);i!=null&&y(e,["state"],aR(i));const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["createTime"]);l!=null&&y(e,["createTime"],l);const c=m(t,["startTime"]);c!=null&&y(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&y(e,["model"],h);const g=m(t,["inputConfig"]);g!=null&&y(e,["src"],QU(g));const b=m(t,["outputConfig"]);b!=null&&y(e,["dest"],WU(iR(b)));const w=m(t,["completionStats"]);return w!=null&&y(e,["completionStats"],w),e}function QU(t){const e={},n=m(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function ZU(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>NL(t,l))),y(n,["requests","requests"],o)}return n}function eL(t){const e={},n=m(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tL(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function nL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function rL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function iL(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],aL(r));const i=m(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=m(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=m(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&y(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(w=>w)),y(e,["safetyRatings"],b)}const g=m(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function aL(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function oR(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UL(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function oL(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sL(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],XU(YU(i))),n}function KS(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["src"]);i!=null&&y(n,["batch","inputConfig"],ZU(t,rR(t,i)));const o=m(e,["config"]);return o!=null&&oL(o,n),n}function lL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],tt(t,r));const i=m(e,["src"]);i!=null&&y(n,["inputConfig"],eL(rR(t,i)));const o=m(e,["config"]);return o!=null&&sL(o,n),n}function uL(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function cL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["src"]);i!=null&&y(n,["batch","inputConfig"],yL(t,i));const o=m(e,["config"]);return o!=null&&uL(o,n),n}function fL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function dL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function hL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);return o!=null&&y(e,["error"],o),e}function pL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);return o!=null&&y(e,["error"],o),e}function mL(t,e){const n={},r=m(e,["contents"]);if(r!=null){let o=Dv(t,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=m(e,["config"]);return i!=null&&(y(n,["_self"],gL(i,n)),dU(n,{"requests[].*":"requests[].request.*"})),n}function gL(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yL(t,e){const n={},r=m(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],mL(t,i)),n}function vL(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function bL(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _L(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wL(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],oR(Nn(i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=m(e,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=m(e,["seed"]);A!=null&&y(r,["seed"],A);const S=m(e,["responseMimeType"]);S!=null&&y(r,["responseMimeType"],S);const R=m(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],kv(R));const D=m(e,["responseJsonSchema"]);if(D!=null&&y(r,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(e,["safetySettings"]);if(n!==void 0&&M!=null){let ne=M;Array.isArray(ne)&&(ne=ne.map(be=>LL(be))),y(n,["safetySettings"],ne)}const L=m(e,["tools"]);if(n!==void 0&&L!=null){let ne=Ps(L);Array.isArray(ne)&&(ne=ne.map(be=>qL(Ms(be)))),y(n,["tools"],ne)}const U=m(e,["toolConfig"]);if(n!==void 0&&U!=null&&y(n,["toolConfig"],BL(U)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=m(e,["cachedContent"]);n!==void 0&&B!=null&&y(n,["cachedContent"],Oi(t,B));const F=m(e,["responseModalities"]);F!=null&&y(r,["responseModalities"],F);const ie=m(e,["mediaResolution"]);ie!=null&&y(r,["mediaResolution"],ie);const z=m(e,["speechConfig"]);if(z!=null&&y(r,["speechConfig"],Uv(z)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=m(e,["thinkingConfig"]);fe!=null&&y(r,["thinkingConfig"],fe);const te=m(e,["imageConfig"]);return te!=null&&y(r,["imageConfig"],CL(te)),r}function EL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>iL(d))),y(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=m(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=m(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function xL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function SL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Os(t,r)),n}function TL(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function AL(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function CL(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["request","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let c=wr(i);Array.isArray(c)&&(c=c.map(f=>oR(f))),y(n,["request","contents"],c)}const o=m(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=m(e,["config"]);return l!=null&&y(n,["request","generationConfig"],wL(t,l,m(n,["request"],{}))),n}function RL(t){const e={},n=m(t,["response"]);n!=null&&y(e,["response"],EL(n));const r=m(t,["error"]);return r!=null&&y(e,["error"],r),e}function IL(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ML(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=m(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function PL(t){const e={},n=m(t,["config"]);return n!=null&&IL(n,e),e}function OL(t){const e={},n=m(t,["config"]);return n!=null&&ML(n,e),e}function DL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wf(l))),y(e,["batchJobs"],o)}return e}function kL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wy(l))),y(e,["batchJobs"],o)}return e}function UL(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],vL(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],bL(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],tL(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const h=m(t,["thought"]);h!=null&&y(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function LL(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function BL(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],_L(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function qL(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["functionDeclarations"],h)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],TL(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],AL(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ei;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ei||(Ei={}));class po{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jL extends Pi{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new po(Ei.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=KS(this.apiClient,e),r=n._url,i=_e("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const b=g.systemInstruction;delete g.systemInstruction;const w=g.request;w.systemInstruction=b,g.request=w}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lL(this.apiClient,e);return c=_e("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>wy(h))}else{const d=KS(this.apiClient,e);return c=_e("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>wf(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cL(this.apiClient,e);return o=_e("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>wf(f))}}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=SL(this.apiClient,e);return c=_e("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>wy(h))}else{const d=xL(this.apiClient,e);return c=_e("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>wf(h))}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=rL(this.apiClient,e);l=_e("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=nL(this.apiClient,e);l=_e("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=OL(e);return c=_e("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=kL(h),b=new GS;return Object.assign(b,g),b})}else{const d=PL(e);return c=_e("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=DL(h),b=new GS;return Object.assign(b,g),b})}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dL(this.apiClient,e);return c=_e("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>pL(h))}else{const d=fL(this.apiClient,e);return c=_e("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>hL(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function YS(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cB(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function FL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=m(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let h=wr(l);Array.isArray(h)&&(h=h.map(g=>YS(g))),y(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],YS(Nn(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>dB(g))),y(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],fB(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function GL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=m(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let g=wr(l);Array.isArray(g)&&(g=g.map(b=>b)),y(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],Nn(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>hB(b))),y(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function $L(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],YN(t,r));const i=m(e,["config"]);return i!=null&&FL(i,n),n}function HL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],YN(t,r));const i=m(e,["config"]);return i!=null&&GL(i,n),n}function VL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Oi(t,r)),n}function KL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Oi(t,r)),n}function YL(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function JL(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function WL(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function XL(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QL(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ZL(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function eB(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Oi(t,r)),n}function tB(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],Oi(t,r)),n}function nB(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function rB(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function iB(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function aB(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function oB(t){const e={},n=m(t,["config"]);return n!=null&&iB(n,e),e}function sB(t){const e={},n=m(t,["config"]);return n!=null&&aB(n,e),e}function lB(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function uB(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function cB(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],WL(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],XL(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],zL(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const h=m(t,["thought"]);h!=null&&y(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function fB(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],QL(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function dB(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["functionDeclarations"],h)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],nB(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],rB(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function hB(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>ZL(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function pB(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function mB(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function gB(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Oi(t,r));const i=m(e,["config"]);return i!=null&&pB(i,n),n}function yB(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Oi(t,r));const i=m(e,["config"]);return i!=null&&mB(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vB extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new po(Ei.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=HL(this.apiClient,e);return c=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=$L(this.apiClient,e);return c=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=tB(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=eB(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=KL(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=JL(h),b=new zS;return Object.assign(b,g),b})}else{const d=VL(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=YL(h),b=new zS;return Object.assign(b,g),b})}}async update(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=yB(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=gB(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=sB(e);return c=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=uB(h),b=new FS;return Object.assign(b,g),b})}else{const d=oB(e);return c=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=lB(h),b=new FS;return Object.assign(b,g),b})}}}function JS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t){return this instanceof xt?(this.v=t,this):new xt(t)}function vs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(E){return Promise.resolve(E).then(w,g)}}function c(w,E){r[w]&&(i[w]=function(A){return new Promise(function(S,R){o.push([w,A,S,R])>1||f(w,A)})},E&&(i[w]=E(i[w])))}function f(w,E){try{d(r[w](E))}catch(A){b(o[0][3],A)}}function d(w){w.value instanceof xt?Promise.resolve(w.value.v).then(h,g):b(o[0][2],w)}function h(w){f("next",w)}function g(w){f("throw",w)}function b(w,E){w(E),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Jl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JS=="function"?JS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,f){l=t[o](l),i(c,f,l.done,l.value)})}}function i(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bB(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sR(n)}function sR(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function _B(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function WS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!sR(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class wB{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new EB(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EB{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),_B(o)}async sendMessage(e){var n;await this.sendPromise;const r=Nn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let b=[];h!=null&&(b=(c=h.slice(g))!==null&&c!==void 0?c:[]);const w=d?[d]:[];this.recordHistory(r,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Nn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?WS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return vs(this,arguments,function*(){var l,c,f,d;const h=[];try{for(var g=!0,b=Jl(e),w;w=yield xt(b.next()),l=w.done,!l;g=!0){d=w.value,g=!1;const E=d;if(bB(E)){const A=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&h.push(A)}yield yield xt(E)}}catch(E){c={error:E}}finally{try{!g&&!l&&(f=b.return)&&(yield xt(f.call(b)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...WS(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xB(t){const e={},n=m(t,["file"]);return n!=null&&y(e,["file"],n),e}function SB(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function TB(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],eR(n)),e}function AB(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function CB(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],eR(n)),e}function NB(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function RB(t){const e={},n=m(t,["config"]);return n!=null&&NB(n,e),e}function IB(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MB extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new po(Ei.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=RB(e);return o=_e("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=IB(f),h=new kU;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xB(e);return o=_e("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=SB(f),h=new UU;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CB(e);return o=_e("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=TB(e);return o=_e("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=AB(f),h=new LU;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ef(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function PB(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>YB(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function OB(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function DB(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kB(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function UB(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=m(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=m(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=m(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&y(e,["responseMimeType"],w);const E=m(t,["responseModalities"]);E!=null&&y(e,["responseModalities"],E);const A=m(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const S=m(t,["routingConfig"]);S!=null&&y(e,["routingConfig"],S);const R=m(t,["seed"]);R!=null&&y(e,["seed"],R);const D=m(t,["speechConfig"]);D!=null&&y(e,["speechConfig"],lR(D));const M=m(t,["stopSequences"]);M!=null&&y(e,["stopSequences"],M);const L=m(t,["temperature"]);L!=null&&y(e,["temperature"],L);const U=m(t,["thinkingConfig"]);U!=null&&y(e,["thinkingConfig"],U);const B=m(t,["topK"]);B!=null&&y(e,["topK"],B);const F=m(t,["topP"]);if(F!=null&&y(e,["topP"],F),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function LB(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function BB(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function qB(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],Lv(g));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=m(t,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],PB(Nn(E)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let B=Ps(A);Array.isArray(B)&&(B=B.map(F=>WB(Ms(F)))),y(e,["setup","tools"],B)}const S=m(t,["sessionResumption"]);e!==void 0&&S!=null&&y(e,["setup","sessionResumption"],JB(S));const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const M=m(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&y(e,["setup","realtimeInputConfig"],M);const L=m(t,["contextWindowCompression"]);e!==void 0&&L!=null&&y(e,["setup","contextWindowCompression"],L);const U=m(t,["proactivity"]);return e!==void 0&&U!=null&&y(e,["setup","proactivity"],U),n}function jB(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],UB(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],lR(Lv(g)));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=m(t,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],Nn(E));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let B=Ps(A);Array.isArray(B)&&(B=B.map(F=>XB(Ms(F)))),y(e,["setup","tools"],B)}const S=m(t,["sessionResumption"]);e!==void 0&&S!=null&&y(e,["setup","sessionResumption"],S);const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const M=m(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&y(e,["setup","realtimeInputConfig"],M);const L=m(t,["contextWindowCompression"]);e!==void 0&&L!=null&&y(e,["setup","contextWindowCompression"],L);const U=m(t,["proactivity"]);return e!==void 0&&U!=null&&y(e,["setup","proactivity"],U),n}function zB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],tt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],qB(i,n)),n}function FB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],tt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],jB(i,n)),n}function GB(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function $B(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function HB(t){const e={},n=m(t,["media"]);if(n!=null){let d=JN(n);Array.isArray(d)&&(d=d.map(h=>Ef(h))),y(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&y(e,["audio"],Ef(XN(r)));const i=m(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=m(t,["video"]);o!=null&&y(e,["video"],Ef(WN(o)));const l=m(t,["text"]);l!=null&&y(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function VB(t){const e={},n=m(t,["media"]);if(n!=null){let d=JN(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&y(e,["audio"],XN(r));const i=m(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=m(t,["video"]);o!=null&&y(e,["video"],WN(o));const l=m(t,["text"]);l!=null&&y(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function KB(t){const e={},n=m(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=m(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const l=m(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],QB(l));const c=m(t,["goAway"]);c!=null&&y(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function YB(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],OB(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],DB(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],Ef(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const h=m(t,["thought"]);h!=null&&y(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function JB(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lR(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=m(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function WB(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["functionDeclarations"],h)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],LB(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],BB(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function XB(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>kB(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function QB(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=m(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const l=m(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const c=m(t,["totalTokenCount"]);c!=null&&y(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(E=>E)),y(e,["promptTokensDetails"],w)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(E=>E)),y(e,["cacheTokensDetails"],w)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>E)),y(e,["responseTokensDetails"],w)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(E=>E)),y(e,["toolUsePromptTokensDetails"],w)}const b=m(t,["trafficType"]);return b!=null&&y(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZB(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function eq(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],tq(r));const i=m(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=m(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=m(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&y(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(w=>w)),y(e,["safetyRatings"],b)}const g=m(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function tq(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function nq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let o=wr(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function rq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function iq(t){const e={},n=m(t,["values"]);n!=null&&y(e,["values"],n);const r=m(t,["statistics"]);return r!=null&&y(e,["statistics"],aq(r)),e}function aq(t){const e={},n=m(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=m(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function bd(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>p4(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function oq(t){const e={},n=m(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=m(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function sq(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lq(t,e){const n={},r=m(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Nn(r));const i=m(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>hR(c))),y(e,["tools"],l)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],Zq(o)),n}function uq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let l=wr(i);Array.isArray(l)&&(l=l.map(c=>bd(c))),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&sq(o),n}function cq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let l=wr(i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&lq(o,n),n}function fq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=m(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function dq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function hq(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],tt(t,r)),n}function pq(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],tt(t,r)),n}function mq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function gq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function yq(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=m(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const g=m(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&y(e,["parameters","language"],w);const E=m(t,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const A=m(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const S=m(t,["addWatermark"]);e!==void 0&&S!=null&&y(e,["parameters","addWatermark"],S);const R=m(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const D=m(t,["editMode"]);e!==void 0&&D!=null&&y(e,["parameters","editMode"],D);const M=m(t,["baseSteps"]);return e!==void 0&&M!=null&&y(e,["parameters","editConfig","baseSteps"],M),n}function vq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>_4(f))),y(n,["instances[0]","referenceImages"],c)}const l=m(e,["config"]);return l!=null&&yq(l,n),n}function bq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_d(o))),y(e,["generatedImages"],i)}return e}function _q(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wq(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const l=m(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const c=m(t,["autoTruncate"]);return e!==void 0&&c!=null&&y(e,["parameters","autoTruncate"],c),n}function Eq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let c=Dv(t,i);Array.isArray(c)&&(c=c.map(f=>f)),y(n,["requests[]","content"],c)}const o=m(e,["config"]);o!=null&&_q(o,n);const l=m(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],tt(t,l)),n}function xq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let l=Dv(t,i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const o=m(e,["config"]);return o!=null&&wq(o,n),n}function Sq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Tq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>iq(l))),y(e,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Aq(t){const e={},n=m(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=m(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function Cq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Nq(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rq(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Iq(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function Mq(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],bd(Nn(i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=m(e,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=m(e,["seed"]);A!=null&&y(r,["seed"],A);const S=m(e,["responseMimeType"]);S!=null&&y(r,["responseMimeType"],S);const R=m(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],kv(R));const D=m(e,["responseJsonSchema"]);if(D!=null&&y(r,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(e,["safetySettings"]);if(n!==void 0&&M!=null){let ne=M;Array.isArray(ne)&&(ne=ne.map(be=>w4(be))),y(n,["safetySettings"],ne)}const L=m(e,["tools"]);if(n!==void 0&&L!=null){let ne=Ps(L);Array.isArray(ne)&&(ne=ne.map(be=>N4(Ms(be)))),y(n,["tools"],ne)}const U=m(e,["toolConfig"]);if(n!==void 0&&U!=null&&y(n,["toolConfig"],C4(U)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=m(e,["cachedContent"]);n!==void 0&&B!=null&&y(n,["cachedContent"],Oi(t,B));const F=m(e,["responseModalities"]);F!=null&&y(r,["responseModalities"],F);const ie=m(e,["mediaResolution"]);ie!=null&&y(r,["mediaResolution"],ie);const z=m(e,["speechConfig"]);if(z!=null&&y(r,["speechConfig"],Uv(z)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=m(e,["thinkingConfig"]);fe!=null&&y(r,["thinkingConfig"],fe);const te=m(e,["imageConfig"]);return te!=null&&y(r,["imageConfig"],i4(te)),r}function Pq(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Nn(i));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=m(e,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=m(e,["seed"]);A!=null&&y(r,["seed"],A);const S=m(e,["responseMimeType"]);S!=null&&y(r,["responseMimeType"],S);const R=m(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],kv(R));const D=m(e,["responseJsonSchema"]);D!=null&&y(r,["responseJsonSchema"],D);const M=m(e,["routingConfig"]);M!=null&&y(r,["routingConfig"],M);const L=m(e,["modelSelectionConfig"]);L!=null&&y(r,["modelConfig"],L);const U=m(e,["safetySettings"]);if(n!==void 0&&U!=null){let Y=U;Array.isArray(Y)&&(Y=Y.map(he=>he)),y(n,["safetySettings"],Y)}const B=m(e,["tools"]);if(n!==void 0&&B!=null){let Y=Ps(B);Array.isArray(Y)&&(Y=Y.map(he=>hR(Ms(he)))),y(n,["tools"],Y)}const F=m(e,["toolConfig"]);n!==void 0&&F!=null&&y(n,["toolConfig"],F);const ie=m(e,["labels"]);n!==void 0&&ie!=null&&y(n,["labels"],ie);const z=m(e,["cachedContent"]);n!==void 0&&z!=null&&y(n,["cachedContent"],Oi(t,z));const fe=m(e,["responseModalities"]);fe!=null&&y(r,["responseModalities"],fe);const te=m(e,["mediaResolution"]);te!=null&&y(r,["mediaResolution"],te);const ne=m(e,["speechConfig"]);ne!=null&&y(r,["speechConfig"],dR(Uv(ne)));const be=m(e,["audioTimestamp"]);be!=null&&y(r,["audioTimestamp"],be);const Se=m(e,["thinkingConfig"]);Se!=null&&y(r,["thinkingConfig"],Se);const Ie=m(e,["imageConfig"]);return Ie!=null&&y(r,["imageConfig"],a4(Ie)),r}function XS(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let l=wr(i);Array.isArray(l)&&(l=l.map(c=>bd(c))),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],Mq(t,o,n)),n}function QS(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["contents"]);if(i!=null){let l=wr(i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],Pq(t,o,n)),n}function ZS(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>eq(d))),y(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=m(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=m(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function eT(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=m(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=m(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const l=m(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const c=m(t,["responseId"]);c!=null&&y(e,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function Oq(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const c=m(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=m(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=m(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=m(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const b=m(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&y(e,["parameters","outputOptions","compressionQuality"],b),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=m(t,["imageSize"]);if(e!==void 0&&w!=null&&y(e,["parameters","sampleImageSize"],w),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Dq(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=m(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const g=m(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&y(e,["parameters","language"],w);const E=m(t,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const A=m(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const S=m(t,["addWatermark"]);e!==void 0&&S!=null&&y(e,["parameters","addWatermark"],S);const R=m(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&y(e,["parameters","sampleImageSize"],D);const M=m(t,["enhancePrompt"]);return e!==void 0&&M!=null&&y(e,["parameters","enhancePrompt"],M),n}function kq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&Oq(o,n),n}function Uq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&Dq(o,n),n}function Lq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Jq(l))),y(e,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],cR(i)),e}function Bq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>_d(l))),y(e,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],fR(i)),e}function qq(t,e){const n={},r=m(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=m(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const l=m(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const c=m(t,["personGeneration"]);if(e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=m(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=m(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],wd(h));const g=m(t,["referenceImages"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>z4(w))),y(e,["instances[0]","referenceImages"],b)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function jq(t,e){const n={},r=m(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=m(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const l=m(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const c=m(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=m(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=m(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=m(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const g=m(t,["pubsubTopic"]);e!==void 0&&g!=null&&y(e,["parameters","pubsubTopic"],g);const b=m(t,["negativePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","negativePrompt"],b);const w=m(t,["enhancePrompt"]);e!==void 0&&w!=null&&y(e,["parameters","enhancePrompt"],w);const E=m(t,["generateAudio"]);e!==void 0&&E!=null&&y(e,["parameters","generateAudio"],E);const A=m(t,["lastFrame"]);e!==void 0&&A!=null&&y(e,["instances[0]","lastFrame"],Br(A));const S=m(t,["referenceImages"]);if(e!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>F4(L))),y(e,["instances[0]","referenceImages"],M)}const R=m(t,["mask"]);e!==void 0&&R!=null&&y(e,["instances[0]","mask"],j4(R));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&y(e,["parameters","compressionQuality"],D),n}function zq(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],Hq(l)),e}function Fq(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],Vq(l)),e}function Gq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],wd(o));const l=m(e,["video"]);l!=null&&y(n,["instances[0]","video"],pR(l));const c=m(e,["source"]);c!=null&&Kq(c,n);const f=m(e,["config"]);return f!=null&&qq(f,n),n}function $q(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],Br(o));const l=m(e,["video"]);l!=null&&y(n,["instances[0]","video"],mR(l));const c=m(e,["source"]);c!=null&&Yq(c,n);const f=m(e,["config"]);return f!=null&&jq(f,n),n}function Hq(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Xq(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Vq(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Qq(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Kq(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],wd(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],pR(o)),n}function Yq(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Br(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],mR(o)),n}function Jq(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],o4(n));const r=m(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=m(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],cR(i)),e}function _d(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],uR(n));const r=m(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=m(t,["_self"]);i!=null&&y(e,["safetyAttributes"],fR(i));const o=m(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function Wq(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["mask"],uR(n));const r=m(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function Xq(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],B4(n)),e}function Qq(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],q4(n)),e}function Zq(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=m(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=m(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=m(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&y(e,["responseMimeType"],w);const E=m(t,["responseModalities"]);E!=null&&y(e,["responseModalities"],E);const A=m(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const S=m(t,["routingConfig"]);S!=null&&y(e,["routingConfig"],S);const R=m(t,["seed"]);R!=null&&y(e,["seed"],R);const D=m(t,["speechConfig"]);D!=null&&y(e,["speechConfig"],dR(D));const M=m(t,["stopSequences"]);M!=null&&y(e,["stopSequences"],M);const L=m(t,["temperature"]);L!=null&&y(e,["temperature"],L);const U=m(t,["thinkingConfig"]);U!=null&&y(e,["thinkingConfig"],U);const B=m(t,["topK"]);B!=null&&y(e,["topK"],B);const F=m(t,["topP"]);if(F!=null&&y(e,["topP"],F),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function e4(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],tt(t,r)),n}function t4(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],tt(t,r)),n}function n4(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function r4(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function i4(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function a4(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=m(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=m(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function o4(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],ba(n));const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function uR(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],ba(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function wd(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],ba(n));const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Br(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],ba(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function s4(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=m(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],tR(t,c)),r}function l4(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=m(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],tR(t,c)),r}function u4(t,e){const n={},r=m(e,["config"]);return r!=null&&s4(t,r,n),n}function c4(t,e){const n={},r=m(e,["config"]);return r!=null&&l4(t,r,n),n}function f4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["_self"]);if(i!=null){let o=nR(i);Array.isArray(o)&&(o=o.map(l=>Ey(l))),y(e,["models"],o)}return e}function d4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["_self"]);if(i!=null){let o=nR(i);Array.isArray(o)&&(o=o.map(l=>xy(l))),y(e,["models"],o)}return e}function h4(t){const e={},n=m(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=m(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=m(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function Ey(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);i!=null&&y(e,["description"],i);const o=m(t,["version"]);o!=null&&y(e,["version"],o);const l=m(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],R4(l));const c=m(t,["inputTokenLimit"]);c!=null&&y(e,["inputTokenLimit"],c);const f=m(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=m(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=m(t,["temperature"]);h!=null&&y(e,["temperature"],h);const g=m(t,["maxTemperature"]);g!=null&&y(e,["maxTemperature"],g);const b=m(t,["topP"]);b!=null&&y(e,["topP"],b);const w=m(t,["topK"]);w!=null&&y(e,["topK"],w);const E=m(t,["thinking"]);return E!=null&&y(e,["thinking"],E),e}function xy(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);i!=null&&y(e,["description"],i);const o=m(t,["versionId"]);o!=null&&y(e,["version"],o);const l=m(t,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>Aq(b))),y(e,["endpoints"],g)}const c=m(t,["labels"]);c!=null&&y(e,["labels"],c);const f=m(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],I4(f));const d=m(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=m(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["checkpoints"],g)}return e}function p4(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],Cq(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],Nq(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],ZB(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const h=m(t,["thought"]);h!=null&&y(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function m4(t){const e={},n=m(t,["productImage"]);return n!=null&&y(e,["image"],Br(n)),e}function g4(t,e){const n={},r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const l=m(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=m(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=m(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const g=m(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g);const b=m(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const w=m(t,["labels"]);return e!==void 0&&w!=null&&y(e,["labels"],w),n}function y4(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["source"]);i!=null&&b4(i,n);const o=m(e,["config"]);return o!=null&&g4(o,n),n}function v4(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_d(i))),y(e,["generatedImages"],r)}return e}function b4(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Br(i));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>m4(c))),y(e,["instances[0]","productImages"],l)}return n}function _4(t){const e={},n=m(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Br(n));const r=m(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=m(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=m(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],h4(o));const l=m(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],oq(l));const c=m(t,["styleImageConfig"]);c!=null&&y(e,["styleImageConfig"],c);const f=m(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function cR(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=m(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function fR(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=m(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function w4(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function E4(t){const e={},n=m(t,["image"]);return n!=null&&y(e,["image"],Br(n)),e}function x4(t,e){const n={},r=m(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=m(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const l=m(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const c=m(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&y(e,["parameters","binaryColorThreshold"],c);const f=m(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function S4(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["source"]);i!=null&&A4(i,n);const o=m(e,["config"]);return o!=null&&x4(o,n),n}function T4(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Wq(i))),y(e,["generatedMasks"],r)}return e}function A4(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Br(i));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],E4(o)),n}function dR(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=m(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function C4(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Rq(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function N4(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["functionDeclarations"],h)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],n4(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],r4(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function hR(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>Iq(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function R4(t){const e={},n=m(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=m(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function I4(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=m(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function M4(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function P4(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function O4(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],tt(t,r));const i=m(e,["config"]);return i!=null&&M4(i,n),n}function D4(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["config"]);return i!=null&&P4(i,n),n}function k4(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const l=m(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const c=m(t,["outputMimeType"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","mimeType"],c);const f=m(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=m(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=m(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=m(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=m(t,["numberOfImages"]);e!==void 0&&b!=null&&y(e,["parameters","sampleCount"],b);const w=m(t,["mode"]);return e!==void 0&&w!=null&&y(e,["parameters","mode"],w),n}function U4(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],tt(t,r));const i=m(e,["image"]);i!=null&&y(n,["instances[0]","image"],Br(i));const o=m(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=m(e,["config"]);return l!=null&&k4(l,n),n}function L4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_d(o))),y(e,["generatedImages"],i)}return e}function B4(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],ba(r));const i=m(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function q4(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],ba(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function j4(t){const e={},n=m(t,["image"]);n!=null&&y(e,["_self"],Br(n));const r=m(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function z4(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],wd(n));const r=m(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function F4(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],Br(n));const r=m(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function pR(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],ba(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function mR(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],ba(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G4="Content-Type",$4="X-Server-Timeout",H4="User-Agent",Sy="x-goog-api-client",V4="1.30.0",K4=`google-genai-sdk/${V4}`,Y4="v1beta1",J4="v1beta",tT=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class W4{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Y4,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:J4,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&X4(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nT(i),new by(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return vs(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield xt(i.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const b=JSON.parse(JSON.stringify(g.error)),w=b.status,E=b.code,A=`got status: ${w}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new vd({message:A,status:E})}}catch(g){if(g.name==="ApiError")throw g}l+=d;let h=l.match(tT);for(;h;){const g=h[1];try{const b=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield xt(new by(b)),l=l.slice(h[0].length),h=l.match(tT)}catch(b){throw new Error(`exception parsing stream chunk ${g}. ${b}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=K4+" "+this.clientOptions.userAgentExtra;return e[H4]=n,e[Sy]=n,e[G4]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append($4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=_e("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&r.customMetadata&&(g.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(g.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(d,c,f,h,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function nT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new vd({message:i,status:n}):new Error(i)}}function X4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q4="mcp_used/unknown";let Z4=!1;function gR(t){for(const e of t)if(e3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Z4}function yR(t){var e;const n=(e=t[Sy])!==null&&e!==void 0?e:"";t[Sy]=(n+` ${Q4}`).trimStart()}function e3(t){return t!==null&&typeof t=="object"&&t instanceof Bv}function t3(t,e=100){return vs(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield xt(t.listTools({cursor:r}));for(const l of o.tools)yield yield xt(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Bv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Bv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,Jl(t3(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;l.push(g);const b=g.name;if(o[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);o[b]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),KU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n3(t,e,n){const r=new qU;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class r3{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=o3(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(M=>{d=M}),g=e.callbacks,b=function(){d({})},w=this.apiClient,E={onopen:b,onmessage:M=>{n3(w,g.onmessage,M)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(M){}},A=this.webSocketFactory.create(f,a3(l),E);A.connect(),await h;const D={setup:{model:tt(this.apiClient,e.model)}};return A.send(JSON.stringify(D)),new i3(A,this.apiClient)}}class i3{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$B(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=GB(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hs.PLAY)}pause(){this.sendPlaybackControl(hs.PAUSE)}stop(){this.sendPlaybackControl(hs.STOP)}resetContext(){this.sendPlaybackControl(hs.RESET_CONTEXT)}close(){this.conn.close()}}function a3(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function o3(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function l3(t,e,n){const r=new BU;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=KB(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class u3{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new r3(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&gR(e.config.tools)&&yR(g);const b=h3(g);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,h);else{const z=this.apiClient.getApiKey();let fe="BidiGenerateContent",te="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",te="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${fe}?${te}=${z}`}let w=()=>{};const E=new Promise(z=>{w=z}),A=e.callbacks,S=function(){var z;(z=A==null?void 0:A.onopen)===null||z===void 0||z.call(A),w({})},R=this.apiClient,D={onopen:S,onmessage:z=>{l3(R,A.onmessage,z)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(z){}},M=this.webSocketFactory.create(h,d3(b),D);M.connect(),await E;let L=tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const z=this.apiClient.getProject(),fe=this.apiClient.getLocation();L=`projects/${z}/locations/${fe}/`+L}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Af.AUDIO]}:e.config.responseModalities=[Af.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],F=[];for(const z of B)if(this.isCallableTool(z)){const fe=z;F.push(await fe.tool())}else F.push(z);F.length>0&&(e.config.tools=F);const ie={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=FB(this.apiClient,ie):U=zB(this.apiClient,ie),delete U.config,M.send(JSON.stringify(U)),new f3(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c3={turnComplete:!0};class f3{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=wr(n.turns),e.isVertexAI()||(r=r.map(i=>bd(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(s3)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},c3),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:VB(e)}:n={realtimeInput:HB(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function d3(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function h3(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rT=10;function iT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bs(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function bs(t){return"callTool"in t&&typeof t.callTool=="function"}function p3(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>bs(i)))!==null&&r!==void 0?r:!1}function aT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(bs(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function oT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m3 extends Pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!p3(n)||iT(n.config))return await this.generateContentInternal(f);const d=aT(n);if(d.length>0){const A=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,g;const b=wr(f.contents),w=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rT;let E=0;for(;E<w&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,S=[];for(const R of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(bs(R)){const M=await R.callTool(h.functionCalls);S.push(...M)}E++,g={role:"user",parts:S},f.contents=wr(f.contents),f.contents.push(A),f.contents.push(g),oT(f.config)&&(b.push(A),b.push(g))}return oT(f.config)&&(h.automaticFunctionCallingHistory=b),h},this.generateContentStream=async n=>{var r,i,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),iT(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=aT(n);if(f.length>0){const g=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new po(Ei.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>bs(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&gR(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),yR(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bs(l)){const c=l,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,c)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rT;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,g){var b,w;return vs(this,arguments,function*(){for(var E,A,S,R;c<o;){l&&(c++,l=!1);const U=yield xt(d.processParamsMaybeAddMcpUsage(g)),B=yield xt(d.generateContentStreamInternal(U)),F=[],ie=[];try{for(var D=!0,M=(A=void 0,Jl(B)),L;L=yield xt(M.next()),E=L.done,!E;D=!0){R=L.value,D=!1;const z=R;if(yield yield xt(z),z.candidates&&(!((b=z.candidates[0])===null||b===void 0)&&b.content)){ie.push(z.candidates[0].content);for(const fe of(w=z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<o&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(fe.functionCall.name)){const te=yield xt(h.get(fe.functionCall.name).callTool([fe.functionCall]));F.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(z){A={error:z}}finally{try{!D&&!E&&(S=M.return)&&(yield xt(S.call(M)))}finally{if(A)throw A.error}}if(F.length>0){l=!0;const z=new Bl;z.candidates=[{content:{role:"user",parts:F}}],yield yield xt(z);const fe=[];fe.push(...ie),fe.push({role:"user",parts:F});const te=wr(g.contents).concat(fe);g.contents=te}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=QS(this.apiClient,e);return c=_e("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=eT(h),b=new Bl;return Object.assign(b,g),b})}else{const d=XS(this.apiClient,e);return c=_e("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=ZS(h),b=new Bl;return Object.assign(b,g),b})}}async generateContentStreamInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=QS(this.apiClient,e);return c=_e("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return vs(this,arguments,function*(){var b,w,E,A;try{for(var S=!0,R=Jl(g),D;D=yield xt(R.next()),b=D.done,!b;S=!0){A=D.value,S=!1;const M=A,L=eT(yield xt(M.json()));L.sdkHttpResponse={headers:M.headers};const U=new Bl;Object.assign(U,L),yield yield xt(U)}}catch(M){w={error:M}}finally{try{!S&&!b&&(E=R.return)&&(yield xt(E.call(R)))}finally{if(w)throw w.error}}})})}else{const d=XS(this.apiClient,e);return c=_e("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(g){return vs(this,arguments,function*(){var b,w,E,A;try{for(var S=!0,R=Jl(g),D;D=yield xt(R.next()),b=D.done,!b;S=!0){A=D.value,S=!1;const M=A,L=ZS(yield xt(M.json()));L.sdkHttpResponse={headers:M.headers};const U=new Bl;Object.assign(U,L),yield yield xt(U)}}catch(M){w={error:M}}finally{try{!S&&!b&&(E=R.return)&&(yield xt(E.call(R)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=xq(this.apiClient,e);return c=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=Tq(h),b=new kS;return Object.assign(b,g),b})}else{const d=Eq(this.apiClient,e);return c=_e("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=Sq(h),b=new kS;return Object.assign(b,g),b})}}async generateImagesInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Uq(this.apiClient,e);return c=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=Bq(h),b=new US;return Object.assign(b,g),b})}else{const d=kq(this.apiClient,e);return c=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=Lq(h),b=new US;return Object.assign(b,g),b})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=vq(this.apiClient,e);return o=_e("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=bq(f),h=new CU;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=U4(this.apiClient,e);return o=_e("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=L4(f),h=new NU;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=y4(this.apiClient,e);return o=_e("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=v4(f),h=new RU;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=S4(this.apiClient,e);return o=_e("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=T4(f),h=new IU;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=t4(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>xy(h))}else{const d=e4(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Ey(h))}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=c4(this.apiClient,e);return c=_e("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=d4(h),b=new LS;return Object.assign(b,g),b})}else{const d=u4(this.apiClient,e);return c=_e("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=f4(h),b=new LS;return Object.assign(b,g),b})}}async update(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=D4(this.apiClient,e);return c=_e("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>xy(h))}else{const d=O4(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Ey(h))}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=pq(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=gq(h),b=new BS;return Object.assign(b,g),b})}else{const d=hq(this.apiClient,e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=mq(h),b=new BS;return Object.assign(b,g),b})}}async countTokens(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=cq(this.apiClient,e);return c=_e("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=dq(h),b=new qS;return Object.assign(b,g),b})}else{const d=uq(this.apiClient,e);return c=_e("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=fq(h),b=new qS;return Object.assign(b,g),b})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=nq(this.apiClient,e);return o=_e("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=rq(f),h=new MU;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=$q(this.apiClient,e);return c=_e("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const g=Fq(h),b=new Cf;return Object.assign(b,g),b})}else{const d=Gq(this.apiClient,e);return c=_e("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const g=zq(h),b=new Cf;return Object.assign(b,g),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g3 extends Pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=wU(e);return c=_e("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=_U(e);return c=_e("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=hU(e);return o=_e("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y3(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function v3(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>C3(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function b3(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=m(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=m(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],A3(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function _3(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],b3(t,r,n)),n}function w3(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function E3(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x3(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function S3(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function T3(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],Lv(g));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=m(t,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],v3(Nn(E)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let B=Ps(A);Array.isArray(B)&&(B=B.map(F=>R3(Ms(F)))),y(e,["setup","tools"],B)}const S=m(t,["sessionResumption"]);e!==void 0&&S!=null&&y(e,["setup","sessionResumption"],N3(S));const R=m(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const M=m(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&y(e,["setup","realtimeInputConfig"],M);const L=m(t,["contextWindowCompression"]);e!==void 0&&L!=null&&y(e,["setup","contextWindowCompression"],L);const U=m(t,["proactivity"]);return e!==void 0&&U!=null&&y(e,["setup","proactivity"],U),n}function A3(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],tt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],T3(i,n)),n}function C3(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],w3(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],E3(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],y3(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const h=m(t,["thought"]);h!=null&&y(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function N3(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R3(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["functionDeclarations"],h)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],x3(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],S3(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function M3(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=I3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class P3 extends Pi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=_3(this.apiClient,e);o=_e("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=M3(c,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O3(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function D3(t){const e={},n=m(t,["config"]);return n!=null&&O3(n,e),e}function k3(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function U3(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&k3(r,e),e}function L3(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function B3(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["customMetadata"],o)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function q3(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],z3(l)),e}function j3(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&B3(i,e),e}function z3(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function F3(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function G3(t){const e={},n=m(t,["config"]);return n!=null&&F3(n,e),e}function $3(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["fileSearchStores"],o)}return e}function H3(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=m(t,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["customMetadata"],c)}const l=m(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function V3(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&H3(r,e),e}function K3(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y3(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function J3(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&Y3(r,e),e}function W3(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function X3(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Q3(t){const e={},n=m(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&X3(r,e),e}function Z3(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ej extends Pi{constructor(e){super(),this.apiClient=e,this.list=async n=>new po(Ei.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=W3(e);return o=_e("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=J3(e);i=_e("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Q3(e);return o=_e("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Z3(f),h=new PU;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tj extends Pi{constructor(e,n=new ej(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new po(Ei.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=D3(e);return o=_e("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=L3(e);return o=_e("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=U3(e);i=_e("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=G3(e);return o=_e("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=$3(f),h=new OU;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=V3(e);return o=_e("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=K3(f),h=new DU;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=j3(e);return o=_e("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=q3(f),h=new Pv;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nj(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function rj(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function ij(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const l=m(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function aj(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec"],sT(w))}else if(i==="PREFERENCE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec"],sT(w))}const o=m(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const l=m(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(c==="PREFERENCE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(f==="PREFERENCE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(d==="PREFERENCE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(h==="PREFERENCE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=m(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=m(t,["beta"]);return e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function oj(t,e){const n={},r=m(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=m(t,["trainingDataset"]);o!=null&&yj(o);const l=m(t,["config"]);return l!=null&&ij(l,n),n}function sj(t,e){const n={},r=m(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=m(t,["trainingDataset"]);o!=null&&vj(o,n,e);const l=m(t,["config"]);return l!=null&&aj(l,n,e),n}function lj(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function uj(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function cj(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=m(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function fj(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=m(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function dj(t,e){const n={},r=m(t,["config"]);return r!=null&&cj(r,n),n}function hj(t,e){const n={},r=m(t,["config"]);return r!=null&&fj(r,n),n}function pj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=m(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>vR(c))),y(n,["tuningJobs"],l)}return n}function mj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=m(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ty(c))),y(n,["tuningJobs"],l)}return n}function gj(t,e){const n={},r=m(t,["name"]);r!=null&&y(n,["model"],r);const i=m(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function yj(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function vj(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function vR(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["state"]);o!=null&&y(n,["state"],ZN(o));const l=m(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(t,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&y(n,["description"],h);const g=m(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=m(t,["_self"]);return b!=null&&y(n,["tunedModel"],gj(b)),n}function Ty(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["state"]);o!=null&&y(n,["state"],ZN(o));const l=m(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(t,["startTime"]);c!=null&&y(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&y(n,["error"],h);const g=m(t,["description"]);g!=null&&y(n,["description"],g);const b=m(t,["baseModel"]);b!=null&&y(n,["baseModel"],b);const w=m(t,["tunedModel"]);w!=null&&y(n,["tunedModel"],w);const E=m(t,["preTunedModel"]);E!=null&&y(n,["preTunedModel"],E);const A=m(t,["supervisedTuningSpec"]);A!=null&&y(n,["supervisedTuningSpec"],A);const S=m(t,["preferenceOptimizationSpec"]);S!=null&&y(n,["preferenceOptimizationSpec"],S);const R=m(t,["tuningDataStats"]);R!=null&&y(n,["tuningDataStats"],R);const D=m(t,["encryptionSpec"]);D!=null&&y(n,["encryptionSpec"],D);const M=m(t,["partnerModelTuningSpec"]);M!=null&&y(n,["partnerModelTuningSpec"],M);const L=m(t,["customBaseModel"]);L!=null&&y(n,["customBaseModel"],L);const U=m(t,["experiment"]);U!=null&&y(n,["experiment"],U);const B=m(t,["labels"]);B!=null&&y(n,["labels"],B);const F=m(t,["outputUri"]);F!=null&&y(n,["outputUri"],F);const ie=m(t,["pipelineJob"]);ie!=null&&y(n,["pipelineJob"],ie);const z=m(t,["serviceAccount"]);z!=null&&y(n,["serviceAccount"],z);const fe=m(t,["tunedModelDisplayName"]);fe!=null&&y(n,["tunedModelDisplayName"],fe);const te=m(t,["veoTuningSpec"]);return te!=null&&y(n,["veoTuningSpec"],te),n}function bj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=m(t,["done"]);l!=null&&y(n,["done"],l);const c=m(t,["error"]);return c!=null&&y(n,["error"],c),n}function sT(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _j extends Pi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new po(Ei.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:vy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=uj(e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>Ty(h))}else{const d=lj(e);return c=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>vR(h))}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=hj(e);return c=_e("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=mj(h),b=new jS;return Object.assign(b,g),b})}else{const d=dj(e);return c=_e("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const g=pj(h),b=new jS;return Object.assign(b,g),b})}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=rj(e);l=_e("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=nj(e);l=_e("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=sj(e,e);return o=_e("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Ty(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oj(e);return o=_e("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>bj(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wj{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ej=1024*1024*8,xj=3,Sj=1e3,Tj=2,Rf="x-goog-upload-status";async function Aj(t,e,n){var r;const i=await bR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Rf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Cj(t,e,n){var r;const i=await bR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Rf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=KN(o),c=new Ov;return Object.assign(c,l),c}async function bR(t,e,n){var r,i;let o=0,l=0,c=new by(new Response),f="upload";for(o=t.size;l<o;){const d=Math.min(Ej,o-l),h=t.slice(l,l+d);l+d>=o&&(f+=", finalize");let g=0,b=Sj;for(;g<xj&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Rf]));)g++,await Rj(b),b=b*Tj;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Rf])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function Nj(t){return{size:t.size,type:t.type}}function Rj(t){return new Promise(e=>setTimeout(e,t))}class Ij{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Aj(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cj(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Nj(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mj{create(e,n,r){return new Pj(e,n,r)}}class Pj{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lT="x-goog-api-key";class Oj{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(lT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dj="gl-node/";class kj{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=fU(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Oj(this.apiKey);this.apiClient=new W4({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Dj+"web",uploader:new Ij,downloader:new wj}),this.models=new m3(this.apiClient),this.live=new u3(this.apiClient,i,new Mj),this.batches=new jL(this.apiClient),this.chats=new wB(this.models,this.apiClient),this.caches=new vB(this.apiClient),this.files=new MB(this.apiClient),this.operations=new g3(this.apiClient),this.authTokens=new P3(this.apiClient),this.tunings=new _j(this.apiClient),this.fileSearchStores=new tj(this.apiClient)}}const _R=new kj({apiKey:"AIzaSyA_34YRlB002g91Fk359J0JOqR8Xx9hrOY"}),Uj=async t=>{try{const r=await _R.models.generateContent({model:"gemini-3-pro-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:`
      Analyze this image of a financial receipt or invoice. 
      Extract the following information:
      1. Total Amount (number only)
      2. Date (ISO 8601 format YYYY-MM-DD)
      3. Due Date (ISO 8601 format YYYY-MM-DD) - if visible, otherwise null.
      4. Description (Brief summary of items)
      5. Suggest the Activity Group (OPERATING, INVESTING, FINANCING).
      6. Suggest Account Type: 
         - 'RECEIVABLE' if it's an invoice sent to a client.
         - 'PAYABLE' if it's a bill to be paid later.
         - 'CASH' if it's a receipt for immediate payment.
      
      Return JSON.
    `}]},config:{responseMimeType:"application/json",responseSchema:{type:Pt.OBJECT,properties:{amount:{type:Pt.NUMBER},date:{type:Pt.STRING},dueDate:{type:Pt.STRING,nullable:!0},description:{type:Pt.STRING},group:{type:Pt.STRING,enum:["OPERATING","INVESTING","FINANCING"]},type:{type:Pt.STRING,enum:["INCOME","EXPENSE"]},accountType:{type:Pt.STRING,enum:["CASH","PAYABLE","RECEIVABLE"]}}}}});if(r.text){const i=JSON.parse(r.text);return{amount:i.amount,date:i.date,dueDate:i.dueDate||void 0,description:i.description,group:i.group,type:i.type||Mt.EXPENSE,accountType:i.accountType,status:i.accountType==="PAYABLE"||i.accountType==="RECEIVABLE"?hn.PENDING:hn.PAID}}throw new Error("No data returned from Gemini")}catch(e){throw console.error("Error analyzing receipt:",e),e}},Lj=async(t,e,n,r)=>{try{const i="gemini-3-pro-preview",l=`
            Act as a Chief Financial Officer (CFO). ${r==="ES"?"Respond in Spanish.":"Respond in English."}
            
            I have generated a ${t}. 
            Here is the financial data summary:
            ${JSON.stringify(e,null,2)}

            Here are the calculated Key Financial Ratios:
            ${JSON.stringify(n,null,2)}

            Task:
            1. Review the provided ratios. 
            2. For each ratio provided, write a concise 1-sentence analysis of what this specific value indicates for the business health.
            3. Provide a professional executive summary (1 paragraph) of the overall financial health based on this data.
            
            IMPORTANT: 
            - Do NOT modify the 'value' field of the ratios. Keep the original calculated number/string exactly as is.
            - Do NOT modify the 'name' field.
            - Only populate the 'analysis' field.
            
            Return JSON format matching the schema.
        `,c=await _R.models.generateContent({model:i,contents:l,config:{responseMimeType:"application/json",responseSchema:{type:Pt.OBJECT,properties:{analysis:{type:Pt.STRING},ratios:{type:Pt.ARRAY,items:{type:Pt.OBJECT,properties:{name:{type:Pt.STRING},value:{type:Pt.STRING},analysis:{type:Pt.STRING}}}}}}}});if(c.text)return JSON.parse(c.text);throw new Error("Failed to generate analysis")}catch(i){return console.error("Error generating report analysis:",i),{analysis:"Could not generate AI analysis at this time. Displaying raw calculated data.",ratios:n.map(o=>({...o,analysis:o.analysis||"Analysis unavailable."}))}}};var Ay=function(t,e){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ay(t,e)};function wR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ay(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var If=function(){return If=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},If.apply(this,arguments)};function Ds(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ER(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(o=(i<3?l(o):i>3?l(e,n,o):l(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function xR(t,e){return function(n,r){e(n,r,t)}}function SR(t,e,n,r,i,o){function l(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var c=r.kind,f=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,b=!1,w=n.length-1;w>=0;w--){var E={};for(var A in r)E[A]=A==="access"?{}:r[A];for(var A in r.access)E.access[A]=r.access[A];E.addInitializer=function(R){if(b)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(R||null))};var S=(0,n[w])(c==="accessor"?{get:h.get,set:h.set}:h[f],E);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=l(S.get))&&(h.get=g),(g=l(S.set))&&(h.set=g),(g=l(S.init))&&i.unshift(g)}else(g=l(S))&&(c==="field"?i.unshift(g):h[f]=g)}d&&Object.defineProperty(d,r.name,h),b=!0}function TR(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function AR(t){return typeof t=="symbol"?t:"".concat(t)}function CR(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function NR(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ce(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{d(r.next(h))}catch(g){l(g)}}function f(h){try{d(r.throw(h))}catch(g){l(g)}}function d(h){h.done?o(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})}function RR(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(h){return f([d,h])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Ed=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function IR(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ed(e,t,n)}function Mf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function MR(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qv(arguments[e]));return t}function PR(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r}function OR(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ss(t){return this instanceof Ss?(this.v=t,this):new Ss(t)}function DR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(E){return Promise.resolve(E).then(w,g)}}function c(w,E){r[w]&&(i[w]=function(A){return new Promise(function(S,R){o.push([w,A,S,R])>1||f(w,A)})},E&&(i[w]=E(i[w])))}function f(w,E){try{d(r[w](E))}catch(A){b(o[0][3],A)}}function d(w){w.value instanceof Ss?Promise.resolve(w.value.v).then(h,g):b(o[0][2],w)}function h(w){f("next",w)}function g(w){f("throw",w)}function b(w,E){w(E),o.shift(),o.length&&f(o[0][0],o[0][1])}}function kR(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(l){return(n=!n)?{value:Ss(t[i](l)),done:!1}:o?o(l):l}:o}}function UR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mf=="function"?Mf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,f){l=t[o](l),i(c,f,l.done,l.value)})}}function i(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}}function LR(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Bj=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Cy=function(t){return Cy=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Cy(t)};function BR(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Cy(t),r=0;r<n.length;r++)n[r]!=="default"&&Ed(e,t,n[r]);return Bj(e,t),e}function qR(t){return t&&t.__esModule?t:{default:t}}function jR(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function zR(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function FR(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function GR(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var qj=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function $R(t){function e(o){t.error=t.hasError?new qj(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return e(l),i()})}else r|=1}catch(l){e(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function HR(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?e?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):t}const jj={__extends:wR,__assign:If,__rest:Ds,__decorate:ER,__param:xR,__esDecorate:SR,__runInitializers:TR,__propKey:AR,__setFunctionName:CR,__metadata:NR,__awaiter:Ce,__generator:RR,__createBinding:Ed,__exportStar:IR,__values:Mf,__read:qv,__spread:MR,__spreadArrays:PR,__spreadArray:OR,__await:Ss,__asyncGenerator:DR,__asyncDelegator:kR,__asyncValues:UR,__makeTemplateObject:LR,__importStar:BR,__importDefault:qR,__classPrivateFieldGet:jR,__classPrivateFieldSet:zR,__classPrivateFieldIn:FR,__addDisposableResource:GR,__disposeResources:$R,__rewriteRelativeImportExtension:HR},zj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:GR,get __assign(){return If},__asyncDelegator:kR,__asyncGenerator:DR,__asyncValues:UR,__await:Ss,__awaiter:Ce,__classPrivateFieldGet:jR,__classPrivateFieldIn:FR,__classPrivateFieldSet:zR,__createBinding:Ed,__decorate:ER,__disposeResources:$R,__esDecorate:SR,__exportStar:IR,__extends:wR,__generator:RR,__importDefault:qR,__importStar:BR,__makeTemplateObject:LR,__metadata:NR,__param:xR,__propKey:AR,__read:qv,__rest:Ds,__rewriteRelativeImportExtension:HR,__runInitializers:TR,__setFunctionName:CR,__spread:MR,__spreadArray:OR,__spreadArrays:PR,__values:Mf,default:jj},Symbol.toStringTag,{value:"Module"})),Fj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class jv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Gj extends jv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uT extends jv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cT extends jv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ny||(Ny={}));class $j{constructor(e,{headers:n={},customFetch:r,region:i=Ny.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Fj(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ce(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:c,method:f,body:d,signal:h,timeout:g}=r;let b={},{region:w}=r;w||(w=this.region);const E=new URL(`${this.url}/${n}`);w&&w!=="any"&&(b["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let A;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=d):typeof d=="string"?(b["Content-Type"]="text/plain",A=d):typeof FormData<"u"&&d instanceof FormData?A=d:(b["Content-Type"]="application/json",A=JSON.stringify(d)):A=d;let S=h;g&&(l=new AbortController,o=setTimeout(()=>l.abort(),g),h?(S=l.signal,h.addEventListener("abort",()=>l.abort())):S=l.signal);const R=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:A,signal:S}).catch(U=>{throw new Gj(U)}),D=R.headers.get("x-relay-error");if(D&&D==="true")throw new uT(R);if(!R.ok)throw new cT(R);let M=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),L;return M==="application/json"?L=yield R.json():M==="application/octet-stream"||M==="application/pdf"?L=yield R.blob():M==="text/event-stream"?L=R:M==="multipart/form-data"?L=yield R.formData():L=yield R.text(),{data:L,error:null,response:R}}catch(c){return{data:null,error:c,response:c instanceof cT||c instanceof uT?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Cn={};const ks=Vk(zj);var Yc={},Jc={},Wc={},Xc={},Qc={},Zc={},fT;function VR(){if(fT)return Zc;fT=1,Object.defineProperty(Zc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Zc.default=t,Zc}var dT;function KR(){if(dT)return Qc;dT=1,Object.defineProperty(Qc,"__esModule",{value:!0});const e=ks.__importDefault(VR());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,h,g,b;let w=null,E=null,A=null,S=f.status,R=f.statusText;if(f.ok){if(this.method!=="HEAD"){const U=await f.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=U:E=JSON.parse(U))}const M=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),L=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");M&&L&&L.length>1&&(A=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,A=null,S=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await f.text();try{w=JSON.parse(M),Array.isArray(w)&&f.status===404&&(E=[],w=null,S=200,R="OK")}catch{f.status===404&&M===""?(S=204,R="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,S=200,R="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:E,count:A,status:S,statusText:R}});return this.shouldThrowOnError||(c=c.catch(f=>{var d,h,g,b,w,E;let A="";const S=f==null?void 0:f.cause;if(S){const R=(d=S==null?void 0:S.message)!==null&&d!==void 0?d:"",D=(h=S==null?void 0:S.code)!==null&&h!==void 0?h:"";A=`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,A+=`

Caused by: ${(b=S==null?void 0:S.name)!==null&&b!==void 0?b:"Error"}: ${R}`,D&&(A+=` (${D})`),S!=null&&S.stack&&(A+=`
${S.stack}`)}else A=(w=f==null?void 0:f.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(E=f==null?void 0:f.name)!==null&&E!==void 0?E:"FetchError"}: ${f==null?void 0:f.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Qc.default=n,Qc}var hT;function YR(){if(hT)return Xc;hT=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=ks.__importDefault(KR());class n extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var h;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Xc.default=n,Xc}var pT;function zv(){if(pT)return Wc;pT=1,Object.defineProperty(Wc,"__esModule",{value:!0});const e=ks.__importDefault(YR()),n=new RegExp("[,()]");class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${d}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return Wc.default=r,Wc}var mT;function JR(){if(mT)return Jc;mT=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=ks.__importDefault(zv());class n{constructor(i,{headers:o={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(i,o){const{head:l=!1,count:c}=o??{},f=l?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var c;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(g.length>0){const b=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Jc.default=n,Jc}var gT;function Hj(){if(gT)return Yc;gT=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=ks,e=t.__importDefault(JR()),n=t.__importDefault(zv());class r{constructor(o,{headers:l={},schema:c,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=f}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:f=!1,count:d}={}){var h;let g;const b=new URL(`${this.url}/rpc/${o}`);let w;c||f?(g=c?"HEAD":"GET",Object.entries(l).filter(([A,S])=>S!==void 0).map(([A,S])=>[A,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([A,S])=>{b.searchParams.append(A,S)})):(g="POST",w=l);const E=new Headers(this.headers);return d&&E.set("Prefer",`count=${d}`),new n.default({method:g,url:b,headers:E,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Yc.default=r,Yc}var yT;function Vj(){if(yT)return Cn;yT=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.PostgrestError=Cn.PostgrestBuilder=Cn.PostgrestTransformBuilder=Cn.PostgrestFilterBuilder=Cn.PostgrestQueryBuilder=Cn.PostgrestClient=void 0;const t=ks,e=t.__importDefault(Hj());Cn.PostgrestClient=e.default;const n=t.__importDefault(JR());Cn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(zv());Cn.PostgrestFilterBuilder=r.default;const i=t.__importDefault(YR());Cn.PostgrestTransformBuilder=i.default;const o=t.__importDefault(KR());Cn.PostgrestBuilder=o.default;const l=t.__importDefault(VR());return Cn.PostgrestError=l.default,Cn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},Cn}var WR=Vj();const XR=Lr(WR),Kj=jN({__proto__:null,default:XR},[WR]),{PostgrestClient:Yj,PostgrestQueryBuilder:mte,PostgrestFilterBuilder:gte,PostgrestTransformBuilder:yte,PostgrestBuilder:vte,PostgrestError:bte}=XR||Kj,Am=globalThis||void 0||self;class Jj{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof Am<"u"&&typeof Am.WebSocket<"u")return{type:"native",constructor:Am.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof Yr<"u"){const n=Yr.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wj="2.84.0",Xj=`realtime-js/${Wj}`,QR="1.0.0",Qj="2.0.0",vT=QR,Ry=1e4,Zj=1e3,e6=100;var Qa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qa||(Qa={}));var nn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(nn||(nn={}));var Mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mr||(Mr={}));var Iy;(function(t){t.websocket="websocket"})(Iy||(Iy={}));var Za;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Za||(Za={}));class t6{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,h=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(b),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,f.length),w.setUint8(E++,c.length),w.setUint8(E++,l.length),w.setUint8(E++,d.length),w.setUint8(E++,this.BINARY_ENCODING),Array.from(f,S=>w.setUint8(E++,S.charCodeAt(0))),Array.from(c,S=>w.setUint8(E++,S.charCodeAt(0))),Array.from(l,S=>w.setUint8(E++,S.charCodeAt(0))),Array.from(d,S=>w.setUint8(E++,S.charCodeAt(0)));var A=new Uint8Array(b.byteLength+h.byteLength);return A.set(new Uint8Array(b),0),A.set(new Uint8Array(h),b.byteLength),A.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,h=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},b=new TextEncoder().encode(JSON.stringify(h)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(E),S=0;A.setUint8(S++,this.KINDS.userBroadcastPush),A.setUint8(S++,f.length),A.setUint8(S++,c.length),A.setUint8(S++,l.length),A.setUint8(S++,d.length),A.setUint8(S++,this.JSON_ENCODING),Array.from(f,D=>A.setUint8(S++,D.charCodeAt(0))),Array.from(c,D=>A.setUint8(S++,D.charCodeAt(0))),Array.from(l,D=>A.setUint8(S++,D.charCodeAt(0))),Array.from(d,D=>A.setUint8(S++,D.charCodeAt(0)));var R=new Uint8Array(E.byteLength+b.byteLength);return R.set(new Uint8Array(E),0),R.set(new Uint8Array(b),E.byteLength),R.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,l,c,f]=r;return n({join_ref:i,ref:o,topic:l,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(e.slice(f,f+i));f=f+i;const h=r.decode(e.slice(f,f+o));f=f+o;const g=r.decode(e.slice(f,f+l));f=f+l;const b=e.slice(f,e.byteLength),w=c===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,E={type:this.BROADCAST_EVENT,event:h,payload:w};return l>0&&(E.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class ZR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gt||(gt={}));const bT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=n6(l,t,e,i),o),{}):{}},n6=(t,e,n,r)=>{const i=e.find(c=>c.name===t),o=i==null?void 0:i.type,l=n[t];return o&&!r.includes(o)?eI(o,l):My(l)},eI=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return o6(e,n)}switch(t){case gt.bool:return r6(e);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return i6(e);case gt.json:case gt.jsonb:return a6(e);case gt.timestamp:return s6(e);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return My(e);default:return My(e)}},My=t=>t,r6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},o6=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>eI(e,c))}return t},s6=t=>typeof t=="string"?t.replace(" ","T"):t,tI=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Cm{constructor(e,n,r={},i=Ry){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _T;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_T||(_T={}));class Wl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=Wl.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wl.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),l=this.transformState(n),c={},f={};return this.map(o,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const g=o[d];if(g){const b=h.map(S=>S.presence_ref),w=g.map(S=>S.presence_ref),E=h.filter(S=>w.indexOf(S.presence_ref)<0),A=g.filter(S=>b.indexOf(S.presence_ref)<0);E.length>0&&(c[d]=E),A.length>0&&(f[d]=A)}else c[d]=h}),this.syncDiff(o,{joins:c,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,f)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),h.length>0){const g=e[c].map(w=>w.presence_ref),b=h.filter(w=>g.indexOf(w.presence_ref)<0);e[c].unshift(...b)}r(c,h,f)}),this.map(l,(c,f)=>{let d=e[c];if(!d)return;const h=f.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=d,i(c,d,f),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wT||(wT={}));var Xl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xl||(Xl={}));var gi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class Fv{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cm(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new ZR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Wl(this),this.broadcastEndpointURL=tI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==nn.closed){const{config:{broadcast:l,presence:c,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Xl.PRESENCE]&&this.bindings[Xl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(gi.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(gi.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){e==null||e(gi.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,S=(E=A==null?void 0:A.length)!==null&&E!==void 0?E:0,R=[];for(let D=0;D<S;D++){const M=A[D],{filter:{event:L,schema:U,table:B,filter:F}}=M,ie=w&&w[D];if(ie&&ie.event===L&&ie.schema===U&&ie.table===B&&ie.filter===F)R.push(Object.assign(Object.assign({},M),{id:ie.id}));else{this.unsubscribe(),this.state=nn.errored,e==null||e(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(gi.SUBSCRIBED);return}}).receive("error",w=>{this.state=nn.errored,e==null||e(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===nn.joined&&e===Xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const d=await c.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Cm(this,Mr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e6){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:h}=Mr;if(r&&[c,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var E,A,S;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((S=(A=w.filter)===null||A===void 0?void 0:A.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(w=>w.callback(b,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var E,A,S,R,D,M;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const L=w.id,U=(E=w.filter)===null||E===void 0?void 0:E.event;return L&&((A=n.ids)===null||A===void 0?void 0:A.includes(L))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const L=(D=(R=w==null?void 0:w.filter)===null||R===void 0?void 0:R.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return L==="*"||L===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:A,table:S,commit_timestamp:R,type:D,errors:M}=E;b=Object.assign(Object.assign({},{schema:A,table:S,commit_timestamp:R,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(E))}w.callback(b,r)})}_isClosed(){return this.state===nn.closed}_isJoined(){return this.state===nn.joined}_isJoining(){return this.state===nn.joining}_isLeaving(){return this.state===nn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Fv.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mr.close,{},e)}_onError(e){this._on(Mr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bT(e.columns,e.old_record)),n}}const Nm=()=>{},ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l6=[1e3,2e3,5e3,1e4],u6=1e4,c6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f6{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ry,this.transport=null,this.heartbeatIntervalMs=ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nm,this.ref=0,this.reconnectTimer=null,this.vsn=vT,this.logger=Nm,this.conn=null,this.sendBuffer=[],this.serializer=new t6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Iy.websocket}`,this.httpEndpoint=tI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return Za.Connecting;case Qa.open:return Za.Open;case Qa.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Fv(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,c=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([c6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Xj};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Mr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ZR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,l,c,f,d,h,g,b,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ry,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ef.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Nm,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:vT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(E=>l6[E-1]||u6),this.vsn){case QR:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((E,A)=>A(JSON.stringify(E))),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:((E,A)=>A(JSON.parse(E)));break;case Qj:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var nI={},xd={};xd.byteLength=p6;xd.toByteArray=g6;xd.fromByteArray=b6;var Vr=[],br=[],d6=typeof Uint8Array<"u"?Uint8Array:Array,Rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ns=0,h6=Rm.length;ns<h6;++ns)Vr[ns]=Rm[ns],br[Rm.charCodeAt(ns)]=ns;br[45]=62;br[95]=63;function rI(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function p6(t){var e=rI(t),n=e[0],r=e[1];return(n+r)*3/4-r}function m6(t,e,n){return(e+n)*3/4-n}function g6(t){var e,n=rI(t),r=n[0],i=n[1],o=new d6(m6(t,r,i)),l=0,c=i>0?r-4:r,f;for(f=0;f<c;f+=4)e=br[t.charCodeAt(f)]<<18|br[t.charCodeAt(f+1)]<<12|br[t.charCodeAt(f+2)]<<6|br[t.charCodeAt(f+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return i===2&&(e=br[t.charCodeAt(f)]<<2|br[t.charCodeAt(f+1)]>>4,o[l++]=e&255),i===1&&(e=br[t.charCodeAt(f)]<<10|br[t.charCodeAt(f+1)]<<4|br[t.charCodeAt(f+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function y6(t){return Vr[t>>18&63]+Vr[t>>12&63]+Vr[t>>6&63]+Vr[t&63]}function v6(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(y6(r));return i.join("")}function b6(t){for(var e,n=t.length,r=n%3,i=[],o=16383,l=0,c=n-r;l<c;l+=o)i.push(v6(t,l,l+o>c?c:l+o));return r===1?(e=t[n-1],i.push(Vr[e>>2]+Vr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Vr[e>>10]+Vr[e>>4&63]+Vr[e<<2&63]+"=")),i.join("")}var Gv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Gv.read=function(t,e,n,r,i){var o,l,c=i*8-r-1,f=(1<<c)-1,d=f>>1,h=-7,g=n?i-1:0,b=n?-1:1,w=t[e+g];for(g+=b,o=w&(1<<-h)-1,w>>=-h,h+=c;h>0;o=o*256+t[e+g],g+=b,h-=8);for(l=o&(1<<-h)-1,o>>=-h,h+=r;h>0;l=l*256+t[e+g],g+=b,h-=8);if(o===0)o=1-d;else{if(o===f)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-d}return(w?-1:1)*l*Math.pow(2,o-r)};Gv.write=function(t,e,n,r,i,o){var l,c,f,d=o*8-i-1,h=(1<<d)-1,g=h>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:o-1,E=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=h):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+g>=1?e+=b/f:e+=b*Math.pow(2,1-g),e*f>=2&&(l++,f/=2),l+g>=h?(c=0,l=h):l+g>=1?(c=(e*f-1)*Math.pow(2,i),l=l+g):(c=e*Math.pow(2,g-1)*Math.pow(2,i),l=0));i>=8;t[n+w]=c&255,w+=E,c/=256,i-=8);for(l=l<<i|c,d+=i;d>0;t[n+w]=l&255,w+=E,l/=256,d-=8);t[n+w-E]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=xd,n=Gv,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;h.TYPED_ARRAY_SUPPORT=f(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const O=new o(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,o.prototype),Object.setPrototypeOf(O,T),O.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const T=new o(O);return Object.setPrototypeOf(T,h.prototype),T}function h(O,T,C){if(typeof O=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(O)}return g(O,T,C)}h.poolSize=8192;function g(O,T,C){if(typeof O=="string")return A(O,T);if(l.isView(O))return R(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(Oe(O,l)||O&&Oe(O.buffer,l)||typeof c<"u"&&(Oe(O,c)||O&&Oe(O.buffer,c)))return D(O,T,C);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=O.valueOf&&O.valueOf();if(k!=null&&k!==O)return h.from(k,T,C);const H=M(O);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return h.from(O[Symbol.toPrimitive]("string"),T,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}h.from=function(O,T,C){return g(O,T,C)},Object.setPrototypeOf(h.prototype,o.prototype),Object.setPrototypeOf(h,o);function b(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function w(O,T,C){return b(O),O<=0?d(O):T!==void 0?typeof C=="string"?d(O).fill(T,C):d(O).fill(T):d(O)}h.alloc=function(O,T,C){return w(O,T,C)};function E(O){return b(O),d(O<0?0:L(O)|0)}h.allocUnsafe=function(O){return E(O)},h.allocUnsafeSlow=function(O){return E(O)};function A(O,T){if((typeof T!="string"||T==="")&&(T="utf8"),!h.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const C=B(O,T)|0;let k=d(C);const H=k.write(O,T);return H!==C&&(k=k.slice(0,H)),k}function S(O){const T=O.length<0?0:L(O.length)|0,C=d(T);for(let k=0;k<T;k+=1)C[k]=O[k]&255;return C}function R(O){if(Oe(O,o)){const T=new o(O);return D(T.buffer,T.byteOffset,T.byteLength)}return S(O)}function D(O,T,C){if(T<0||O.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<T+(C||0))throw new RangeError('"length" is outside of buffer bounds');let k;return T===void 0&&C===void 0?k=new o(O):C===void 0?k=new o(O,T):k=new o(O,T,C),Object.setPrototypeOf(k,h.prototype),k}function M(O){if(h.isBuffer(O)){const T=L(O.length)|0,C=d(T);return C.length===0||O.copy(C,0,0,T),C}if(O.length!==void 0)return typeof O.length!="number"||kt(O.length)?d(0):S(O);if(O.type==="Buffer"&&Array.isArray(O.data))return S(O.data)}function L(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function U(O){return+O!=O&&(O=0),h.alloc(+O)}h.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==h.prototype},h.compare=function(T,C){if(Oe(T,o)&&(T=h.from(T,T.offset,T.byteLength)),Oe(C,o)&&(C=h.from(C,C.offset,C.byteLength)),!h.isBuffer(T)||!h.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===C)return 0;let k=T.length,H=C.length;for(let Z=0,se=Math.min(k,H);Z<se;++Z)if(T[Z]!==C[Z]){k=T[Z],H=C[Z];break}return k<H?-1:H<k?1:0},h.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(T,C){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return h.alloc(0);let k;if(C===void 0)for(C=0,k=0;k<T.length;++k)C+=T[k].length;const H=h.allocUnsafe(C);let Z=0;for(k=0;k<T.length;++k){let se=T[k];if(Oe(se,o))Z+se.length>H.length?(h.isBuffer(se)||(se=h.from(se)),se.copy(H,Z)):o.prototype.set.call(H,se,Z);else if(h.isBuffer(se))se.copy(H,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=se.length}return H};function B(O,T){if(h.isBuffer(O))return O.length;if(l.isView(O)||Oe(O,l))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const C=O.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&C===0)return 0;let H=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return un(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return $t(O).length;default:if(H)return k?-1:un(O).length;T=(""+T).toLowerCase(),H=!0}}h.byteLength=B;function F(O,T,C){let k=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,T>>>=0,C<=T))return"";for(O||(O="utf8");;)switch(O){case"hex":return j(this,T,C);case"utf8":case"utf-8":return he(this,T,C);case"ascii":return ke(this,T,C);case"latin1":case"binary":return G(this,T,C);case"base64":return Y(this,T,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,T,C);default:if(k)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),k=!0}}h.prototype._isBuffer=!0;function ie(O,T,C){const k=O[T];O[T]=O[C],O[C]=k}h.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<T;C+=2)ie(this,C,C+1);return this},h.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<T;C+=4)ie(this,C,C+3),ie(this,C+1,C+2);return this},h.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<T;C+=8)ie(this,C,C+7),ie(this,C+1,C+6),ie(this,C+2,C+5),ie(this,C+3,C+4);return this},h.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?he(this,0,T):F.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(T){if(!h.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:h.compare(this,T)===0},h.prototype.inspect=function(){let T="";const C=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(T+=" ... "),"<Buffer "+T+">"},r&&(h.prototype[r]=h.prototype.inspect),h.prototype.compare=function(T,C,k,H,Z){if(Oe(T,o)&&(T=h.from(T,T.offset,T.byteLength)),!h.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(C===void 0&&(C=0),k===void 0&&(k=T?T.length:0),H===void 0&&(H=0),Z===void 0&&(Z=this.length),C<0||k>T.length||H<0||Z>this.length)throw new RangeError("out of range index");if(H>=Z&&C>=k)return 0;if(H>=Z)return-1;if(C>=k)return 1;if(C>>>=0,k>>>=0,H>>>=0,Z>>>=0,this===T)return 0;let se=Z-H,Ge=k-C;const Tt=Math.min(se,Ge),mt=this.slice(H,Z),dt=T.slice(C,k);for(let Qe=0;Qe<Tt;++Qe)if(mt[Qe]!==dt[Qe]){se=mt[Qe],Ge=dt[Qe];break}return se<Ge?-1:Ge<se?1:0};function z(O,T,C,k,H){if(O.length===0)return-1;if(typeof C=="string"?(k=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,kt(C)&&(C=H?0:O.length-1),C<0&&(C=O.length+C),C>=O.length){if(H)return-1;C=O.length-1}else if(C<0)if(H)C=0;else return-1;if(typeof T=="string"&&(T=h.from(T,k)),h.isBuffer(T))return T.length===0?-1:fe(O,T,C,k,H);if(typeof T=="number")return T=T&255,typeof o.prototype.indexOf=="function"?H?o.prototype.indexOf.call(O,T,C):o.prototype.lastIndexOf.call(O,T,C):fe(O,[T],C,k,H);throw new TypeError("val must be string, number or Buffer")}function fe(O,T,C,k,H){let Z=1,se=O.length,Ge=T.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(O.length<2||T.length<2)return-1;Z=2,se/=2,Ge/=2,C/=2}function Tt(dt,Qe){return Z===1?dt[Qe]:dt.readUInt16BE(Qe*Z)}let mt;if(H){let dt=-1;for(mt=C;mt<se;mt++)if(Tt(O,mt)===Tt(T,dt===-1?0:mt-dt)){if(dt===-1&&(dt=mt),mt-dt+1===Ge)return dt*Z}else dt!==-1&&(mt-=mt-dt),dt=-1}else for(C+Ge>se&&(C=se-Ge),mt=C;mt>=0;mt--){let dt=!0;for(let Qe=0;Qe<Ge;Qe++)if(Tt(O,mt+Qe)!==Tt(T,Qe)){dt=!1;break}if(dt)return mt}return-1}h.prototype.includes=function(T,C,k){return this.indexOf(T,C,k)!==-1},h.prototype.indexOf=function(T,C,k){return z(this,T,C,k,!0)},h.prototype.lastIndexOf=function(T,C,k){return z(this,T,C,k,!1)};function te(O,T,C,k){C=Number(C)||0;const H=O.length-C;k?(k=Number(k),k>H&&(k=H)):k=H;const Z=T.length;k>Z/2&&(k=Z/2);let se;for(se=0;se<k;++se){const Ge=parseInt(T.substr(se*2,2),16);if(kt(Ge))return se;O[C+se]=Ge}return se}function ne(O,T,C,k){return bt(un(T,O.length-C),O,C,k)}function be(O,T,C,k){return bt(Tn(T),O,C,k)}function Se(O,T,C,k){return bt($t(T),O,C,k)}function Ie(O,T,C,k){return bt(Dt(T,O.length-C),O,C,k)}h.prototype.write=function(T,C,k,H){if(C===void 0)H="utf8",k=this.length,C=0;else if(k===void 0&&typeof C=="string")H=C,k=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(k)?(k=k>>>0,H===void 0&&(H="utf8")):(H=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-C;if((k===void 0||k>Z)&&(k=Z),T.length>0&&(k<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let se=!1;for(;;)switch(H){case"hex":return te(this,T,C,k);case"utf8":case"utf-8":return ne(this,T,C,k);case"ascii":case"latin1":case"binary":return be(this,T,C,k);case"base64":return Se(this,T,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,T,C,k);default:if(se)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),se=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(O,T,C){return T===0&&C===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(T,C))}function he(O,T,C){C=Math.min(O.length,C);const k=[];let H=T;for(;H<C;){const Z=O[H];let se=null,Ge=Z>239?4:Z>223?3:Z>191?2:1;if(H+Ge<=C){let Tt,mt,dt,Qe;switch(Ge){case 1:Z<128&&(se=Z);break;case 2:Tt=O[H+1],(Tt&192)===128&&(Qe=(Z&31)<<6|Tt&63,Qe>127&&(se=Qe));break;case 3:Tt=O[H+1],mt=O[H+2],(Tt&192)===128&&(mt&192)===128&&(Qe=(Z&15)<<12|(Tt&63)<<6|mt&63,Qe>2047&&(Qe<55296||Qe>57343)&&(se=Qe));break;case 4:Tt=O[H+1],mt=O[H+2],dt=O[H+3],(Tt&192)===128&&(mt&192)===128&&(dt&192)===128&&(Qe=(Z&15)<<18|(Tt&63)<<12|(mt&63)<<6|dt&63,Qe>65535&&Qe<1114112&&(se=Qe))}}se===null?(se=65533,Ge=1):se>65535&&(se-=65536,k.push(se>>>10&1023|55296),se=56320|se&1023),k.push(se),H+=Ge}return Te(k)}const ve=4096;function Te(O){const T=O.length;if(T<=ve)return String.fromCharCode.apply(String,O);let C="",k=0;for(;k<T;)C+=String.fromCharCode.apply(String,O.slice(k,k+=ve));return C}function ke(O,T,C){let k="";C=Math.min(O.length,C);for(let H=T;H<C;++H)k+=String.fromCharCode(O[H]&127);return k}function G(O,T,C){let k="";C=Math.min(O.length,C);for(let H=T;H<C;++H)k+=String.fromCharCode(O[H]);return k}function j(O,T,C){const k=O.length;(!T||T<0)&&(T=0),(!C||C<0||C>k)&&(C=k);let H="";for(let Z=T;Z<C;++Z)H+=Bi[O[Z]];return H}function X(O,T,C){const k=O.slice(T,C);let H="";for(let Z=0;Z<k.length-1;Z+=2)H+=String.fromCharCode(k[Z]+k[Z+1]*256);return H}h.prototype.slice=function(T,C){const k=this.length;T=~~T,C=C===void 0?k:~~C,T<0?(T+=k,T<0&&(T=0)):T>k&&(T=k),C<0?(C+=k,C<0&&(C=0)):C>k&&(C=k),C<T&&(C=T);const H=this.subarray(T,C);return Object.setPrototypeOf(H,h.prototype),H};function V(O,T,C){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+T>C)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(T,C,k){T=T>>>0,C=C>>>0,k||V(T,C,this.length);let H=this[T],Z=1,se=0;for(;++se<C&&(Z*=256);)H+=this[T+se]*Z;return H},h.prototype.readUintBE=h.prototype.readUIntBE=function(T,C,k){T=T>>>0,C=C>>>0,k||V(T,C,this.length);let H=this[T+--C],Z=1;for(;C>0&&(Z*=256);)H+=this[T+--C]*Z;return H},h.prototype.readUint8=h.prototype.readUInt8=function(T,C){return T=T>>>0,C||V(T,1,this.length),this[T]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(T,C){return T=T>>>0,C||V(T,2,this.length),this[T]|this[T+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(T,C){return T=T>>>0,C||V(T,2,this.length),this[T]<<8|this[T+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(T,C){return T=T>>>0,C||V(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(T,C){return T=T>>>0,C||V(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},h.prototype.readBigUInt64LE=Gn(function(T){T=T>>>0,De(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Xe(T,this.length-8);const H=C+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,Z=this[++T]+this[++T]*2**8+this[++T]*2**16+k*2**24;return BigInt(H)+(BigInt(Z)<<BigInt(32))}),h.prototype.readBigUInt64BE=Gn(function(T){T=T>>>0,De(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Xe(T,this.length-8);const H=C*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],Z=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+k;return(BigInt(H)<<BigInt(32))+BigInt(Z)}),h.prototype.readIntLE=function(T,C,k){T=T>>>0,C=C>>>0,k||V(T,C,this.length);let H=this[T],Z=1,se=0;for(;++se<C&&(Z*=256);)H+=this[T+se]*Z;return Z*=128,H>=Z&&(H-=Math.pow(2,8*C)),H},h.prototype.readIntBE=function(T,C,k){T=T>>>0,C=C>>>0,k||V(T,C,this.length);let H=C,Z=1,se=this[T+--H];for(;H>0&&(Z*=256);)se+=this[T+--H]*Z;return Z*=128,se>=Z&&(se-=Math.pow(2,8*C)),se},h.prototype.readInt8=function(T,C){return T=T>>>0,C||V(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},h.prototype.readInt16LE=function(T,C){T=T>>>0,C||V(T,2,this.length);const k=this[T]|this[T+1]<<8;return k&32768?k|4294901760:k},h.prototype.readInt16BE=function(T,C){T=T>>>0,C||V(T,2,this.length);const k=this[T+1]|this[T]<<8;return k&32768?k|4294901760:k},h.prototype.readInt32LE=function(T,C){return T=T>>>0,C||V(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},h.prototype.readInt32BE=function(T,C){return T=T>>>0,C||V(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},h.prototype.readBigInt64LE=Gn(function(T){T=T>>>0,De(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Xe(T,this.length-8);const H=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(k<<24);return(BigInt(H)<<BigInt(32))+BigInt(C+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),h.prototype.readBigInt64BE=Gn(function(T){T=T>>>0,De(T,"offset");const C=this[T],k=this[T+7];(C===void 0||k===void 0)&&Xe(T,this.length-8);const H=(C<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(H)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+k)}),h.prototype.readFloatLE=function(T,C){return T=T>>>0,C||V(T,4,this.length),n.read(this,T,!0,23,4)},h.prototype.readFloatBE=function(T,C){return T=T>>>0,C||V(T,4,this.length),n.read(this,T,!1,23,4)},h.prototype.readDoubleLE=function(T,C){return T=T>>>0,C||V(T,8,this.length),n.read(this,T,!0,52,8)},h.prototype.readDoubleBE=function(T,C){return T=T>>>0,C||V(T,8,this.length),n.read(this,T,!1,52,8)};function ce(O,T,C,k,H,Z){if(!h.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>H||T<Z)throw new RangeError('"value" argument is out of bounds');if(C+k>O.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(T,C,k,H){if(T=+T,C=C>>>0,k=k>>>0,!H){const Ge=Math.pow(2,8*k)-1;ce(this,T,C,k,Ge,0)}let Z=1,se=0;for(this[C]=T&255;++se<k&&(Z*=256);)this[C+se]=T/Z&255;return C+k},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(T,C,k,H){if(T=+T,C=C>>>0,k=k>>>0,!H){const Ge=Math.pow(2,8*k)-1;ce(this,T,C,k,Ge,0)}let Z=k-1,se=1;for(this[C+Z]=T&255;--Z>=0&&(se*=256);)this[C+Z]=T/se&255;return C+k},h.prototype.writeUint8=h.prototype.writeUInt8=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,1,255,0),this[C]=T&255,C+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,2,65535,0),this[C]=T&255,this[C+1]=T>>>8,C+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,2,65535,0),this[C]=T>>>8,this[C+1]=T&255,C+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,4,4294967295,0),this[C+3]=T>>>24,this[C+2]=T>>>16,this[C+1]=T>>>8,this[C]=T&255,C+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,4,4294967295,0),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4};function me(O,T,C,k,H){He(T,k,H,O,C,7);let Z=Number(T&BigInt(4294967295));O[C++]=Z,Z=Z>>8,O[C++]=Z,Z=Z>>8,O[C++]=Z,Z=Z>>8,O[C++]=Z;let se=Number(T>>BigInt(32)&BigInt(4294967295));return O[C++]=se,se=se>>8,O[C++]=se,se=se>>8,O[C++]=se,se=se>>8,O[C++]=se,C}function ge(O,T,C,k,H){He(T,k,H,O,C,7);let Z=Number(T&BigInt(4294967295));O[C+7]=Z,Z=Z>>8,O[C+6]=Z,Z=Z>>8,O[C+5]=Z,Z=Z>>8,O[C+4]=Z;let se=Number(T>>BigInt(32)&BigInt(4294967295));return O[C+3]=se,se=se>>8,O[C+2]=se,se=se>>8,O[C+1]=se,se=se>>8,O[C]=se,C+8}h.prototype.writeBigUInt64LE=Gn(function(T,C=0){return me(this,T,C,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Gn(function(T,C=0){return ge(this,T,C,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(T,C,k,H){if(T=+T,C=C>>>0,!H){const Tt=Math.pow(2,8*k-1);ce(this,T,C,k,Tt-1,-Tt)}let Z=0,se=1,Ge=0;for(this[C]=T&255;++Z<k&&(se*=256);)T<0&&Ge===0&&this[C+Z-1]!==0&&(Ge=1),this[C+Z]=(T/se>>0)-Ge&255;return C+k},h.prototype.writeIntBE=function(T,C,k,H){if(T=+T,C=C>>>0,!H){const Tt=Math.pow(2,8*k-1);ce(this,T,C,k,Tt-1,-Tt)}let Z=k-1,se=1,Ge=0;for(this[C+Z]=T&255;--Z>=0&&(se*=256);)T<0&&Ge===0&&this[C+Z+1]!==0&&(Ge=1),this[C+Z]=(T/se>>0)-Ge&255;return C+k},h.prototype.writeInt8=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,1,127,-128),T<0&&(T=255+T+1),this[C]=T&255,C+1},h.prototype.writeInt16LE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,2,32767,-32768),this[C]=T&255,this[C+1]=T>>>8,C+2},h.prototype.writeInt16BE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,2,32767,-32768),this[C]=T>>>8,this[C+1]=T&255,C+2},h.prototype.writeInt32LE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,4,2147483647,-2147483648),this[C]=T&255,this[C+1]=T>>>8,this[C+2]=T>>>16,this[C+3]=T>>>24,C+4},h.prototype.writeInt32BE=function(T,C,k){return T=+T,C=C>>>0,k||ce(this,T,C,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4},h.prototype.writeBigInt64LE=Gn(function(T,C=0){return me(this,T,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Gn(function(T,C=0){return ge(this,T,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(O,T,C,k,H,Z){if(C+k>O.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function ae(O,T,C,k,H){return T=+T,C=C>>>0,H||we(O,T,C,4),n.write(O,T,C,k,23,4),C+4}h.prototype.writeFloatLE=function(T,C,k){return ae(this,T,C,!0,k)},h.prototype.writeFloatBE=function(T,C,k){return ae(this,T,C,!1,k)};function oe(O,T,C,k,H){return T=+T,C=C>>>0,H||we(O,T,C,8),n.write(O,T,C,k,52,8),C+8}h.prototype.writeDoubleLE=function(T,C,k){return oe(this,T,C,!0,k)},h.prototype.writeDoubleBE=function(T,C,k){return oe(this,T,C,!1,k)},h.prototype.copy=function(T,C,k,H){if(!h.isBuffer(T))throw new TypeError("argument should be a Buffer");if(k||(k=0),!H&&H!==0&&(H=this.length),C>=T.length&&(C=T.length),C||(C=0),H>0&&H<k&&(H=k),H===k||T.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),T.length-C<H-k&&(H=T.length-C+k);const Z=H-k;return this===T&&typeof o.prototype.copyWithin=="function"?this.copyWithin(C,k,H):o.prototype.set.call(T,this.subarray(k,H),C),Z},h.prototype.fill=function(T,C,k,H){if(typeof T=="string"){if(typeof C=="string"?(H=C,C=0,k=this.length):typeof k=="string"&&(H=k,k=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!h.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(T.length===1){const se=T.charCodeAt(0);(H==="utf8"&&se<128||H==="latin1")&&(T=se)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(C<0||this.length<C||this.length<k)throw new RangeError("Out of range index");if(k<=C)return this;C=C>>>0,k=k===void 0?this.length:k>>>0,T||(T=0);let Z;if(typeof T=="number")for(Z=C;Z<k;++Z)this[Z]=T;else{const se=h.isBuffer(T)?T:h.from(T,H),Ge=se.length;if(Ge===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(Z=0;Z<k-C;++Z)this[Z+C]=se[Z%Ge]}return this};const ye={};function pe(O,T,C){ye[O]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(O,T){return`The "${O}" argument must be of type number. Received type ${typeof T}`},TypeError),pe("ERR_OUT_OF_RANGE",function(O,T,C){let k=`The value of "${O}" is out of range.`,H=C;return Number.isInteger(C)&&Math.abs(C)>2**32?H=Ue(String(C)):typeof C=="bigint"&&(H=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(H=Ue(H)),H+="n"),k+=` It must be ${T}. Received ${H}`,k},RangeError);function Ue(O){let T="",C=O.length;const k=O[0]==="-"?1:0;for(;C>=k+4;C-=3)T=`_${O.slice(C-3,C)}${T}`;return`${O.slice(0,C)}${T}`}function Fe(O,T,C){De(T,"offset"),(O[T]===void 0||O[T+C]===void 0)&&Xe(T,O.length-(C+1))}function He(O,T,C,k,H,Z){if(O>C||O<T){const se=typeof T=="bigint"?"n":"";let Ge;throw T===0||T===BigInt(0)?Ge=`>= 0${se} and < 2${se} ** ${(Z+1)*8}${se}`:Ge=`>= -(2${se} ** ${(Z+1)*8-1}${se}) and < 2 ** ${(Z+1)*8-1}${se}`,new ye.ERR_OUT_OF_RANGE("value",Ge,O)}Fe(k,H,Z)}function De(O,T){if(typeof O!="number")throw new ye.ERR_INVALID_ARG_TYPE(T,"number",O)}function Xe(O,T,C){throw Math.floor(O)!==O?(De(O,C),new ye.ERR_OUT_OF_RANGE("offset","an integer",O)):T<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,O)}const Gt=/[^+/0-9A-Za-z-_]/g;function en(O){if(O=O.split("=")[0],O=O.trim().replace(Gt,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function un(O,T){T=T||1/0;let C;const k=O.length;let H=null;const Z=[];for(let se=0;se<k;++se){if(C=O.charCodeAt(se),C>55295&&C<57344){if(!H){if(C>56319){(T-=3)>-1&&Z.push(239,191,189);continue}else if(se+1===k){(T-=3)>-1&&Z.push(239,191,189);continue}H=C;continue}if(C<56320){(T-=3)>-1&&Z.push(239,191,189),H=C;continue}C=(H-55296<<10|C-56320)+65536}else H&&(T-=3)>-1&&Z.push(239,191,189);if(H=null,C<128){if((T-=1)<0)break;Z.push(C)}else if(C<2048){if((T-=2)<0)break;Z.push(C>>6|192,C&63|128)}else if(C<65536){if((T-=3)<0)break;Z.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((T-=4)<0)break;Z.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return Z}function Tn(O){const T=[];for(let C=0;C<O.length;++C)T.push(O.charCodeAt(C)&255);return T}function Dt(O,T){let C,k,H;const Z=[];for(let se=0;se<O.length&&!((T-=2)<0);++se)C=O.charCodeAt(se),k=C>>8,H=C%256,Z.push(H),Z.push(k);return Z}function $t(O){return e.toByteArray(en(O))}function bt(O,T,C,k){let H;for(H=0;H<k&&!(H+C>=T.length||H>=O.length);++H)T[H+C]=O[H];return H}function Oe(O,T){return O instanceof T||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===T.name}function kt(O){return O!==O}const Bi=(function(){const O="0123456789abcdef",T=new Array(256);for(let C=0;C<16;++C){const k=C*16;for(let H=0;H<16;++H)T[k+H]=O[C]+O[H]}return T})();function Gn(O){return typeof BigInt>"u"?oh:O}function oh(){throw new Error("BigInt not supported")}})(nI);const Pf=nI.Buffer;class $v extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _6 extends $v{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Py extends $v{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Hv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w6=()=>Response,Oy=t=>{if(Array.isArray(t))return t.map(n=>Oy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Oy(r)}),e},E6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Im=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},x6=(t,e,n)=>Ce(void 0,void 0,void 0,function*(){const r=yield w6();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new _6(Im(i),o,l))}).catch(i=>{e(new Py(Im(i),i))}):e(new Py(Im(t),t))}),S6=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(E6(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function pu(t,e,n,r,i,o){return Ce(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,S6(e,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>x6(f,c,r))})})}function Ql(t,e,n,r){return Ce(this,void 0,void 0,function*(){return pu(t,"GET",e,n,r)})}function Ir(t,e,n,r,i){return Ce(this,void 0,void 0,function*(){return pu(t,"POST",e,r,i,n)})}function Dy(t,e,n,r,i){return Ce(this,void 0,void 0,function*(){return pu(t,"PUT",e,r,i,n)})}function T6(t,e,n,r){return Ce(this,void 0,void 0,function*(){return pu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vv(t,e,n,r,i){return Ce(this,void 0,void 0,function*(){return pu(t,"DELETE",e,r,i,n)})}class A6{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}})}}var iI;class C6{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[iI]="BlobDownloadBuilder",this.promise=null}asStream(){return new A6(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}})}}iI=Symbol.toStringTag;const N6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ET={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R6{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Hv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Ce(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},ET),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),f&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(f))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?Dy:Ir)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ce(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:ET.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield Dy(this.fetch,c.toString(),f,{headers:h});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(It(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new $v("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Ir(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ce(this,void 0,void 0,function*(){try{const i=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),f=()=>Ql(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new C6(f,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ql(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Oy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}exists(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield T6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r)&&r instanceof Py){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},N6),n),{prefix:e||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ce(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Pf<"u"?Pf.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const aI="2.84.0",oI={"X-Client-Info":`storage-js/${aI}`};class I6{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oI),n),this.fetch=Hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ql(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}createBucket(e){return Ce(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class M6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oI),n),this.fetch=Hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ql(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}}const Kv={"X-Client-Info":`storage-js/${aI}`,"Content-Type":"application/json"};class sI extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Mm extends sI{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P6 extends sI{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var xT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xT||(xT={}));const Yv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),O6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ST=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),D6=(t,e,n)=>Ce(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Mm(ST(l),i,c))}).catch(()=>{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new Mm(c,i,l))});else{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new Mm(c,i,l))}}else e(new P6(ST(t),t))}),k6=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(O6(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function U6(t,e,n,r,i,o){return Ce(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,k6(e,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>D6(f,c,r))})})}function er(t,e,n,r,i){return Ce(this,void 0,void 0,function*(){return U6(t,"POST",e,r,i,n)})}class L6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zn(r))return{data:null,error:r};throw r}})}listIndexes(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zn(r))return{data:null,error:r};throw r}})}}class B6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield er(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}getVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}listVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield er(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield er(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}}class q6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}listBuckets(){return Ce(this,arguments,void 0,function*(e={}){try{return{data:yield er(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield er(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zn(n))return{data:null,error:n};throw n}})}}class j6 extends q6{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new z6(this.url,this.headers,e,this.fetch)}}class z6 extends L6{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new F6(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class F6 extends B6{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G6 extends I6{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new R6(this.url,this.headers,e,this.fetch)}get vectors(){return new j6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M6(this.url+"/iceberg",this.headers,this.fetch)}}const $6="2.84.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const H6={"X-Client-Info":`supabase-js-${Vl}/${$6}`},V6={headers:H6},K6={schema:"public"},Y6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J6={},W6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X6=()=>Headers,Q6=(t,e,n)=>{const r=W6(n),i=X6();return async(o,l)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:d}))}};function Z6(t){return t.endsWith("/")?t:t+"/"}function e8(t,e){var n,r;const{db:i,auth:o,realtime:l,global:c}=t,{db:f,auth:d,realtime:h,global:g}=e,b={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function t8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lI="2.84.0",fs=30*1e3,ky=3,Pm=ky*fs,n8="http://localhost:9999",r8="supabase.auth.token",i8={"X-Client-Info":`gotrue-js/${lI}`},Uy="X-Supabase-Api-Version",uI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o8=600*1e3;class Zl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class s8 extends Zl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function l8(t){return Ne(t)&&t.name==="AuthApiError"}class eo extends Zl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _a extends Zl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Xn extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u8(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class rs extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tf extends _a{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nf extends _a{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c8(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class TT extends _a{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ly extends _a{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Om(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class AT extends _a{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class By extends _a{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),CT=` 	
\r=`.split(""),f8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<CT.length;e+=1)t[CT[e].charCodeAt(0)]=-2;for(let e=0;e<Of.length;e+=1)t[Of[e].charCodeAt(0)]=e;return t})();function NT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Of[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Of[r]),e.queuedBits-=6}}function cI(t,e,n){const r=f8[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function RT(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{p8(l,r,n)};for(let l=0;l<t.length;l+=1)cI(t.charCodeAt(l),i,o);return e.join("")}function d8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function h8(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}d8(r,e)}}function p8(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _s(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cI(t.charCodeAt(i),n,r);return new Uint8Array(e)}function m8(t){const e=[];return h8(t,n=>e.push(n)),new Uint8Array(e)}function no(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>NT(i,n,r)),NT(null,n,r),e.join("")}function g8(t){return Math.round(Date.now()/1e3)+t}function y8(){return Symbol("auth-callback")}const En=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},fI=()=>{if(!En())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function v8(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const dI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),b8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ds=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ka=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ua=async(t,e)=>{await t.removeItem(e)};class Sd{constructor(){this.promise=new Sd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sd.promiseConstructor=Promise;function Dm(t){const e=t.split(".");if(e.length!==3)throw new By("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!a8.test(e[r]))throw new By("JWT not in base64url format");return{header:JSON.parse(RT(e[0])),payload:JSON.parse(RT(e[1])),signature:_s(e[2]),raw:{header:e[0],payload:e[1]}}}async function _8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w8(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function E8(t){return("0"+t.toString(16)).substr(-2)}function x8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,E8).join("")}async function S8(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function T8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await S8(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function is(t,e,n=!1){const r=x8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ds(t,`${e}-code-verifier`,i);const o=await T8(r);return[o,r===o?"plain":"s256"]}const A8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C8(t){const e=t.headers.get(Uy);if(!e||!e.match(A8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function R8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function as(t){if(!I8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M8(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function IT(t){return JSON.parse(JSON.stringify(t))}const Ya=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),P8=[502,503,504];async function MT(t){var e;if(!b8(t))throw new Ly(Ya(t),0);if(P8.includes(t.status))throw new Ly(Ya(t),t.status);let n;try{n=await t.json()}catch(o){throw new eo(Ya(o),o)}let r;const i=C8(t);if(i&&i.getTime()>=uI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new AT(Ya(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new AT(Ya(n),t.status,n.weak_password.reasons);throw new s8(Ya(n),t.status||500,r)}const O8=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Uy]||(o[Uy]=uI["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await D8(t,e,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function D8(t,e,n,r,i,o){const l=O8(e,r,i,o);let c;try{c=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new Ly(Ya(f),0)}if(c.ok||await MT(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await MT(f)}}function Rr(t){var e;let n=null;L8(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=g8(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function PT(t){const e=Rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function k8(t){return{data:t,error:null}}function U8(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,l=Ds(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function OT(t){return t}function L8(t){return t.access_token&&t.refresh_token&&t.expires_in}const Um=["global","local","others"];class B8{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=dI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Um[0]){if(Um.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ds(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:U8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:OT});if(h.error)throw h.error;const g=await h.json(),b=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);d[`${S}Page`]=A}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ne(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){as(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){as(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){as(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){as(e.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){as(e.userId),as(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:OT});if(h.error)throw h.error;const g=await h.json(),b=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);d[`${S}Page`]=A}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ne(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function DT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const os={debug:!!(globalThis&&fI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q8 extends hI{}async function j8(t,e,n){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function z8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pI(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function F8(t){return parseInt(t,16)}function G8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function $8(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:f,resources:d,scheme:h,uri:g,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=pI(t.address),E=h?`${h}://${r}`:r,A=t.statement?`${t.statement}
`:"",S=`${E} wants you to sign in with your Ethereum account:
${w}

${A}`;let R=`URI: ${g}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),c&&(R+=`
Not Before: ${c.toISOString()}`),f&&(R+=`
Request ID: ${f}`),d){let D=`
Resources:`;for(const M of d){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);D+=`
- ${M}`}R+=D}return`${S}
${R}`}class Wt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Df extends Wt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function H8({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(mI(l)){if(o.rp.id!==l)return new Wt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function V8({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(mI(r)){if(n.rpId!==r)return new Wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class K8{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Y8=new K8;function J8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ds(t,["challenge","user","excludeCredentials"]),o=_s(e).buffer,l=Object.assign(Object.assign({},n),{id:_s(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];c.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:_s(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function W8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ds(t,["challenge","allowCredentials"]),i=_s(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:_s(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function X8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:no(new Uint8Array(t.response.attestationObject)),clientDataJSON:no(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:no(new Uint8Array(i.authenticatorData)),clientDataJSON:no(new Uint8Array(i.clientDataJSON)),signature:no(new Uint8Array(i.signature)),userHandle:i.userHandle?no(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mI(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kT(){var t,e;return!!(En()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Z8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Df("Browser returned unexpected credential type",e)}:{data:null,error:new Df("Empty credential response",e)}}catch(e){return{data:null,error:H8({error:e,options:t})}}}async function ez(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Df("Browser returned unexpected credential type",e)}:{data:null,error:new Df("Empty credential response",e)}}catch(e){return{data:null,error:V8({error:e,options:t})}}}const tz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=kf(c,l):r[o]=kf(l)}else r[o]=l}return r}function rz(t,e){return kf(tz,t,e||{})}function iz(t,e){return kf(nz,t,e||{})}class az{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const f=i??Y8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=rz(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:g}=await Z8({publicKey:d,signal:f});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=iz(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:g}=await ez(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new eo("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn authentication")};try{if(!kT())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new eo("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn registration")};try{if(!kT())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new eo("Unexpected error in register",l)}}}}z8();const oz={url:n8,storageKey:r8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function UT(t,e,n){return await n()}const ss={};class eu{get jwks(){var e,n;return(n=(e=ss[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ss[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},oz),e);if(this.storageKey=o.storageKey,this.instanceID=(n=eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&En()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new B8({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dI(o.fetch),this.lock=o.lock||UT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:En()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=j8:this.lock=UT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new az(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:fI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=DT(this.memoryStorage)),En()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lI}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(En()&&(n=v8(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),En()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),c8(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?this._returnResult({error:n}):this._returnResult({error:new eo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:h,password:g,options:b}=e;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await is(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:h,password:g,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:E},xform:Rr})}else if("phone"in e){const{phone:h,password:g,options:b}=e;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Rr})}else throw new tf("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:PT})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:PT})}else throw new tf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new rs;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,l,c,f,d,h,g,b;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:A,wallet:S,statement:R,options:D}=e;let M;if(En())if(typeof S=="object")M=S;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")M=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=S}const L=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),U=await M.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=pI(U[0]);let F=(r=D==null?void 0:D.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const z=await M.request({method:"eth_chainId"});F=F8(z)}const ie={domain:L.host,address:B,statement:R,uri:L.href,version:"1",chainId:F,nonce:(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=D==null?void 0:D.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=$8(ie),E=await M.request({method:"personal_sign",params:[G8(w),B]})}try{const{data:A,error:S}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Rr});if(S)throw S;if(!A||!A.session||!A.user){const R=new rs;return this._returnResult({data:{user:null,session:null},error:R})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:S})}catch(A){if(Ne(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var n,r,i,o,l,c,f,d,h,g,b,w;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:S,wallet:R,statement:D,options:M}=e;let L;if(En())if(typeof R=="object")L=R;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))L=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=R}const U=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const B=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),D?{statement:D}:null));let F;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")F=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)F=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),A=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${U.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=M==null?void 0:M.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((g=(h=M==null?void 0:M.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...M.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const B=await L.signMessage(new TextEncoder().encode(E),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=B}}try{const{data:S,error:R}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:no(A)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Rr});if(R)throw R;if(!S||!S.session||!S.user){const D=new rs;return this._returnResult({data:{user:null,session:null},error:D})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(Ne(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Ka(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rr});if(await ua(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new rs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ne(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=e,c=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rr}),{data:f,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const h=new rs;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,l;try{if("email"in e){const{email:c,options:f}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await is(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:h}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new tf("You must provide either an email or phone number.")}catch(c){if(Ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Rr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,l;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await is(this.storage,this.storageKey));const d=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:k8});return!((o=d.data)===null||o===void 0)&&o.url&&En()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(Ne(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Xn;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:c}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new tf("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Pm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ka(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=km()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=M8(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fa}):await this._useSession(async n=>{var r,i,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:fa})})}catch(n){if(Ne(n))return u8(n)&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Xn;const l=i.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await is(this.storage,this.storageKey));const{data:d,error:h}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:fa});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Dm(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Xn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!En())throw new nf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new TT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new TT("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=e;if(!o||!c||!l||!d)throw new nf("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let b=h+g;f&&(b=parseInt(f));const w=b-h;w*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const E=b-g;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,h);const{data:A,error:S}=await this._getUser(o);if(S)throw S;const R={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:b,refresh_token:l,token_type:d,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ka(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(l8(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=y8(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await is(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ne(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,c,f,d,h;const{data:g,error:b}=o;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return En()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:c,token:f,access_token:d,nonce:h}=e,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rr}),{data:b,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new rs}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await w8(async i=>(i>0&&await _8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Om(o)&&Date.now()+l-r<fs})}catch(r){if(this._debug(n,"error",r),Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),En()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ka(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await ds(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:km()}else if(i&&!i.user&&!i.user){const l=await Ka(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ua(this.storage,this.storageKey+"-user"),await ds(this.storage,this.storageKey,i)):i.user=km()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Om(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sd;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Xn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),Ne(o)){const l={data:null,error:o};return Om(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ds(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=IT(i);await ds(this.storage,this.storageKey,o)}else{const i=IT(n);await ds(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ua(this.storage,this.storageKey),await ua(this.storage,this.storageKey+"-code-verifier"),await ua(this.storage,this.storageKey+"-user"),this.userStorage&&await ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&En()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fs}ms, refresh threshold is ${ky} ticks`),i<=ky&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!En()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await is(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?X8(e.webauthn.credential_response):Q8(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:J8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:W8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dm(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Xn});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&En()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Xn});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&En()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(e){if(Ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Xn})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+o8>i)return r;const{data:o,error:l}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});r=w.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:f}}=Dm(r);n!=null&&n.allowExpired||N8(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:i,signature:l},error:null}}const h=R8(i.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,m8(`${c}.${f}`)))throw new By("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}}eu.nextInstanceID={};const sz=eu;class lz extends sz{constructor(e){super(e)}}class uz{constructor(e,n,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=n;const c=t8(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:K6,realtime:J6,auth:Object.assign(Object.assign({},Y6),{storageKey:f}),global:V6},h=e8(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=Q6(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Yj(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new G6(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new $j(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:c,lock:f,debug:d,throwOnError:h},g,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lz({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:f,debug:d,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new f6(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cz=(t,e,n)=>new uz(t,e,n);function fz(){if(typeof window<"u"||typeof Yr>"u")return!1;const t=Yr.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dz="https://zozsbxivnpmmblypcbaq.supabase.co",hz=void 0,ot=cz(dz,hz),gI=I.createContext(void 0),pz=({children:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState([]),[o,l]=I.useState([]),[c,f]=I.useState([]),[d,h]=I.useState(!1),[g,b]=I.useState(new Set),[w,E]=I.useState({name:"FinMKS Global",taxId:"XAXX010101000",address:"123 Business St",logoUrl:"",taxRate:16,language:"ES"}),A=j=>{var V;const X=(e==null?void 0:e.language)||w.language||"ES";return((V=Lx[X])==null?void 0:V[j])||j};I.useEffect(()=>{h(!0),ot.auth.getSession().then(({data:{session:X}})=>{X!=null&&X.user?S(X.user.id,X.user.email):h(!1)});const{data:{subscription:j}}=ot.auth.onAuthStateChange((X,V)=>{V!=null&&V.user?S(V.user.id,V.user.email):(n(null),l([]),f([]),i([]),h(!1))});return()=>j.unsubscribe()},[]);const S=async(j,X)=>{const{data:V,error:ce}=await ot.from("profiles").select("*").eq("id",j).single();if(V){if(V.status==="INACTIVE"){console.warn("User is inactive. Logging out."),await ne();return}const me={id:V.id,email:V.email||X,name:V.full_name||"User",role:V.role||Sn.VIEWER,avatar:V.avatar_url,phone:V.phone,bio:V.bio,language:V.language,status:V.status||"ACTIVE"};n(me),R(me.id,me.role)}else if(ce&&(console.error("Error fetching profile:",JSON.stringify(ce)),ce.code==="PGRST116")){console.log("Profile row missing. Creating default profile...");const{error:me}=await ot.from("profiles").insert({id:j,email:X,full_name:"New User",role:"ADMIN",language:"ES",status:"ACTIVE"});if(me)console.error("Error creating default profile:",JSON.stringify(me));else{const ge={id:j,email:X,name:"New User",role:Sn.ADMIN,avatar:"",language:"ES",status:"ACTIVE"};n(ge),R(j,Sn.ADMIN)}}},R=async(j,X)=>{const{data:V}=await ot.from("company_settings").select("*").limit(1).single();V&&E({name:V.name,taxId:V.tax_id,address:V.address,logoUrl:V.logo_url||"",taxRate:V.tax_rate,language:"ES"});const{data:ce}=await ot.from("transactions").select("*").order("date",{ascending:!1});if(ce){const ge=ce.map(we=>({id:we.id,date:we.date,dueDate:we.due_date,description:we.description,amount:parseFloat(we.amount),group:we.group,type:we.type,accountType:we.account_type,status:we.status,receiptImage:we.receipt_image}));l(ge),ge.length===0&&F(j)}const{data:me}=await ot.from("financial_reports").select("*").order("created_at",{ascending:!1});if(me){const ge=me.map(we=>({folio:we.folio,type:we.type,dateGenerated:we.created_at,periodStart:we.period_start,periodEnd:we.period_end,generatedBy:we.generated_by,companySnapshot:we.company_snapshot,data:we.data,ratios:we.ratios,aiAnalysis:we.ai_analysis}));f(ge)}X===Sn.ADMIN&&D(),h(!1)},D=async()=>{const{data:j,error:X}=await ot.from("profiles").select("*");if(j){const V=j.map(ce=>({id:ce.id,name:ce.full_name,email:ce.email,role:ce.role,avatar:ce.avatar_url,phone:ce.phone,bio:ce.bio,language:ce.language,status:ce.status||"ACTIVE"}));i(V)}else X&&console.error("Error fetching all users:",JSON.stringify(X))},M=async(j,X,V)=>{const ce=Math.floor(Math.random()*65535).toString(16).toUpperCase().padStart(4,"0"),me=new Date(Date.now()+360*60*1e3).toISOString(),{error:ge}=await ot.from("invitations").insert({code:ce,email:j,name:X,role:V,expires_at:me});return ge?(console.error("Error creating invitation:",ge),ge.code==="42501"&&alert("Permission Denied: Admins need 'insert' access to invitations table."),null):ce},L=async j=>{const{data:X,error:V}=await ot.from("invitations").select("*").eq("code",j).single();if(V||!X)return{success:!1,error:"Invalid Code"};const ce=new Date,me=new Date(X.expires_at);return ce>me?(await ot.from("invitations").delete().eq("code",j),{success:!1,error:"Code Expired"}):{success:!0,data:X}},U=async j=>{if(!j.email||!j.name||!j.role)return{success:!1};const X=await M(j.email,j.name,j.role);return{success:!!X,code:X||void 0}},B=async(j,X)=>{const V=X==="ACTIVE"?"INACTIVE":"ACTIVE",{data:ce,error:me}=await ot.from("profiles").update({status:V}).eq("id",j).select();me?(console.error("Error updating user status:",me),alert("Failed to update status. Database error.")):ce&&ce.length>0?(i(ge=>ge.map(we=>we.id===j?{...we,status:V}:we)),console.log(`User ${j} status updated to ${V}`)):(console.error("Update succeeded but no rows modified. RLS likely prevented update."),alert("Permission Denied: You do not have permission to update this user's status."))},F=async j=>{const X=[],V=new Date,ce=[{d:"Consulting Services",t:Mt.INCOME,g:In.OPERATING,a:Et.RECEIVABLE},{d:"Office Rent",t:Mt.EXPENSE,g:In.OPERATING,a:Et.PAYABLE},{d:"Server Hosting",t:Mt.EXPENSE,g:In.OPERATING,a:Et.PAYABLE},{d:"New Laptop",t:Mt.EXPENSE,g:In.INVESTING,a:Et.CASH},{d:"Client Retainer",t:Mt.INCOME,g:In.OPERATING,a:Et.CASH}];for(let ge=0;ge<20;ge++){const we=ce[Math.floor(Math.random()*ce.length)],ae=Math.random()>.2,oe=new Date(V);oe.setDate(V.getDate()+(ae?-Math.floor(Math.random()*90):Math.floor(Math.random()*30)));let ye=hn.PAID,pe=null;if(we.a===Et.PAYABLE||we.a===Et.RECEIVABLE){ye=Math.random()>.5?hn.PAID:hn.PENDING;const Ue=new Date(oe);Ue.setDate(Ue.getDate()+15),pe=Ue.toISOString().split("T")[0]}X.push({user_id:j,date:oe.toISOString().split("T")[0],due_date:pe,description:`${we.d} #${1e3+ge}`,amount:Math.floor(Math.random()*5e3)+100,group:we.g,type:we.t,account_type:we.a,status:ye})}const{error:me}=await ot.from("transactions").insert(X);me||(console.log(" Seed data inserted successfully"),R(j,Sn.ADMIN))},ie=I.useMemo(()=>{const j=[],X=new Date;return X.setHours(0,0,0,0),o.forEach(V=>{if(!g.has(V.id)&&V.status===hn.PENDING&&V.dueDate&&(V.accountType===Et.PAYABLE||V.accountType===Et.RECEIVABLE)){const ce=new Date(V.dueDate);ce.setHours(0,0,0,0);const me=ce.getTime()-X.getTime(),ge=Math.ceil(me/(1e3*60*60*24)),we=V.accountType===Et.PAYABLE?"Payable":"Receivable";ge<0?j.push({id:V.id,transactionId:V.id,message:`${we}: "${V.description}" is OVERDUE by ${Math.abs(ge)} days.`,severity:"high",date:V.dueDate,type:"OVERDUE"}):ge<=7?j.push({id:V.id,transactionId:V.id,message:`${we}: "${V.description}" due in ${ge} days.`,severity:"medium",date:V.dueDate,type:"DUE_SOON"}):ge<=30&&j.push({id:V.id,transactionId:V.id,message:`${we}: "${V.description}" due in ${ge} days.`,severity:"low",date:V.dueDate,type:"UPCOMING"})}}),j.sort((V,ce)=>V.severity==="high"?-1:1)},[o,g]),z=j=>b(X=>new Set(X).add(j)),fe=async(j,X)=>{const{data:V,error:ce}=await ot.auth.signInWithPassword({email:j,password:X});if(V.user){const{data:me}=await ot.from("profiles").select("status").eq("id",V.user.id).single();if(me&&me.status==="INACTIVE")return await ot.auth.signOut(),{success:!1,error:A("accountInactive")}}return ce?{success:!1,error:ce.message}:{success:!0}},te=async(j,X,V,ce,me)=>{const{data:ge,error:we}=await ot.auth.signUp({email:j,password:X});if(we)return{success:!1,error:we.message};if(ge.user){if(V||ce){console.log("Applying invitation details to new user...");const{error:ae}=await ot.from("profiles").update({full_name:V,role:ce||Sn.VIEWER,status:"ACTIVE"}).eq("id",ge.user.id);ae&&console.error("Error updating invited profile:",ae)}me&&await ot.from("invitations").delete().eq("code",me)}return{success:!0}},ne=async()=>{await ot.auth.signOut()},be=async j=>{if(!e)return;const X={full_name:j.name,phone:j.phone,bio:j.bio,avatar_url:j.avatar,language:j.language},{error:V}=await ot.from("profiles").update(X).eq("id",e.id);V?(console.error("Update profile failed",JSON.stringify(V)),alert("Failed to update profile. See console.")):(console.log(" Profile updated successfully:",X),n({...e,...j}))},Se=async()=>{const{error:j}=await ot.auth.resetPasswordForEmail((e==null?void 0:e.email)||"",{redirectTo:window.location.origin});return j&&console.error(j),"123456"},Ie=async(j,X)=>{const{error:V}=await ot.auth.updateUser({password:X});return!V},Y=async j=>{const{error:X}=await ot.from("company_settings").update({name:j.name,tax_id:j.taxId,address:j.address,logo_url:j.logoUrl,tax_rate:j.taxRate}).gt("id",0);X||(console.log(" Company settings updated successfully:",j),E(j))},he=async j=>{if(!e){alert("User not logged in");return}const{data:X,error:V}=await ot.from("transactions").insert({user_id:e.id,date:j.date,due_date:j.dueDate,description:j.description,amount:j.amount,group:j.group,type:j.type,account_type:j.accountType,status:j.status,receipt_image:j.receiptImage}).select().single();if(V){console.error("Error adding transaction:",JSON.stringify(V)),alert("Failed to add transaction to database.");return}X&&(console.log(" Transaction saved to Supabase:",X),l(ce=>[{...j,id:X.id},...ce]))},ve=async j=>{const{error:X}=await ot.from("transactions").delete().eq("id",j);X||(console.log(" Transaction deleted:",j),l(V=>V.filter(ce=>ce.id!==j)))},Te=async(j,X)=>{const{error:V}=await ot.from("transactions").update({status:X}).eq("id",j);V||l(ce=>ce.map(me=>me.id===j?{...me,status:X}:me))},ke=async(j,X,V)=>{try{if(!e){alert("Please log in to generate reports.");return}const ce=new Date(X),me=new Date(V);me.setHours(23,59,59,999);const ge=o.filter(He=>{const De=new Date(He.date);return De>=ce&&De<=me});let we={},ae=[];const oe=(e==null?void 0:e.language)||"ES",ye=He=>{var De;return((De=Lx[oe])==null?void 0:De[He])||He};if(j===ha.INCOME_STATEMENT){const He=ge.filter(Dt=>Dt.type===Mt.INCOME&&Dt.group===In.OPERATING),De=ge.filter(Dt=>Dt.type===Mt.EXPENSE&&Dt.group===In.OPERATING),Xe=He.reduce((Dt,$t)=>Dt+$t.amount,0),Gt=De.reduce((Dt,$t)=>Dt+$t.amount,0),en=Xe-Gt,un=en>0?en*(w.taxRate/100):0,Tn=en-un;we={period:`${X} to ${V}`,revenues:He,expenses:De,totalRevenue:Xe,totalExpenses:Gt,incomeBeforeTax:en,taxRate:w.taxRate,taxAmount:un,netIncome:Tn},ae=[{name:ye("ratio_gross_margin"),value:Xe>0?((Xe-Gt)/Xe*100).toFixed(2)+"%":"0%"},{name:ye("ratio_op_margin"),value:Xe>0?(en/Xe*100).toFixed(2)+"%":"0%"},{name:ye("ratio_net_profit_margin"),value:Xe>0?(Tn/Xe*100).toFixed(2)+"%":"0%"},{name:ye("ratio_exp_revenue"),value:Xe>0?(Gt/Xe*100).toFixed(2)+"%":"0%"},{name:ye("ratio_tax_burden"),value:en>0?(un/en*100).toFixed(2)+"%":"0%"}]}else if(j===ha.BALANCE_SHEET){const He=o.filter(Oe=>new Date(Oe.date)<=me),De=He.filter(Oe=>Oe.accountType===Et.CASH&&Oe.type===Mt.INCOME).reduce((Oe,kt)=>Oe+kt.amount,0)-He.filter(Oe=>Oe.accountType===Et.CASH&&Oe.type===Mt.EXPENSE).reduce((Oe,kt)=>Oe+kt.amount,0),Xe=He.filter(Oe=>Oe.accountType===Et.RECEIVABLE&&Oe.status===hn.PENDING),Gt=Xe.reduce((Oe,kt)=>Oe+kt.amount,0),en=He.filter(Oe=>Oe.group===In.INVESTING&&Oe.type===Mt.EXPENSE).reduce((Oe,kt)=>Oe+kt.amount,0),un=He.filter(Oe=>Oe.accountType===Et.PAYABLE&&Oe.status===hn.PENDING),Tn=un.reduce((Oe,kt)=>Oe+kt.amount,0),Dt=De+Gt+en,$t=Tn,bt=Dt-$t;we={date:V,assets:{cashAndEquivalents:De,accountsReceivable:Gt,fixedAssets:en,totalAssets:Dt},liabilities:{accountsPayable:Tn,longTermDebt:0,totalLiabilities:$t},equity:bt,details:{pendingReceivables:Xe,pendingPayables:un}},ae=[{name:ye("ratio_current_ratio"),value:$t>0?((De+Gt)/$t).toFixed(2):"N/A"},{name:ye("ratio_debt_ratio"),value:Dt>0?($t/Dt).toFixed(2):"0"},{name:ye("ratio_debt_equity"),value:bt>0?($t/bt).toFixed(2):"N/A"},{name:ye("ratio_working_capital"),value:`$${(De+Gt-Tn).toFixed(2)}`},{name:ye("ratio_cash_ratio"),value:$t>0?(De/$t).toFixed(2):"N/A"}]}else if(j===ha.CASH_FLOW){const He=Oe=>Oe.accountType===Et.CASH||Oe.status===hn.PAID,De=Oe=>ge.filter(kt=>kt.group===Oe&&He(kt)),Xe=De(In.OPERATING),Gt=De(In.INVESTING),en=De(In.FINANCING),un=Oe=>Oe.reduce((kt,Bi)=>Bi.type===Mt.INCOME?kt+Bi.amount:kt-Bi.amount,0),Tn=un(Xe),Dt=un(Gt),$t=un(en),bt=Tn+Dt+$t;we={period:`${X} to ${V}`,operatingActivities:Tn,investingActivities:Dt,financingActivities:$t,netCashFlow:bt,details:{operatingTransactions:Xe,investingTransactions:Gt,financingTransactions:en}},ae=[{name:ye("ratio_op_cash_flow"),value:"Requires Current Liab."},{name:ye("ratio_free_cash_flow"),value:`$${(Tn+Dt).toFixed(2)}`},{name:ye("ratio_cash_flow_cov"),value:"N/A"},{name:ye("ratio_cash_flow_margin"),value:"Requires Revenue"},{name:ye("ratio_net_cash_change"),value:`$${bt.toFixed(2)}`}]}const pe=`FOL-${Date.now().toString().slice(-6)}`,{data:Ue,error:Fe}=await ot.from("financial_reports").insert({folio:pe,user_id:e.id,type:j,period_start:X,period_end:V,generated_by:e.name||"Unknown",company_snapshot:w,data:we,ratios:ae}).select().single();if(Ue&&!Fe){console.log(" Report generated and saved to Supabase:",Ue);const He={folio:Ue.folio,type:Ue.type,dateGenerated:Ue.created_at,periodStart:Ue.period_start,periodEnd:Ue.period_end,generatedBy:Ue.generated_by,companySnapshot:Ue.company_snapshot,data:Ue.data,ratios:Ue.ratios,aiAnalysis:void 0};f(De=>[He,...De])}else console.error("Error generating report:",JSON.stringify(Fe)),alert("Failed to save report to database.")}catch(ce){console.error("Report generation logic failed",ce),alert("Failed to generate report.")}},G=async j=>{h(!0);try{const X=c.find(oe=>oe.folio===j);if(!X)return;const V=(e==null?void 0:e.language)||"ES",{analysis:ce,ratios:me}=await Lj(X.type,X.data,X.ratios,V),ge=new Map(me.map(oe=>[oe.name,oe.analysis])),we=X.ratios.map(oe=>({...oe,analysis:ge.get(oe.name)||oe.analysis})),{error:ae}=await ot.from("financial_reports").update({ai_analysis:ce,ratios:we}).eq("folio",j);ae||console.log(" Report analyzed and updated in Supabase"),f(oe=>oe.map(ye=>ye.folio===j?{...ye,aiAnalysis:ce,ratios:we}:ye))}catch(X){console.error("AI Analysis failed",X)}finally{h(!1)}};return x.jsx(gI.Provider,{value:{currentUser:e,allUsers:r,login:fe,signUp:te,logout:ne,updateUserProfile:be,requestPasswordReset:Se,confirmPasswordChange:Ie,companySettings:w,updateCompanySettings:Y,transactions:o,addTransaction:he,deleteTransaction:ve,updateTransactionStatus:Te,reports:c,generateReport:ke,analyzeReport:G,isLoading:d,notifications:ie,dismissNotification:z,t:A,fetchAllUsers:D,addNewUser:U,toggleUserStatus:B,createInvitation:M,verifyInvitation:L},children:t})},wa=()=>{const t=I.useContext(gI);if(!t)throw new Error("useFinance must be used within FinancialProvider");return t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),LT=t=>{const e=gz(t);return e.charAt(0).toUpperCase()+e.slice(1)},yI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>I.createElement("svg",{ref:f,...vz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:yI("lucide",i),...!o&&!yz(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,h])=>I.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=I.forwardRef(({className:r,...i},o)=>I.createElement(bz,{ref:o,iconNode:e,className:yI(`lucide-${mz(LT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=LT(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wz=je("arrow-left",_z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qy=je("bell",Ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Sz=je("brain-circuit",xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],BT=je("building-2",Tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jv=je("calendar",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nz=je("camera",Cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Iz=je("chart-pie",Rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jy=je("check",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wv=je("circle-alert",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qT=je("circle-check-big",Oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],jT=je("circle-user",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vI=je("circle-x",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lz=je("clock",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qz=je("copy",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zz=je("download",jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gz=je("eye-off",Fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bI=je("eye",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zy=je("file-text",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kz=je("globe",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Fy=je("key-round",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wz=je("layout-dashboard",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ws=je("loader-circle",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zz=je("lock",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t5=je("log-out",e5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_I=je("mail",n5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],i5=je("menu",r5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],o5=je("plus",a5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],l5=je("power",s5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],c5=je("receipt",u5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zT=je("save",f5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],h5=je("settings-2",d5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m5=je("settings",p5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y5=je("shield-check",g5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],b5=je("shield",v5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],FT=je("sparkles",_5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E5=je("trash-2",w5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],S5=je("trending-down",x5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A5=je("trending-up",T5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N5=je("triangle-alert",C5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],I5=je("user-plus",R5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GT=je("users",M5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O5=je("wallet",P5),D5=({currentPage:t,setPage:e})=>{const{currentUser:n,logout:r,t:i}=wa(),o=[{id:"dashboard",label:i("dashboard"),icon:Wz},{id:"transactions",label:i("movements"),icon:c5},{id:"reports",label:i("reports"),icon:zy},{id:"notifications",label:i("notifications"),icon:qy},{id:"settings",label:i("settings"),icon:m5}];return x.jsxs("div",{className:"w-64 bg-gray-800 text-white flex flex-col h-full md:h-screen md:sticky md:top-0 no-print shadow-xl",children:[x.jsx("div",{className:"p-6 border-b border-slate-700",children:x.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[x.jsx(Iz,{className:"text-blue-400"}),"FinMKS"]})}),x.jsx("div",{className:"flex-1 py-6 px-4 space-y-2",children:o.map(l=>x.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t===l.id?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[x.jsx(l.icon,{size:20}),x.jsx("span",{className:"font-medium",children:l.label})]},l.id))}),x.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[x.jsx("img",{src:n==null?void 0:n.avatar,alt:"User",className:"w-8 h-8 rounded-full bg-slate-800"}),x.jsxs("div",{className:"flex-1 overflow-hidden",children:[x.jsx("p",{className:"text-sm font-semibold truncate",children:n==null?void 0:n.name}),x.jsx("p",{className:"text-xs text-slate-400 truncate",children:n==null?void 0:n.role})]})]}),x.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-slate-800 rounded-lg transition-colors",children:[x.jsx(t5,{size:16}),i("signOut")]})]})]})};function wI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wI(t))&&(r&&(r+=" "),r+=e);return r}var k5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xv(t){if(typeof t!="string")return!1;var e=k5;return e.includes(t)}var U5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L5=new Set(U5);function EI(t){return typeof t!="string"?!1:L5.has(t)}function xI(t){return typeof t=="string"&&t.startsWith("data-")}function Ts(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(EI(n)||xI(n))&&(e[n]=t[n]);return e}function Gy(t){if(t==null)return null;if(I.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ts(e)}return typeof t=="object"&&!Array.isArray(t)?Ts(t):null}function Er(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(EI(n)||xI(n)||Xv(n))&&(e[n]=t[n]);return e}var B5=["children","width","height","viewBox","className","style","title","desc"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function q5(t,e){if(t==null)return{};var n,r,i=j5(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function j5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SI=I.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:c,title:f,desc:d}=t,h=q5(t,B5),g=o||{width:r,height:i,x:0,y:0},b=Zt("recharts-surface",l);return I.createElement("svg",$y({},Er(h),{className:b,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),I.createElement("title",null,f),I.createElement("desc",null,d),n)}),z5=["children","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function F5(t,e){if(t==null)return{};var n,r,i=G5(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ma=I.forwardRef((t,e)=>{var{children:n,className:r}=t,i=F5(t,z5),o=Zt("recharts-layer",r);return I.createElement("g",Hy({className:o},Er(i),{ref:e}),n)}),TI=VN(),$5=I.createContext(null);function yt(t){return function(){return t}}const AI=Math.cos,Uf=Math.sin,qr=Math.sqrt,Lf=Math.PI,Td=2*Lf,Vy=Math.PI,Ky=2*Vy,Ja=1e-6,H5=Ky-Ja;function CI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function V5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CI;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class K5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CI:V5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-e,d=i-n,h=l-e,g=c-n,b=h*h+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Ja)if(!(Math.abs(g*f-d*h)>Ja)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=i-c,A=f*f+d*d,S=w*w+E*E,R=Math.sqrt(A),D=Math.sqrt(b),M=o*Math.tan((Vy-Math.acos((A+b-S)/(2*R*D)))/2),L=M/D,U=M/R;Math.abs(L-1)>Ja&&this._append`L${e+L*h},${n+L*g}`,this._append`A${o},${o},0,0,${+(g*w>h*E)},${this._x1=e+U*f},${this._y1=n+U*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,h=n+f,g=1^l,b=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ja||Math.abs(this._y1-h)>Ja)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%Ky+Ky),b>H5?this._append`A${r},${r},0,1,${g},${e-c},${n-f}A${r},${r},0,1,${g},${this._x1=d},${this._y1=h}`:b>Ja&&this._append`A${r},${r},0,${+(b>=Vy)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new K5(e)}function Zv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function NI(t){this._context=t}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ad(t){return new NI(t)}function RI(t){return t[0]}function II(t){return t[1]}function MI(t,e){var n=yt(!0),r=null,i=Ad,o=null,l=Qv(c);t=typeof t=="function"?t:t===void 0?RI:yt(t),e=typeof e=="function"?e:e===void 0?II:yt(e);function c(f){var d,h=(f=Zv(f)).length,g,b=!1,w;for(r==null&&(o=i(w=l())),d=0;d<=h;++d)!(d<h&&n(g=f[d],d,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(g,d,f),+e(g,d,f));if(w)return o=null,w+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:yt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),c):r},c}function rf(t,e,n){var r=null,i=yt(!0),o=null,l=Ad,c=null,f=Qv(d);t=typeof t=="function"?t:t===void 0?RI:yt(+t),e=typeof e=="function"?e:yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?II:yt(+n);function d(g){var b,w,E,A=(g=Zv(g)).length,S,R=!1,D,M=new Array(A),L=new Array(A);for(o==null&&(c=l(D=f())),b=0;b<=A;++b){if(!(b<A&&i(S=g[b],b,g))===R)if(R=!R)w=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=b-1;E>=w;--E)c.point(M[E],L[E]);c.lineEnd(),c.areaEnd()}R&&(M[b]=+t(S,b,g),L[b]=+e(S,b,g),c.point(r?+r(S,b,g):M[b],n?+n(S,b,g):L[b]))}if(D)return c=null,D+""||null}function h(){return MI().defined(i).curve(l).context(o)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:yt(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:yt(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:yt(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:yt(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:yt(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:yt(+g),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:yt(!!g),d):i},d.curve=function(g){return arguments.length?(l=g,o!=null&&(c=l(o)),d):l},d.context=function(g){return arguments.length?(g==null?o=c=null:c=l(o=g),d):o},d}class PI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y5(t){return new PI(t,!0)}function J5(t){return new PI(t,!1)}const e0={draw(t,e){const n=qr(e/Lf);t.moveTo(n,0),t.arc(0,0,n,0,Td)}},W5={draw(t,e){const n=qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OI=qr(1/3),X5=OI*2,Q5={draw(t,e){const n=qr(e/X5),r=n*OI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Z5={draw(t,e){const n=qr(e),r=-n/2;t.rect(r,r,n,n)}},eF=.8908130915292852,DI=Uf(Lf/10)/Uf(7*Lf/10),tF=Uf(Td/10)*DI,nF=-AI(Td/10)*DI,rF={draw(t,e){const n=qr(e*eF),r=tF*n,i=nF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=Td*o/5,c=AI(l),f=Uf(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},Lm=qr(3),iF={draw(t,e){const n=-qr(e/(Lm*3));t.moveTo(0,n*2),t.lineTo(-Lm*n,-n),t.lineTo(Lm*n,-n),t.closePath()}},gr=-.5,yr=qr(3)/2,Yy=1/qr(12),aF=(Yy/2+1)*3,oF={draw(t,e){const n=qr(e/aF),r=n/2,i=n*Yy,o=r,l=n*Yy+n,c=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(gr*r-yr*i,yr*r+gr*i),t.lineTo(gr*o-yr*l,yr*o+gr*l),t.lineTo(gr*c-yr*f,yr*c+gr*f),t.lineTo(gr*r+yr*i,gr*i-yr*r),t.lineTo(gr*o+yr*l,gr*l-yr*o),t.lineTo(gr*c+yr*f,gr*f-yr*c),t.closePath()}};function sF(t,e){let n=null,r=Qv(i);t=typeof t=="function"?t:yt(t||e0),e=typeof e=="function"?e:yt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:yt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:yt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Bf(){}function qf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kI(t){this._context=t}kI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lF(t){return new kI(t)}function UI(t){this._context=t}UI.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uF(t){return new UI(t)}function LI(t){this._context=t}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cF(t){return new LI(t)}function BI(t){this._context=t}BI.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fF(t){return new BI(t)}function $T(t){return t<0?-1:1}function HT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return($T(o)+$T(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function VT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,l-c*n,o,l)}function jf(t){this._context=t}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bm(this,this._t0,VT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bm(this,VT(this,n=HT(this,t,e)),n);break;default:Bm(this,this._t0,n=HT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qI(t){this._context=new jI(t)}(qI.prototype=Object.create(jf.prototype)).point=function(t,e){jf.prototype.point.call(this,e,t)};function jI(t){this._context=t}jI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function dF(t){return new jf(t)}function hF(t){return new qI(t)}function zI(t){this._context=t}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KT(t),i=KT(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KT(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function pF(t){return new zI(t)}function Cd(t,e){this._context=t,this._t=e}Cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mF(t){return new Cd(t,.5)}function gF(t){return new Cd(t,0)}function yF(t){return new Cd(t,1)}function As(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,c=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vF(t,e){return t[e]}function bF(t){const e=[];return e.key=t,e}function _F(){var t=yt([]),e=Jy,n=As,r=vF;function i(o){var l=Array.from(t.apply(this,arguments),bF),c,f=l.length,d=-1,h;for(const g of o)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(g,l[c].key,d,o)]).data=g;for(c=0,h=Zv(e(l));c<f;++c)l[h[c]].index=c;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:yt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:yt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Jy:typeof o=="function"?o:yt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??As,i):n},i}function wF(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}As(t,e)}}function EF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}As(t,e)}}function xF(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,f=0,d=0;c<l;++c){for(var h=t[e[c]],g=h[r][1]||0,b=h[r-1][1]||0,w=(g-b)/2,E=0;E<c;++E){var A=t[e[E]],S=A[r][1]||0,R=A[r-1][1]||0;w+=S-R}f+=g,d+=w*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,As(t,e)}}var qm={},jm={},YT;function SF(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(jm)),jm}var zm={},JT;function FI(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(zm)),zm}var Fm={},WT;function t0(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Fm)),Fm}var Gm={},$m={},XT;function TF(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})($m)),$m}var QT;function n0(){return QT||(QT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TF(),n=t0();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let c=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const g=i[c];d?g==="\\"&&c+1<l?(c++,f+=i[c]):g===d?d="":f+=g:h?g==='"'||g==="'"?d=g:g==="]"?(h=!1,o.push(f),f=""):f+=g:g==="["?(h=!0,f&&(o.push(f),f="")):g==="."?f&&(o.push(f),f=""):f+=g,c++}return f&&o.push(f),o}t.toPath=r})(Gm)),Gm}var ZT;function r0(){return ZT||(ZT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SF(),n=FI(),r=t0(),i=n0();function o(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=c[f];return h===void 0?n.isDeepKey(f)?o(c,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=c[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=c[f];return h===void 0?d:h}}}function l(c,f,d){if(f.length===0)return d;let h=c;for(let g=0;g<f.length;g++){if(h==null||e.isUnsafeProperty(f[g]))return d;h=h[f[g]]}return h===void 0?d:h}t.get=o})(qm)),qm}var Hm,eA;function AF(){return eA||(eA=1,Hm=r0().get),Hm}var CF=AF();const tu=Lr(CF);var jn=t=>t===0?0:t>0?1:-1,xi=t=>typeof t=="number"&&t!=+t,Si=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Be=t=>(typeof t=="number"||t instanceof Number)&&!xi(t),Ti=t=>Be(t)||typeof t=="string",NF=0,nu=t=>{var e=++NF;return"".concat(t||"").concat(e)},nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&typeof e!="string")return r;var o;if(Si(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return xi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},GI=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Pr(t,e,n){return Be(t)&&Be(e)?t+n*(e-t):e}function RF(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):tu(r,e))===n)}var ir=t=>t===null||typeof t>"u",mu=t=>ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function IF(t){return t!=null}function gu(){}var MF=["type","size","sizeType"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){PF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PF(t,e,n){return(e=OF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OF(t){var e=DF(t,"string");return typeof e=="symbol"?e:e+""}function DF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kF(t,e){if(t==null)return{};var n,r,i=UF(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $I={symbolCircle:e0,symbolCross:W5,symbolDiamond:Q5,symbolSquare:Z5,symbolStar:rF,symbolTriangle:iF,symbolWye:oF},LF=Math.PI/180,BF=t=>{var e="symbol".concat(mu(t));return $I[e]||e0},qF=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*LF;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jF=(t,e)=>{$I["symbol".concat(mu(t))]=e},HI=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=kF(t,MF),o=nA(nA({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=BF(l),w=sF().type(b).size(qF(n,r,l)),E=w();if(E!==null)return E},{className:f,cx:d,cy:h}=o,g=Er(o);return Be(d)&&Be(h)&&Be(n)?I.createElement("path",Wy({},g,{className:Zt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};HI.registerSymbol=jF;var VI=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,zF=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Xv(i)&&(r[i]=(o=>n[i](n,o)))}),r},FF=(t,e,n)=>r=>(t(e,n,r),null),GF=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Xv(i)&&typeof o=="function"&&(r||(r={}),r[i]=FF(o,e,n))}),r};function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){HF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HF(t,e,n){return(e=VF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VF(t){var e=KF(t,"string");return typeof e=="symbol"?e:e+""}function KF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(t,e){var n=$F({},t),r=e,i=Object.keys(e),o=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}var Vm={},Km={},iA;function YF(){return iA||(iA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Km)),Km}var Ym={},aA;function KI(){return aA||(aA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ym)),Ym}var Jm={},Wm={},Xm={},oA;function JF(){return oA||(oA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Xm)),Xm}var sA;function i0(){return sA||(sA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JF();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Wm)),Wm}var Qm={},lA;function WF(){return lA||(lA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Qm)),Qm}var uA;function XF(){return uA||(uA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i0(),n=WF();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Jm)),Jm}var Zm={},eg={},cA;function QF(){return cA||(cA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r0();function n(r){return function(i){return e.get(i,r)}}t.property=n})(eg)),eg}var tg={},ng={},rg={},ig={},fA;function YI(){return fA||(fA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ig)),ig}var ag={},dA;function JI(){return dA||(dA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ag)),ag}var og={},hA;function WI(){return hA||(hA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(og)),og}var pA;function ZF(){return pA||(pA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YI(),n=JI(),r=WI();function i(h,g,b){return typeof b!="function"?i(h,g,()=>{}):o(h,g,function w(E,A,S,R,D,M){const L=b(E,A,S,R,D,M);return L!==void 0?!!L:o(E,A,w,M)},new Map)}function o(h,g,b,w){if(g===h)return!0;switch(typeof g){case"object":return l(h,g,b,w);case"function":return Object.keys(g).length>0?o(h,{...g},b,w):r.eq(h,g);default:return e.isObject(h)?typeof g=="string"?g==="":!0:r.eq(h,g)}}function l(h,g,b,w){if(g==null)return!0;if(Array.isArray(g))return f(h,g,b,w);if(g instanceof Map)return c(h,g,b,w);if(g instanceof Set)return d(h,g,b,w);const E=Object.keys(g);if(h==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===h;w==null||w.set(g,h);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(h)&&!(S in h)||g[S]===void 0&&h[S]!==void 0||g[S]===null&&h[S]!==null||!b(h[S],g[S],S,h,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function c(h,g,b,w){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,A]of g.entries()){const S=h.get(E);if(b(S,A,E,h,g,w)===!1)return!1}return!0}function f(h,g,b,w){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let R=!1;for(let D=0;D<h.length;D++){if(E.has(D))continue;const M=h[D];let L=!1;if(b(M,S,A,h,g,w)&&(L=!0),L){E.add(D),R=!0;break}}if(!R)return!1}return!0}function d(h,g,b,w){return g.size===0?!0:h instanceof Set?f([...h],[...g],b,w):!1}t.isMatchWith=i,t.isSetMatch=d})(rg)),rg}var mA;function XI(){return mA||(mA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZF();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(ng)),ng}var sg={},lg={},ug={},gA;function eG(){return gA||(gA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ug)),ug}var cg={},yA;function QI(){return yA||(yA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(cg)),cg}var fg={},vA;function ZI(){return vA||(vA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",M="[object Uint32Array]",L="[object BigUint64Array]",U="[object Int8Array]",B="[object Int16Array]",F="[object Int32Array]",ie="[object BigInt64Array]",z="[object Float32Array]",fe="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=h,t.bigInt64ArrayTag=ie,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=A,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=z,t.float64ArrayTag=fe,t.functionTag=g,t.int16ArrayTag=B,t.int32ArrayTag=F,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=D,t.uint32ArrayTag=M,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=R})(fg)),fg}var dg={},bA;function tG(){return bA||(bA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(dg)),dg}var _A;function eM(){return _A||(_A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eG(),n=QI(),r=ZI(),i=JI(),o=tG();function l(h,g){return c(h,void 0,h,new Map,g)}function c(h,g,b,w=new Map,E=void 0){const A=E==null?void 0:E(h,g,b,w);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const S=new Array(h.length);w.set(h,S);for(let R=0;R<h.length;R++)S[R]=c(h[R],R,b,w,E);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;w.set(h,S);for(const[R,D]of h)S.set(R,c(D,R,b,w,E));return S}if(h instanceof Set){const S=new Set;w.set(h,S);for(const R of h)S.add(c(R,void 0,b,w,E));return S}if(typeof Pf<"u"&&Pf.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,S);for(let R=0;R<h.length;R++)S[R]=c(h[R],R,b,w,E);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,S),f(S,h,b,w,E),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return w.set(h,S),f(S,h,b,w,E),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return w.set(h,S),f(S,h,b,w,E),S}if(h instanceof Error){const S=new h.constructor;return w.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,b,w,E),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return w.set(h,S),f(S,h,b,w,E),S}if(h instanceof Number){const S=new Number(h.valueOf());return w.set(h,S),f(S,h,b,w,E),S}if(h instanceof String){const S=new String(h.valueOf());return w.set(h,S),f(S,h,b,w,E),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return w.set(h,S),f(S,h,b,w,E),S}return h}function f(h,g,b=h,w,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const R=A[S],D=Object.getOwnPropertyDescriptor(h,R);(D==null||D.writable)&&(h[R]=c(g[R],R,b,w,E))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(lg)),lg}var wA;function nG(){return wA||(wA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(sg)),sg}var EA;function rG(){return EA||(EA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XI(),n=nG();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(tg)),tg}var hg={},pg={},mg={},xA;function iG(){return xA||(xA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eM(),n=ZI();function r(i,o){return e.cloneDeepWith(i,(l,c,f,d)=>{const h=o==null?void 0:o(l,c,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(mg)),mg}var SA;function aG(){return SA||(SA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iG();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(pg)),pg}var gg={},yg={},TA;function tM(){return TA||(TA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(yg)),yg}var vg={},AA;function oG(){return AA||(AA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(vg)),vg}var CA;function sG(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FI(),n=tM(),r=oG(),i=n0();function o(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const g=f[h];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=o})(gg)),gg}var NA;function lG(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XI(),n=t0(),r=aG(),i=r0(),o=sG();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,c);return h===void 0?o.has(d,c):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(hg)),hg}var RA;function uG(){return RA||(RA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KI(),n=QF(),r=rG(),i=lG();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Zm)),Zm}var IA;function cG(){return IA||(IA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YF(),n=KI(),r=XF(),i=uG();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=o})(Vm)),Vm}var bg,MA;function fG(){return MA||(MA=1,bg=cG().uniqBy),bg}var dG=fG();const PA=Lr(dG);function hG(t,e,n){return e===!0?PA(t,n):typeof e=="function"?PA(t,e):t}var _g={exports:{}},wg={},Eg={exports:{}},xg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function pG(){if(OA)return xg;OA=1;var t=Is();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(g,b){var w=b(),E=r({inst:{value:w,getSnapshot:b}}),A=E[0].inst,S=E[1];return o(function(){A.value=w,A.getSnapshot=b,f(A)&&S({inst:A})},[g,w,b]),i(function(){return f(A)&&S({inst:A}),g(function(){f(A)&&S({inst:A})})},[g]),l(w),w}function f(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function d(g,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return xg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,xg}var DA;function mG(){return DA||(DA=1,Eg.exports=pG()),Eg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function gG(){if(kA)return wg;kA=1;var t=Is(),e=mG();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return wg.useSyncExternalStoreWithSelector=function(d,h,g,b,w){var E=o(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=c(function(){function R(B){if(!D){if(D=!0,M=B,B=b(B),w!==void 0&&A.hasValue){var F=A.value;if(w(F,B))return L=F}return L=B}if(F=L,r(M,B))return F;var ie=b(B);return w!==void 0&&w(F,ie)?(M=B,F):(M=B,L=ie)}var D=!1,M,L,U=g===void 0?null:g;return[function(){return R(h())},U===null?void 0:function(){return R(U())}]},[h,g,b,w]);var S=i(d,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=S},[S]),f(S),S},wg}var UA;function yG(){return UA||(UA=1,_g.exports=gG()),_g.exports}var vG=yG(),a0=I.createContext(null),bG=t=>t,an=()=>{var t=I.useContext(a0);return t?t.store.dispatch:bG},xf=()=>{},_G=()=>xf,wG=(t,e)=>t===e;function $e(t){var e=I.useContext(a0);return vG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_G,e?e.store.getState:xf,e?e.store.getState:xf,e?t:xf,wG)}function EG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function SG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var LA=t=>Array.isArray(t)?t:[t];function TG(t){const e=Array.isArray(t[0])?t[0]:t;return SG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AG(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var CG=class{constructor(t){this.value=t}deref(){return this.value}},NG=typeof WeakRef<"u"?WeakRef:CG,RG=0,BA=1;function af(){return{s:RG,v:void 0,o:null,p:null}}function nM(t,e={}){let n=af();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var g;let c=n;const{length:f}=arguments;for(let b=0,w=f;b<w;b++){const E=arguments[b];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const S=A.get(E);S===void 0?(c=af(),A.set(E,c)):c=S}else{let A=c.p;A===null&&(c.p=A=new Map);const S=A.get(E);S===void 0?(c=af(),A.set(E,c)):c=S}}const d=c;let h;if(c.s===BA)h=c.v;else if(h=t.apply(null,arguments),o++,r){const b=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;b!=null&&r(b,h)&&(h=b,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new NG(h):h}return d.s=BA,d.v=h,h}return l.clearCache=()=>{n=af(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function IG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),EG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:w=nM,argsMemoizeOptions:E=[]}=h,A=LA(b),S=LA(E),R=TG(i),D=g(function(){return o++,d.apply(null,arguments)},...A),M=w(function(){l++;const U=AG(R,arguments);return c=D.apply(null,U),c},...S);return Object.assign(M,{resultFunc:d,memoizedResultFunc:D,dependencies:R,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ee=IG(nM),MG=Object.assign((t,e=ee)=>{xG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>MG}),Sg={},Tg={},Ag={},qA;function PG(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(Ag)),Ag}var Cg={},Ng={},jA;function rM(){return jA||(jA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ng)),Ng}var zA;function OG(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(Cg)),Cg}var FA;function DG(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PG(),n=OG(),r=n0();function i(o,l,c,f){if(o==null)return[];c=f?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const d=(w,E)=>{let A=w;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},h=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:d(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?d(E,w):typeof E=="object"?E[w]:E,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:g.map(E=>h(E,w))})).slice().sort((w,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(w.criteria[A],E.criteria[A],c[A]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=i})(Tg)),Tg}var Rg={},GA;function kG(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const h=c[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}t.flatten=e})(Rg)),Rg}var Ig={},$A;function iM(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM(),n=i0(),r=YI(),i=WI();function o(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=o})(Ig)),Ig}var HA;function UG(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DG(),n=kG(),r=iM();function i(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(Sg)),Sg}var Mg,VA;function LG(){return VA||(VA=1,Mg=UG().sortBy),Mg}var BG=LG();const Nd=Lr(BG);var aM=t=>t.legend.settings,qG=t=>t.legend.size,jG=t=>t.legend.payload;ee([jG,aM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Nd(r,n):r});var of=1;function zG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=I.useState({height:0,left:0,top:0,width:0}),r=I.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>of||Math.abs(l.left-e.left)>of||Math.abs(l.top-e.top)>of||Math.abs(l.width-e.width)>of)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var FG=typeof Symbol=="function"&&Symbol.observable||"@@observable",KA=FG,Pg=()=>Math.random().toString(36).substring(7).split("").join("."),GG={INIT:`@@redux/INIT${Pg()}`,REPLACE:`@@redux/REPLACE${Pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pg()}`},zf=GG;function o0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function oM(t,e,n){if(typeof t!="function")throw new Error(xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xn(1));return n(oM)(t,e)}let r=t,i=e,o=new Map,l=o,c=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((S,R)=>{l.set(R,S)}))}function h(){if(f)throw new Error(xn(3));return i}function g(S){if(typeof S!="function")throw new Error(xn(4));if(f)throw new Error(xn(5));let R=!0;d();const D=c++;return l.set(D,S),function(){if(R){if(f)throw new Error(xn(6));R=!1,d(),l.delete(D),o=null}}}function b(S){if(!o0(S))throw new Error(xn(7));if(typeof S.type>"u")throw new Error(xn(8));if(typeof S.type!="string")throw new Error(xn(17));if(f)throw new Error(xn(9));try{f=!0,i=r(i,S)}finally{f=!1}return(o=l).forEach(D=>{D()}),S}function w(S){if(typeof S!="function")throw new Error(xn(10));r=S,b({type:zf.REPLACE})}function E(){const S=g;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(xn(11));function D(){const L=R;L.next&&L.next(h())}return D(),{unsubscribe:S(D)}},[KA](){return this}}}return b({type:zf.INIT}),{dispatch:b,subscribe:g,getState:h,replaceReducer:w,[KA]:E}}function $G(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zf.INIT})>"u")throw new Error(xn(12));if(typeof n(void 0,{type:zf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xn(13))})}function sM(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{$G(n)}catch(o){i=o}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const g=r[h],b=n[g],w=l[g],E=b(w,c);if(typeof E>"u")throw c&&c.type,new Error(xn(14));d[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Ff(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function HG(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(xn(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},c=t.map(f=>f(l));return o=Ff(...c)(i.dispatch),{...i,dispatch:o}}}function lM(t){return o0(t)&&"type"in t&&typeof t.type=="string"}var uM=Symbol.for("immer-nothing"),YA=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Or(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ru=Object.getPrototypeOf;function uo(t){return!!t&&!!t[ar]}function Ai(t){var e;return t?cM(t)||Array.isArray(t)||!!t[YA]||!!((e=t.constructor)!=null&&e[YA])||yu(t)||Id(t):!1}var VG=Object.prototype.constructor.toString(),JA=new WeakMap;function cM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JA.get(n);return r===void 0&&(r=Function.toString.call(n),JA.set(n,r)),r===VG}function Gf(t,e,n=!0){Rd(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Rd(t){const e=t[ar];return e?e.type_:Array.isArray(t)?1:yu(t)?2:Id(t)?3:0}function Xy(t,e){return Rd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fM(t,e,n){const r=Rd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function KG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yu(t){return t instanceof Map}function Id(t){return t instanceof Set}function Wa(t){return t.copy_||t.base_}function Qy(t,e){if(yu(t))return new Map(t);if(Id(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=cM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ar];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(ru(t),r)}else{const r=ru(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function s0(t,e=!1){return Md(t)||uo(t)||!Ai(t)||(Rd(t)>1&&Object.defineProperties(t,{set:sf,add:sf,clear:sf,delete:sf}),Object.freeze(t),e&&Object.values(t).forEach(n=>s0(n,!0))),t}function YG(){Or(2)}var sf={value:YG};function Md(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var JG={};function co(t){const e=JG[t];return e||Or(0,t),e}var iu;function dM(){return iu}function WG(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WA(t,e){e&&(co("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zy(t){ev(t),t.drafts_.forEach(XG),t.drafts_=null}function ev(t){t===iu&&(iu=t.parent_)}function XA(t){return iu=WG(iu,t)}function XG(t){const e=t[ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ar].modified_&&(Zy(e),Or(4)),Ai(t)&&(t=$f(e,t),e.parent_||Hf(e,t)),e.patches_&&co("Patches").generateReplacementPatches_(n[ar].base_,t,e.patches_,e.inversePatches_)):t=$f(e,n,[]),Zy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==uM?t:void 0}function $f(t,e,n){if(Md(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ar];if(!i)return Gf(e,(o,l)=>ZA(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Hf(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,c=!1;i.type_===3&&(l=new Set(o),o.clear(),c=!0),Gf(l,(f,d)=>ZA(t,i,o,f,d,n,c),r),Hf(t,o,!1),n&&t.patches_&&co("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function ZA(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const c=Md(i);if(!(c&&!l)){if(uo(i)){const f=o&&e&&e.type_!==3&&!Xy(e.assigned_,r)?o.concat(r):void 0,d=$f(t,i,f);if(fM(n,r,d),uo(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ai(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;$f(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(yu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hf(t,i)}}}function Hf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&s0(e,n)}function QG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:dM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=l0;n&&(i=[r],o=au);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,c}var l0={get(t,e){if(e===ar)return t;const n=Wa(t);if(!Xy(n,e))return ZG(t,n,e);const r=n[e];return t.finalized_||!Ai(r)?r:r===Og(t.base_,e)?(Dg(t),t.copy_[e]=nv(r,t)):r},has(t,e){return e in Wa(t)},ownKeys(t){return Reflect.ownKeys(Wa(t))},set(t,e,n){const r=hM(Wa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Og(Wa(t),e),o=i==null?void 0:i[ar];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(KG(n,i)&&(n!==void 0||Xy(t.base_,e)))return!0;Dg(t),tv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Og(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Dg(t),tv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Or(11)},getPrototypeOf(t){return ru(t.base_)},setPrototypeOf(){Or(12)}},au={};Gf(l0,(t,e)=>{au[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});au.deleteProperty=function(t,e){return au.set.call(this,t,e,void 0)};au.set=function(t,e,n){return l0.set.call(this,t[0],e,n,t[0])};function Og(t,e){const n=t[ar];return(n?Wa(n):t)[e]}function ZG(t,e,n){var i;const r=hM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function hM(t,e){if(!(e in t))return;let n=ru(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ru(n)}}function tv(t){t.modified_||(t.modified_=!0,t.parent_&&tv(t.parent_))}function Dg(t){t.copy_||(t.copy_=Qy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var e$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&Or(6),r!==void 0&&typeof r!="function"&&Or(7);let i;if(Ai(e)){const o=XA(this),l=nv(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Zy(o):ev(o)}return WA(o,r),QA(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===uM&&(i=void 0),this.autoFreeze_&&s0(i,!0),r){const o=[],l=[];co("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else Or(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ai(t)||Or(8),uo(t)&&(t=Ur(t));const e=XA(this),n=nv(t,void 0);return n[ar].isManual_=!0,ev(e),n}finishDraft(t,e){const n=t&&t[ar];(!n||!n.isManual_)&&Or(9);const{scope_:r}=n;return WA(r,e),QA(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=co("Patches").applyPatches_;return uo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function nv(t,e){const n=yu(t)?co("MapSet").proxyMap_(t,e):Id(t)?co("MapSet").proxySet_(t,e):QG(t,e);return(e?e.scope_:dM()).drafts_.push(n),n}function Ur(t){return uo(t)||Or(10,t),pM(t)}function pM(t){if(!Ai(t)||Md(t))return t;const e=t[ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Qy(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Qy(t,!0);return Gf(n,(i,o)=>{fM(n,i,pM(o))},r),e&&(e.finalized_=!1),n}var rv=new e$,mM=rv.produce,t$=rv.setUseStrictIteration.bind(rv);function gM(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var n$=gM(),r$=gM,i$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ff:Ff.apply(null,arguments)};function xr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(rr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>lM(r)&&r.type===t,n}var yM=class Kl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kl(...e[0].concat(this)):new Kl(...e.concat(this))}};function e1(t){return Ai(t)?mM(t,()=>{}):t}function lf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function a$(t){return typeof t=="boolean"}var o$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new yM;return n&&(a$(n)?l.push(n$):l.push(r$(n.extraArgument))),l},vM="RTK_autoBatch",Ct=()=>t=>({payload:t,meta:{[vM]:!0}}),t1=t=>e=>{setTimeout(e,t)},bM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t1(10):t.type==="callback"?t.queueNotification:t1(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>i&&h(),b=r.subscribe(g);return c.add(h),()=>{b(),c.delete(h)}},dispatch(h){var g;try{return i=!((g=h==null?void 0:h.meta)!=null&&g[vM]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},s$=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new yM(t);return r&&i.push(bM(typeof r=="object"?r:void 0)),i};function l$(t){const e=o$(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(o0(n))c=sM(n);else throw new Error(rr(1));let f;typeof r=="function"?f=r(e):f=e();let d=Ff;i&&(d=i$({trace:!1,...typeof i=="object"&&i}));const h=HG(...f),g=s$(h);let b=typeof l=="function"?l(g):g();const w=d(...b);return oM(c,o,w)}function _M(t){const e={},n=[];let r;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(rr(28));if(c in e)throw new Error(rr(29));return e[c]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}t$(!1);function u$(t){return typeof t=="function"}function c$(t,e){let[n,r,i]=_M(e),o;if(u$(t))o=()=>e1(t());else{const c=e1(t);o=()=>c}function l(c=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,g)=>{if(g)if(uo(h)){const w=g(h,f);return w===void 0?h:w}else{if(Ai(h))return mM(h,b=>g(b,f));{const b=g(h,f);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},c)}return l.getInitialState=o,l}var f$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d$=(t=21)=>{let e="",n=t;for(;n--;)e+=f$[Math.random()*64|0];return e},h$=Symbol.for("rtk-slice-createasyncthunk");function p$(t,e){return`${t}/${e}`}function m$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[h$];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(rr(11));const c=(typeof i.reducers=="function"?i.reducers(y$()):i.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(L,U){const B=typeof L=="string"?L:L.type;if(!B)throw new Error(rr(12));if(B in d.sliceCaseReducersByType)throw new Error(rr(13));return d.sliceCaseReducersByType[B]=U,h},addMatcher(L,U){return d.sliceMatchers.push({matcher:L,reducer:U}),h},exposeAction(L,U){return d.actionCreators[L]=U,h},exposeCaseReducer(L,U){return d.sliceCaseReducersByName[L]=U,h}};f.forEach(L=>{const U=c[L],B={reducerName:L,type:p$(o,L),createNotation:typeof i.reducers=="function"};b$(U)?w$(B,U,h,e):v$(B,U,h)});function g(){const[L={},U=[],B=void 0]=typeof i.extraReducers=="function"?_M(i.extraReducers):[i.extraReducers],F={...L,...d.sliceCaseReducersByType};return c$(i.initialState,ie=>{for(let z in F)ie.addCase(z,F[z]);for(let z of d.sliceMatchers)ie.addMatcher(z.matcher,z.reducer);for(let z of U)ie.addMatcher(z.matcher,z.reducer);B&&ie.addDefaultCase(B)})}const b=L=>L,w=new Map,E=new WeakMap;let A;function S(L,U){return A||(A=g()),A(L,U)}function R(){return A||(A=g()),A.getInitialState()}function D(L,U=!1){function B(ie){let z=ie[L];return typeof z>"u"&&U&&(z=lf(E,B,R)),z}function F(ie=b){const z=lf(w,U,()=>new WeakMap);return lf(z,ie,()=>{const fe={};for(const[te,ne]of Object.entries(i.selectors??{}))fe[te]=g$(ne,ie,()=>lf(E,ie,R),U);return fe})}return{reducerPath:L,getSelectors:F,get selectors(){return F(B)},selectSlice:B}}const M={name:o,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:R,...D(l),injectInto(L,{reducerPath:U,...B}={}){const F=U??l;return L.inject({reducerPath:F,reducer:S},B),{...M,...D(F,!0)}}};return M}}function g$(t,e,n,r){function i(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Fn=m$();function y$(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function v$({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!_$(r))throw new Error(rr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?xr(t,l):xr(t))}function b$(t){return t._reducerDefinitionType==="asyncThunk"}function _$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function w$({type:t,reducerName:e},n,r,i){if(!i)throw new Error(rr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:d,options:h}=n,g=i(t,o,h);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:l||uf,pending:c||uf,rejected:f||uf,settled:d||uf})}function uf(){}var E$="task",wM="listener",EM="completed",u0="cancelled",x$=`task-${u0}`,S$=`task-${EM}`,iv=`${wM}-${u0}`,T$=`${wM}-${EM}`,Pd=class{constructor(t){bm(this,"name","TaskAbortError");bm(this,"message");this.code=t,this.message=`${E$} ${u0} (reason: ${t})`}},c0=(t,e)=>{if(typeof t!="function")throw new TypeError(rr(32))},Vf=()=>{},xM=(t,e=Vf)=>(t.catch(e),t),SM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ao=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},oo=t=>{if(t.aborted){const{reason:e}=t;throw new Pd(e)}};function TM(t,e){let n=Vf;return new Promise((r,i)=>{const o=()=>i(new Pd(t.reason));if(t.aborted){o();return}n=SM(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Vf})}var A$=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Pd?"cancelled":"rejected",error:n}}finally{e==null||e()}},Kf=t=>e=>xM(TM(t,e).then(n=>(oo(t),n))),AM=t=>{const e=Kf(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Es}=Object,n1={},Od="listenerMiddleware",C$=(t,e)=>{const n=r=>SM(t,()=>ao(r,t.reason));return(r,i)=>{c0(r);const o=new AbortController;n(o);const l=A$(async()=>{oo(t),oo(o.signal);const c=await r({pause:Kf(o.signal),delay:AM(o.signal),signal:o.signal});return oo(o.signal),c},()=>ao(o,S$));return i!=null&&i.autoJoin&&e.push(l.catch(Vf)),{result:Kf(t)(l),cancel(){ao(o,x$)}}}},N$=(t,e)=>{const n=async(r,i)=>{oo(e);let o=()=>{};const c=[new Promise((f,d)=>{let h=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await TM(e,Promise.race(c));return oo(e),f}finally{o()}};return(r,i)=>xM(n(r,i))},CM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=xr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(rr(21));return c0(o),{predicate:i,type:e,effect:o}},NM=Es(t=>{const{type:e,predicate:n,effect:r}=CM(t);return{id:d$(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(rr(22))}}},{withTypes:()=>NM}),r1=(t,e)=>{const{type:n,effect:r,predicate:i}=CM(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},av=t=>{t.pending.forEach(e=>{ao(e,iv)})},R$=(t,e)=>()=>{for(const n of e.keys())av(n);t.clear()},i1=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},RM=Es(xr(`${Od}/add`),{withTypes:()=>RM}),I$=xr(`${Od}/removeAll`),IM=Es(xr(`${Od}/remove`),{withTypes:()=>IM}),M$=(...t)=>{console.error(`${Od}/error`,...t)},vu=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},i=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:o,onError:l=M$}=t;c0(l);const c=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&av(w)}),f=w=>{const E=r1(e,w)??NM(w);return c(E)};Es(f,{withTypes:()=>f});const d=w=>{const E=r1(e,w);return E&&(E.unsubscribe(),w.cancelActive&&av(E)),!!E};Es(d,{withTypes:()=>d});const h=async(w,E,A,S)=>{const R=new AbortController,D=N$(f,R.signal),M=[];try{w.pending.add(R),r(w),await Promise.resolve(w.effect(E,Es({},A,{getOriginalState:S,condition:(L,U)=>D(L,U).then(Boolean),take:D,delay:AM(R.signal),pause:Kf(R.signal),extra:o,signal:R.signal,fork:C$(R.signal,M),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((L,U,B)=>{L!==R&&(ao(L,iv),B.delete(L))})},cancel:()=>{ao(R,iv),w.pending.delete(R)},throwIfCancelled:()=>{oo(R.signal)}})))}catch(L){L instanceof Pd||i1(l,L,{raisedBy:"effect"})}finally{await Promise.all(M),ao(R,T$),i(w),w.pending.delete(R)}},g=R$(e,n);return{middleware:w=>E=>A=>{if(!lM(A))return E(A);if(RM.match(A))return f(A.payload);if(I$.match(A)){g();return}if(IM.match(A))return d(A.payload);let S=w.getState();const R=()=>{if(S===n1)throw new Error(rr(23));return S};let D;try{if(D=E(A),e.size>0){const M=w.getState(),L=Array.from(e.values());for(const U of L){let B=!1;try{B=U.predicate(A,M,S)}catch(F){B=!1,i1(l,F,{raisedBy:"predicate"})}B&&h(U,A,w,R)}}}finally{S=n1}return D},startListening:f,stopListening:d,clearListeners:g}};function rr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var P$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MM=Fn({name:"chartLayout",initialState:P$,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:O$,setLayout:D$,setChartSize:k$,setScale:U$}=MM.actions,L$=MM.reducer;function PM(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return(e=q$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=j$(t,"string");return typeof e=="symbol"?e:e+""}function j$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zt(t,e,n){return ir(t)||ir(e)?n:Ti(e)?tu(t,e,n):typeof e=="function"?e(t):n}var z$=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Be(t[o]))return ps(ps({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Be(t[l]))return ps(ps({},t),{},{[l]:t[l]+(i||0)})}return t},mo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",o1=1e-4,F$=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-o1,o=Math.max(r[0],r[1])+o1,l=t(e[0]),c=t(e[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([e[0],e[n-1]])}},G$=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var c=xi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},$$=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=xi(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},H$={sign:G$,expand:wF,none:As,silhouette:EF,wiggle:xF,positive:$$},V$=(t,e,n)=>{var r=H$[n],i=_F().keys(e).value((o,l)=>Number(zt(o,l,0))).order(Jy).offset(r);return i(t)},K$=t=>{var e=t.flat(2).filter(Be);return[Math.min(...e),Math.max(...e)]},Y$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],J$=(t,e,n)=>{if(t!=null)return Y$(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,c=l.reduce((f,d)=>{var h=PM(d,e,n),g=K$(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},s1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u1=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=Nd(e,h=>h.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function c1(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return ps(ps({},e),{},{dataKey:n,payload:r,value:i,name:o})}function OM(t,e){if(t)return String(t);if(typeof e=="string")return e}var W$=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},X$=(t,e)=>e==="centric"?t.angle:t.radius,Di=t=>t.layout.width,ki=t=>t.layout.height,Q$=t=>t.layout.scale,DM=t=>t.layout.margin,Dd=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),kd=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kM="data-recharts-item-index",UM="data-recharts-item-data-key",bu=60;function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){Z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z$(t,e,n){return(e=eH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eH(t){var e=tH(t,"string");return typeof e=="symbol"?e:e+""}function tH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nH=t=>t.brush.height;function rH(t){var e=kd(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:bu;return n+i}return n},0)}function iH(t){var e=kd(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:bu;return n+i}return n},0)}function aH(t){var e=Dd(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function oH(t){var e=Dd(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var mn=ee([Di,ki,DM,nH,rH,iH,aH,oH,aM,qG],(t,e,n,r,i,o,l,c,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=cf(cf({},g),h),w=b.bottom;b.bottom+=r,b=z$(b,f,d);var E=t-b.left-b.right,A=e-b.top-b.bottom;return cf(cf({brushBottom:w},b),{},{width:Math.max(E,0),height:Math.max(A,0)})}),sH=ee(mn,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));ee(Di,ki,(t,e)=>({x:0,y:0,width:t,height:e}));var lH=I.createContext(null),Ea=()=>I.useContext(lH)!=null,Ud=t=>t.brush,Ld=ee([Ud,mn,DM],(t,e,n)=>({height:t.height,x:Be(t.x)?t.x:e.left,y:Be(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Be(t.width)?t.width:e.width})),kg={},Ug={},Lg={},d1;function uH(){return d1||(d1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,c=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},g=()=>{d&&h(),A()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{E(),l=void 0,c=null},S=()=>{h()},R=function(...D){if(i!=null&&i.aborted)return;l=this,c=D;const M=b==null;w(),f&&M&&h()};return R.schedule=w,R.cancel=A,R.flush=S,i==null||i.addEventListener("abort",A,{once:!0}),R}t.debounce=e})(Lg)),Lg}var h1;function cH(){return h1||(h1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uH();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let h,g=null;const b=e.debounce(function(...A){h=r.apply(this,A),g=null},i,{edges:d}),w=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=r.apply(this,A),g=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,A),h)},E=()=>(b.flush(),h);return w.cancel=b.cancel,w.flush=E,w}t.debounce=n})(Ug)),Ug}var p1;function fH(){return p1||(p1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH();function n(r,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(kg)),kg}var Bg,m1;function dH(){return m1||(m1=1,Bg=fH().throttle),Bg}var hH=dH();const pH=Lr(hH);var g1=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},LM=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,c=Si(r)?t:Number(r),f=Si(i)?e:Number(i);return o&&o>0&&(c?f=c/o:f&&(c=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},mH={width:0,height:0,overflow:"visible"},gH={width:0,overflowX:"visible"},yH={height:0,overflowY:"visible"},vH={},bH=t=>{var{width:e,height:n}=t,r=Si(e),i=Si(n);return r&&i?mH:r?gH:i?yH:vH};function _H(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function pn(t){return Number.isFinite(t)}function ga(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(null,arguments)}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){wH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wH(t,e,n){return(e=EH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=xH(t,"string");return typeof e=="symbol"?e:e+""}function xH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BM=I.createContext({width:-1,height:-1});function SH(t){return ga(t.width)&&ga(t.height)}function qM(t){var{children:e,width:n,height:r}=t,i=I.useMemo(()=>({width:n,height:r}),[n,r]);return SH(i)?I.createElement(BM.Provider,{value:i},e):null}var f0=()=>I.useContext(BM),TH=I.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:h=0,id:g,className:b,onResize:w,style:E={}}=t,A=I.useRef(null),S=I.useRef();S.current=w,I.useImperativeHandle(e,()=>A.current);var[R,D]=I.useState({containerWidth:r.width,containerHeight:r.height}),M=I.useCallback((ie,z)=>{D(fe=>{var te=Math.round(ie),ne=Math.round(z);return fe.containerWidth===te&&fe.containerHeight===ne?fe:{containerWidth:te,containerHeight:ne}})},[]);I.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return gu;var ie=ne=>{var be,{width:Se,height:Ie}=ne[0].contentRect;M(Se,Ie),(be=S.current)===null||be===void 0||be.call(S,Se,Ie)};h>0&&(ie=pH(ie,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(ie),{width:fe,height:te}=A.current.getBoundingClientRect();return M(fe,te),z.observe(A.current),()=>{z.disconnect()}},[M,h]);var{containerWidth:L,containerHeight:U}=R;g1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:B,calculatedHeight:F}=LM(L,U,{width:i,height:o,aspect:n,maxHeight:f});return g1(B!=null&&B>0||F!=null&&F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,F,i,o,l,c,n),I.createElement("div",{id:g?"".concat(g):void 0,className:Zt("recharts-responsive-container",b),style:v1(v1({},E),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:f}),ref:A},I.createElement("div",{style:bH({width:i,height:o})},I.createElement(qM,{width:B,height:F},d)))}),AH=I.forwardRef((t,e)=>{var n=f0();if(ga(n.width)&&ga(n.height))return t.children;var{width:r,height:i}=_H({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=LM(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Be(o)&&Be(l)?I.createElement(qM,{width:o,height:l},t.children):I.createElement(TH,ov({},t,{width:r,height:i,ref:e}))});function jM(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Bd=()=>{var t,e=Ea(),n=$e(sH),r=$e(Ld),i=(t=$e(Ud))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},CH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NH=()=>{var t;return(t=$e(mn))!==null&&t!==void 0?t:CH},RH=()=>$e(Di),IH=()=>$e(ki),vt=t=>t.layout.layoutType,d0=()=>$e(vt),MH=()=>{var t=d0();return t!==void 0},qd=t=>{var e=an(),n=Ea(),{width:r,height:i}=t,o=f0(),l=r,c=i;return o&&(l=o.width>0?o.width:r,c=o.height>0?o.height:i),I.useEffect(()=>{!n&&ga(l)&&ga(c)&&e(k$({width:l,height:c}))},[e,n,l,c]),null},PH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zM=Fn({name:"legend",initialState:PH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ct()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ur(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ct()},removeLegendPayload:{reducer(t,e){var n=Ur(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ct()}}}),{setLegendSize:wte,setLegendSettings:Ete,addLegendPayload:OH,replaceLegendPayload:DH,removeLegendPayload:kH}=zM.actions,UH=zM.reducer;function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){LH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LH(t,e,n){return(e=BH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=qH(t,"string");return typeof e=="symbol"?e:e+""}function qH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jH(t){return Array.isArray(t)&&Ti(t[0])&&Ti(t[1])?t.join(" ~ "):t}var zH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:g,accessibilityLayer:b=!1}=t,w=()=>{if(o&&o.length){var U={padding:0,margin:0},B=(c?Nd(o,c):o).map((F,ie)=>{if(F.type==="none")return null;var z=F.formatter||l||jH,{value:fe,name:te}=F,ne=fe,be=te;if(z){var Se=z(fe,te,F,ie,o);if(Array.isArray(Se))[ne,be]=Se;else if(Se!=null)ne=Se;else return null}var Ie=qg({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:Ie},Ti(be)?I.createElement("span",{className:"recharts-tooltip-item-name"},be):null,Ti(be)?I.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,I.createElement("span",{className:"recharts-tooltip-item-value"},ne),I.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:U},B)}return null},E=qg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=qg({margin:0},i),S=!ir(h),R=S?h:"",D=Zt("recharts-default-tooltip",f),M=Zt("recharts-tooltip-label",d);S&&g&&o!==void 0&&o!==null&&(R=g(h,o));var L=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",sv({className:D,style:E},L),I.createElement("p",{className:M,style:A},I.isValidElement(R)?R:"".concat(R)),w())},ql="recharts-tooltip-wrapper",FH={visibility:"hidden"};function GH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Zt(ql,{["".concat(ql,"-right")]:Be(n)&&e&&Be(e.x)&&n>=e.x,["".concat(ql,"-left")]:Be(n)&&e&&Be(e.x)&&n<e.x,["".concat(ql,"-bottom")]:Be(r)&&e&&Be(e.y)&&r>=e.y,["".concat(ql,"-top")]:Be(r)&&e&&Be(e.y)&&r<e.y})}function _1(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(o&&Be(o[r]))return o[r];var h=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?h:g;var b=f[r];if(b==null)return 0;if(l[r]){var w=h,E=b;return w<E?Math.max(g,b):Math.max(h,b)}if(d==null)return 0;var A=g+c,S=b+d;return A>S?Math.max(h,b):Math.max(g,b)}function $H(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function HH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,d,h,g;return l.height>0&&l.width>0&&n?(h=_1({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=_1({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=$H({translateX:h,translateY:g,useTranslate3d:c})):d=FH,{cssProperties:d,cssClasses:GH({translateX:h,translateY:g,coordinate:n})}}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t,e,n){return(e=VH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=KH(t,"string");return typeof e=="symbol"?e:e+""}function KH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class YH extends I.PureComponent{constructor(){super(...arguments),lv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:h,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:R}=this.props,{cssClasses:D,cssProperties:M}=HH({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:w}),L=R?{}:ff(ff({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),U=ff(ff({},L),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:U,ref:S},o)}}var JH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Us={devToolsEnabled:!1,isSsr:JH()},FM=()=>{var t;return(t=$e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(null,arguments)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){WH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WH(t,e,n){return(e=XH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=QH(t,"string");return typeof e=="symbol"?e:e+""}function QH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S1={curveBasisClosed:uF,curveBasisOpen:cF,curveBasis:lF,curveBumpX:Y5,curveBumpY:J5,curveLinearClosed:fF,curveLinear:Ad,curveMonotoneX:dF,curveMonotoneY:hF,curveNatural:pF,curveStep:mF,curveStepAfter:yF,curveStepBefore:gF},Yf=t=>pn(t.x)&&pn(t.y),T1=t=>t.base!=null&&Yf(t.base)&&Yf(t),jl=t=>t.x,zl=t=>t.y,ZH=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(mu(t));return(n==="curveMonotone"||n==="curveBump")&&e?S1["".concat(n).concat(e==="vertical"?"Y":"X")]:S1[n]||Ad},eV=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=ZH(e,i),c=o?n.filter(Yf):n,f;if(Array.isArray(r)){var d=n.map((w,E)=>x1(x1({},w),{},{base:r[E]}));i==="vertical"?f=rf().y(zl).x1(jl).x0(w=>w.base.x):f=rf().x(jl).y1(zl).y0(w=>w.base.y);var h=f.defined(T1).curve(l),g=o?d.filter(T1):d;return h(g)}i==="vertical"&&Be(r)?f=rf().y(zl).x1(jl).x0(r):Be(r)?f=rf().x(jl).y1(zl).y0(r):f=MI().x(jl).y(zl);var b=f.defined(Yf).curve(l);return b(c)},h0=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?eV(t):r;return I.createElement("path",uv({},Ts(t),zF(t),{className:Zt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},tV=["x","y","top","left","width","height","className"];function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(null,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){rV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rV(t,e,n){return(e=iV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iV(t){var e=aV(t,"string");return typeof e=="symbol"?e:e+""}function aV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oV(t,e){if(t==null)return{};var n,r,i=sV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lV=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),uV=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:c}=t,f=oV(t,tV),d=nV({x:e,y:n,top:r,left:i,width:o,height:l},f);return!Be(e)||!Be(n)||!Be(o)||!Be(l)||!Be(r)||!Be(i)?null:I.createElement("path",cv({},Er(d),{className:Zt("recharts-cross",c),d:lV(e,n,o,l,r,i)}))};function cV(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function C1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(n),!0).forEach(function(r){fV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fV(t,e,n){return(e=dV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=hV(t,"string");return typeof e=="symbol"?e:e+""}function hV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pV=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),GM=(t,e,n)=>t.map(r=>"".concat(pV(r)," ").concat(e,"ms ").concat(n)).join(","),mV=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ou=(t,e)=>Object.keys(e).reduce((n,r)=>N1(N1({},n),{},{[r]:t(r,e[r])}),{});function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){gV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gV(t,e,n){return(e=yV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=vV(t,"string");return typeof e=="symbol"?e:e+""}function vV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jf=(t,e,n)=>t+(e-t)*n,fv=t=>{var{from:e,to:n}=t;return e!==n},$M=(t,e,n)=>{var r=ou((i,o)=>{if(fv(o)){var[l,c]=t(o.from,o.to,o.velocity);return rn(rn({},o),{},{from:l,velocity:c})}return o},e);return n<1?ou((i,o)=>fv(o)?rn(rn({},o),{},{velocity:Jf(o.velocity,r[i].velocity,n),from:Jf(o.from,r[i].from,n)}):o,e):$M(t,r,n-1)};function bV(t,e,n,r,i,o){var l,c=r.reduce((b,w)=>rn(rn({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>ou((b,w)=>w.from,c),d=()=>!Object.values(c).filter(fv).length,h=null,g=b=>{l||(l=b);var w=b-l,E=w/n.dt;c=$M(n,c,E),i(rn(rn(rn({},t),e),f())),l=b,d()||(h=o.setTimeout(g))};return()=>(h=o.setTimeout(g),()=>{var b;(b=h)===null||b===void 0||b()})}function _V(t,e,n,r,i,o,l){var c=null,f=i.reduce((g,b)=>rn(rn({},g),{},{[b]:[t[b],e[b]]}),{}),d,h=g=>{d||(d=g);var b=(g-d)/r,w=ou((A,S)=>Jf(...S,n(b)),f);if(o(rn(rn(rn({},t),e),w)),b<1)c=l.setTimeout(h);else{var E=ou((A,S)=>Jf(...S,n(1)),f);o(rn(rn(rn({},t),e),E))}};return()=>(c=l.setTimeout(h),()=>{var g;(g=c)===null||g===void 0||g()})}const wV=(t,e,n,r,i,o)=>{var l=mV(t,e);return n==null?()=>(i(rn(rn({},t),e)),()=>{}):n.isStepper===!0?bV(t,e,n,l,i,o):_V(t,e,n,r,l,i,o)};var Wf=1e-4,HM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],VM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),I1=(t,e)=>n=>{var r=HM(t,e);return VM(r,n)},EV=(t,e)=>n=>{var r=HM(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return VM(i,n)},xV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},SV=(t,e,n,r)=>{var i=I1(t,n),o=I1(e,r),l=EV(t,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,g=h,b=0;b<8;++b){var w=i(g)-h,E=l(g);if(Math.abs(w-h)<Wf||E<Wf)return o(g);g=c(g-w/E)}return o(g)};return f.isStepper=!1,f},M1=function(){return SV(...xV(...arguments))},TV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,c,f)=>{var d=-(l-c)*n,h=f*r,g=f+(d-h)*i/1e3,b=f*i/1e3+l;return Math.abs(b-c)<Wf&&Math.abs(g)<Wf?[c,0]:[b,g]};return o.isStepper=!0,o.dt=i,o},AV=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M1(t);case"spring":return TV();default:if(t.split("(")[0]==="cubic-bezier")return M1(t)}return typeof t=="function"?t:null};function CV(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class NV{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function RV(){return CV(new NV)}var IV=I.createContext(RV);function MV(t,e){var n=I.useContext(IV);return I.useMemo(()=>e??n(t),[t,e,n])}var PV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},P1={t:0},jg={t:1};function p0(t){var e=Xr(t,PV),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,h=n==="auto"?!Us.isSsr:n,g=MV(e.animationId,e.animationManager),[b,w]=I.useState(h?P1:jg),E=I.useRef(null);return I.useEffect(()=>{h||w(jg)},[h]),I.useEffect(()=>{if(!h||!r)return gu;var A=wV(P1,jg,AV(o),i,w,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([f,l,S,i,c]),()=>{g.stop(),E.current&&E.current(),c()}},[h,r,i,o,l,f,c,g]),d(b.t)}function m0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=I.useRef(nu(e)),r=I.useRef(t);return r.current!==t&&(n.current=nu(e),r.current=t),n.current}var OV=["radius"],DV=["radius"];function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){kV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kV(t,e,n){return(e=UV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UV(t){var e=LV(t,"string");return typeof e=="symbol"?e:e+""}function LV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(null,arguments)}function k1(t,e){if(t==null)return{};var n,r,i=BV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U1=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,b=4;g<b;g++)h[g]=i[g]>o?o:i[g];d="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+c*h[0],",").concat(e)),d+="L ".concat(t+n-c*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*h[1])),d+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-c*h[2],",").concat(e+r)),d+="L ".concat(t+c*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);d="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+c*w,",").concat(e,`
            L `).concat(t+n-c*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-c*w,",").concat(e+r,`
            L `).concat(t+c*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*w," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},L1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KM=t=>{var e=Xr(t,L1),n=I.useRef(null),[r,i]=I.useState(-1);I.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:o,y:l,width:c,height:f,radius:d,className:h}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=I.useRef(c),R=I.useRef(f),D=I.useRef(o),M=I.useRef(l),L=I.useMemo(()=>({x:o,y:l,width:c,height:f,radius:d}),[o,l,c,f,d]),U=m0(L,"rectangle-");if(o!==+o||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var B=Zt("recharts-rectangle",h);if(!A){var F=Er(e),{radius:ie}=F,z=k1(F,OV);return I.createElement("path",Xf({},z,{radius:typeof d=="number"?d:void 0,className:B,d:U1(o,l,c,f,d)}))}var fe=S.current,te=R.current,ne=D.current,be=M.current,Se="0px ".concat(r===-1?1:r,"px"),Ie="".concat(r,"px 0px"),Y=GM(["strokeDasharray"],b,typeof g=="string"?g:L1.animationEasing);return I.createElement(p0,{animationId:U,key:U,canBegin:r>0,duration:b,easing:g,isActive:A,begin:w},he=>{var ve=Pr(fe,c,he),Te=Pr(te,f,he),ke=Pr(ne,o,he),G=Pr(be,l,he);n.current&&(S.current=ve,R.current=Te,D.current=ke,M.current=G);var j;E?he>0?j={transition:Y,strokeDasharray:Ie}:j={strokeDasharray:Se}:j={strokeDasharray:Ie};var X=Er(e),{radius:V}=X,ce=k1(X,DV);return I.createElement("path",Xf({},ce,{radius:typeof d=="number"?d:void 0,className:B,d:U1(ke,G,ve,Te,d),ref:n,style:D1(D1({},j),e.style)}))})};function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){qV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qV(t,e,n){return(e=jV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=zV(t,"string");return typeof e=="symbol"?e:e+""}function zV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qf=Math.PI/180,FV=t=>t*180/Math.PI,Xt=(t,e,n,r)=>({x:t+Math.cos(-Qf*r)*n,y:e+Math.sin(-Qf*r)*n}),YM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GV=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},$V=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=GV({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>o&&(f=2*Math.PI-f),{radius:l,angle:FV(f),angleInRadian:f}},HV=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},VV=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},KV=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=$V({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=HV(e),h=o,g;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}return g?q1(q1({},e),{},{radius:i,angle:VV(h,e)}):null};function JM(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=Xt(e,n,r,i),c=Xt(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}var YV=(t,e)=>{var n=jn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},df=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,h=Math.asin(c/d)/Qf,g=f?i:i+o*h,b=Xt(e,n,d,g),w=Xt(e,n,r,g),E=f?i-o*h:i,A=Xt(e,n,d*Math.cos(h*Qf),E);return{center:b,circleTangency:w,lineTangency:A,theta:h}},WM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,c=YV(o,l),f=o+c,d=Xt(e,n,i,o),h=Xt(e,n,i,f),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Xt(e,n,r,o),w=Xt(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},JV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,h=jn(d-f),{circleTangency:g,lineTangency:b,theta:w}=df({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:A,theta:S}=df({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),R=c?Math.abs(f-d):Math.abs(f-d)-w-S;if(R<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):WM({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var D="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:L,theta:U}=df({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:B,lineTangency:F,theta:ie}=df({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),z=c?Math.abs(f-d):Math.abs(f-d)-U-ie;if(z<0&&o===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},WV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XM=t=>{var e=Xr(t,WV),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:h,className:g}=e;if(o<i||d===h)return null;var b=Zt("recharts-sector",g),w=o-i,E=nr(l,w,0,!0),A;return E>0&&Math.abs(d-h)<360?A=JV({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:h}):A=WM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),I.createElement("path",dv({},Er(e),{className:b,d:A}))};function XV(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(VI(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:c}=e,f=Xt(r,i,o,c),d=Xt(r,i,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return JM(e)}}var zg={},Fg={},Gg={},j1;function QV(){return j1||(j1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Gg)),Gg}var z1;function ZV(){return z1||(z1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QV();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Fg)),Fg}var F1;function e7(){return F1||(F1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iM(),n=ZV();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}t.range=r})(zg)),zg}var $g,G1;function t7(){return G1||(G1=1,$g=e7().range),$g}var n7=t7();const QM=Lr(n7);function pa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g0(t){let e,n,r;t.length!==2?(e=pa,n=(c,f)=>pa(t(c),f),r=(c,f)=>t(c)-f):(e=t===pa||t===r7?t:i7,n=t,r=t);function i(c,f,d=0,h=c.length){if(d<h){if(e(f,f)!==0)return h;do{const g=d+h>>>1;n(c[g],f)<0?d=g+1:h=g}while(d<h)}return d}function o(c,f,d=0,h=c.length){if(d<h){if(e(f,f)!==0)return h;do{const g=d+h>>>1;n(c[g],f)<=0?d=g+1:h=g}while(d<h)}return d}function l(c,f,d=0,h=c.length){const g=i(c,f,d,h-1);return g>d&&r(c[g-1],f)>-r(c[g],f)?g-1:g}return{left:i,center:l,right:o}}function i7(){return 0}function ZM(t){return t===null?NaN:+t}function*a7(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const o7=g0(pa),_u=o7.right;g0(ZM).center;class $1 extends Map{constructor(e,n=u7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(H1(this,e))}has(e){return super.has(H1(this,e))}set(e,n){return super.set(s7(this,e),n)}delete(e){return super.delete(l7(this,e))}}function H1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function s7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function l7({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function u7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function c7(t=pa){if(t===pa)return eP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const f7=Math.sqrt(50),d7=Math.sqrt(10),h7=Math.sqrt(2);function Zf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=f7?10:o>=d7?5:o>=h7?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?Zf(t,e,n*2):[c,f,d]}function hv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?Zf(e,t,n):Zf(t,e,n);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(o-d)/-l;else for(let d=0;d<c;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function pv(t,e,n){return e=+e,t=+t,n=+n,Zf(t,e,n)[2]}function mv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pv(e,t,n):pv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function V1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function K1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eP:c7(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),g=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*g*(f-g)/f)*(d-f/2<0?-1:1),w=Math.max(n,Math.floor(e-d*g/f+b)),E=Math.min(r,Math.floor(e+(f-d)*g/f+b));tP(t,e,w,E,i)}const o=t[e];let l=n,c=r;for(Fl(t,n,e),i(t[r],o)>0&&Fl(t,n,r);l<c;){for(Fl(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?Fl(t,n,c):(++c,Fl(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Fl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function p7(t,e,n){if(t=Float64Array.from(a7(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return K1(t);if(e>=1)return V1(t);var r,i=(r-1)*e,o=Math.floor(i),l=V1(tP(t,o).subarray(0,o+1)),c=K1(t.subarray(o+1));return l+(c-l)*(i-o)}}function m7(t,e,n=ZM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function g7(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ui(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gv=Symbol("implicit");function y0(){var t=new $1,e=[],n=[],r=gv;function i(o){let l=t.get(o);if(l===void 0){if(r!==gv)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $1;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return y0(e,n).unknown(r)},Tr.apply(i,arguments),i}function v0(){var t=y0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,c=!1,f=0,d=0,h=.5;delete t.unknown;function g(){var b=e().length,w=i<r,E=w?i:r,A=w?r:i;o=(A-E)/Math.max(1,b-f+d*2),c&&(o=Math.floor(o)),E+=(A-E-o*(b-f))*h,l=o*(1-f),c&&(E=Math.round(E),l=Math.round(l));var S=g7(b).map(function(R){return E+o*R});return n(w?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(c=!!b,g()):c},t.padding=function(b){return arguments.length?(f=Math.min(1,d=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(d=+b,g()):d},t.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),g()):h},t.copy=function(){return v0(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(h)},Tr.apply(g(),arguments)}function nP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nP(e())},t}function y7(){return nP(v0.apply(null,arguments).paddingInner(1))}function b0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wu(){}var su=.7,ed=1/su,xs="\\s*([+-]?\\d+)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v7=/^#([0-9a-f]{3,8})$/,b7=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),_7=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),w7=new RegExp(`^rgba\\(${xs},${xs},${xs},${lu}\\)$`),E7=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${lu}\\)$`),x7=new RegExp(`^hsl\\(${lu},${Jr},${Jr}\\)$`),S7=new RegExp(`^hsla\\(${lu},${Jr},${Jr},${lu}\\)$`),Y1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b0(wu,uu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J1,formatHex:J1,formatHex8:T7,formatHsl:A7,formatRgb:W1,toString:W1});function J1(){return this.rgb().formatHex()}function T7(){return this.rgb().formatHex8()}function A7(){return iP(this).formatHsl()}function W1(){return this.rgb().formatRgb()}function uu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=v7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?X1(e):n===3?new zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b7.exec(t))?new zn(e[1],e[2],e[3],1):(e=_7.exec(t))?new zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=w7.exec(t))?hf(e[1],e[2],e[3],e[4]):(e=E7.exec(t))?hf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=x7.exec(t))?eC(e[1],e[2]/100,e[3]/100,1):(e=S7.exec(t))?eC(e[1],e[2]/100,e[3]/100,e[4]):Y1.hasOwnProperty(t)?X1(Y1[t]):t==="transparent"?new zn(NaN,NaN,NaN,0):null}function X1(t){return new zn(t>>16&255,t>>8&255,t&255,1)}function hf(t,e,n,r){return r<=0&&(t=e=n=NaN),new zn(t,e,n,r)}function C7(t){return t instanceof wu||(t=uu(t)),t?(t=t.rgb(),new zn(t.r,t.g,t.b,t.opacity)):new zn}function yv(t,e,n,r){return arguments.length===1?C7(t):new zn(t,e,n,r??1)}function zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}b0(zn,yv,rP(wu,{brighter(t){return t=t==null?ed:Math.pow(ed,t),new zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?su:Math.pow(su,t),new zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zn(so(this.r),so(this.g),so(this.b),td(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q1,formatHex:Q1,formatHex8:N7,formatRgb:Z1,toString:Z1}));function Q1(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}`}function N7(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}${ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z1(){const t=td(this.opacity);return`${t===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${t===1?")":`, ${t})`}`}function td(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function so(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ro(t){return t=so(t),(t<16?"0":"")+t.toString(16)}function eC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dr(t,e,n,r)}function iP(t){if(t instanceof Dr)return new Dr(t.h,t.s,t.l,t.opacity);if(t instanceof wu||(t=uu(t)),!t)return new Dr;if(t instanceof Dr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,f=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+i:2-o-i,l*=60):c=f>0&&f<1?0:l,new Dr(l,c,f,t.opacity)}function R7(t,e,n,r){return arguments.length===1?iP(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}b0(Dr,R7,rP(wu,{brighter(t){return t=t==null?ed:Math.pow(ed,t),new Dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?su:Math.pow(su,t),new Dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zn(Hg(t>=240?t-240:t+120,i,r),Hg(t,i,r),Hg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Dr(tC(this.h),pf(this.s),pf(this.l),td(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=td(this.opacity);return`${t===1?"hsl(":"hsla("}${tC(this.h)}, ${pf(this.s)*100}%, ${pf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tC(t){return t=(t||0)%360,t<0?t+360:t}function pf(t){return Math.max(0,Math.min(1,t||0))}function Hg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _0=t=>()=>t;function I7(t,e){return function(n){return t+n*e}}function M7(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function P7(t){return(t=+t)==1?aP:function(e,n){return n-e?M7(e,n,t):_0(isNaN(e)?n:e)}}function aP(t,e){var n=e-t;return n?I7(t,n):_0(isNaN(t)?e:t)}const nC=(function t(e){var n=P7(e);function r(i,o){var l=n((i=yv(i)).r,(o=yv(o)).r),c=n(i.g,o.g),f=n(i.b,o.b),d=aP(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=c(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function O7(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function D7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k7(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Ls(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function U7(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function L7(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ls(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vg=new RegExp(vv.source,"g");function B7(t){return function(){return t}}function q7(t){return function(e){return t(e)+""}}function j7(t,e){var n=vv.lastIndex=Vg.lastIndex=0,r,i,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=vv.exec(t))&&(i=Vg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:nd(r,i)})),n=Vg.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?q7(f[0].x):B7(e):(e=f.length,function(d){for(var h=0,g;h<e;++h)c[(g=f[h]).i]=g.x(d);return c.join("")})}function Ls(t,e){var n=typeof e,r;return e==null||n==="boolean"?_0(e):(n==="number"?nd:n==="string"?(r=uu(e))?(e=r,nC):j7:e instanceof uu?nC:e instanceof Date?U7:D7(e)?O7:Array.isArray(e)?k7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L7:nd)(t,e)}function w0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function z7(t,e){e===void 0&&(e=t,t=Ls);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function F7(t){return function(){return t}}function rd(t){return+t}var rC=[0,1];function Mn(t){return t}function bv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:F7(isNaN(e)?NaN:.5)}function G7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $7(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=bv(i,r),o=n(l,o)):(r=bv(r,i),o=n(o,l)),function(c){return o(r(c))}}function H7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=bv(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=_u(t,c,1,r)-1;return o[f](i[f](c))}}function Eu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jd(){var t=rC,e=rC,n=Ls,r,i,o,l=Mn,c,f,d;function h(){var b=Math.min(t.length,e.length);return l!==Mn&&(l=G7(t[0],t[b-1])),c=b>2?H7:$7,f=d=null,g}function g(b){return b==null||isNaN(b=+b)?o:(f||(f=c(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((d||(d=c(e,t.map(r),nd)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,rd),h()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),h()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=w0,h()},g.clamp=function(b){return arguments.length?(l=b?!0:Mn,h()):l!==Mn},g.interpolate=function(b){return arguments.length?(n=b,h()):n},g.unknown=function(b){return arguments.length?(o=b,g):o},function(b,w){return r=b,i=w,h()}}function E0(){return jd()(Mn,Mn)}function V7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function id(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Cs(t){return t=id(Math.abs(t)),t?t[1]:NaN}function K7(t,e){return function(n,r){for(var i=n.length,o=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function Y7(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var J7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(t){if(!(e=J7.exec(t)))throw new Error("invalid format: "+t);var e;return new x0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cu.prototype=x0.prototype;function x0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}x0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W7(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var oP;function X7(t,e){var n=id(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(oP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+id(t,Math.max(0,e+o-1))[0]}function iC(t,e){var n=id(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:V7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iC(t*100,e),r:iC,s:X7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oC(t){return t}var sC=Array.prototype.map,lC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Q7(t){var e=t.grouping===void 0||t.thousands===void 0?oC:K7(sC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?oC:Y7(sC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(g){g=cu(g);var b=g.fill,w=g.align,E=g.sign,A=g.symbol,S=g.zero,R=g.width,D=g.comma,M=g.precision,L=g.trim,U=g.type;U==="n"?(D=!0,U="g"):aC[U]||(M===void 0&&(M=12),L=!0,U="g"),(S||b==="0"&&w==="=")&&(S=!0,b="0",w="=");var B=A==="$"?n:A==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",F=A==="$"?r:/[%p]/.test(U)?l:"",ie=aC[U],z=/[defgprs%]/.test(U);M=M===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function fe(te){var ne=B,be=F,Se,Ie,Y;if(U==="c")be=ie(te)+be,te="";else{te=+te;var he=te<0||1/te<0;if(te=isNaN(te)?f:ie(Math.abs(te),M),L&&(te=W7(te)),he&&+te==0&&E!=="+"&&(he=!1),ne=(he?E==="("?E:c:E==="-"||E==="("?"":E)+ne,be=(U==="s"?lC[8+oP/3]:"")+be+(he&&E==="("?")":""),z){for(Se=-1,Ie=te.length;++Se<Ie;)if(Y=te.charCodeAt(Se),48>Y||Y>57){be=(Y===46?i+te.slice(Se+1):te.slice(Se))+be,te=te.slice(0,Se);break}}}D&&!S&&(te=e(te,1/0));var ve=ne.length+te.length+be.length,Te=ve<R?new Array(R-ve+1).join(b):"";switch(D&&S&&(te=e(Te+te,Te.length?R-be.length:1/0),Te=""),w){case"<":te=ne+te+be+Te;break;case"=":te=ne+Te+te+be;break;case"^":te=Te.slice(0,ve=Te.length>>1)+ne+te+be+Te.slice(ve);break;default:te=Te+ne+te+be;break}return o(te)}return fe.toString=function(){return g+""},fe}function h(g,b){var w=d((g=cu(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Cs(b)/3)))*3,A=Math.pow(10,-E),S=lC[8+E/3];return function(R){return w(A*R)+S}}return{format:d,formatPrefix:h}}var mf,S0,sP;Z7({thousands:",",grouping:[3],currency:["$",""]});function Z7(t){return mf=Q7(t),S0=mf.format,sP=mf.formatPrefix,mf}function e9(t){return Math.max(0,-Cs(Math.abs(t)))}function t9(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cs(e)/3)))*3-Cs(Math.abs(t)))}function n9(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cs(e)-Cs(t))+1}function lP(t,e,n,r){var i=mv(t,e,n),o;switch(r=cu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=t9(i,l))&&(r.precision=o),sP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=n9(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=e9(i))&&(r.precision=o-(r.type==="%")*2);break}}return S0(r)}function xa(t){var e=t.domain;return t.ticks=function(n){var r=e();return hv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],c=r[o],f,d,h=10;for(c<l&&(d=l,l=c,c=d,d=i,i=o,o=d);h-- >0;){if(d=pv(l,c,n),d===f)return r[i]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function uP(){var t=E0();return t.copy=function(){return Eu(t,uP())},Tr.apply(t,arguments),xa(t)}function cP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cP(t).unknown(e)},t=arguments.length?Array.from(t,rd):[0,1],xa(n)}function fP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function uC(t){return Math.log(t)}function cC(t){return Math.exp(t)}function r9(t){return-Math.log(-t)}function i9(t){return-Math.exp(-t)}function a9(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o9(t){return t===10?a9:t===Math.E?Math.exp:e=>Math.pow(t,e)}function s9(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fC(t){return(e,n)=>-t(-e,n)}function T0(t){const e=t(uC,cC),n=e.domain;let r=10,i,o;function l(){return i=s9(r),o=o9(r),n()[0]<0?(i=fC(i),o=fC(o),t(r9,i9)):t(uC,cC),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],h=f[f.length-1];const g=h<d;g&&([d,h]=[h,d]);let b=i(d),w=i(h),E,A;const S=c==null?10:+c;let R=[];if(!(r%1)&&w-b<S){if(b=Math.floor(b),w=Math.ceil(w),d>0){for(;b<=w;++b)for(E=1;E<r;++E)if(A=b<0?E/o(-b):E*o(b),!(A<d)){if(A>h)break;R.push(A)}}else for(;b<=w;++b)for(E=r-1;E>=1;--E)if(A=b>0?E/o(-b):E*o(b),!(A<d)){if(A>h)break;R.push(A)}R.length*2<S&&(R=hv(d,h,S))}else R=hv(b,w,Math.min(w-b,S)).map(o);return g?R.reverse():R},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=cu(f)).precision==null&&(f.trim=!0),f=S0(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return h=>{let g=h/o(Math.round(i(h)));return g*r<r-.5&&(g*=r),g<=d?f(h):""}},e.nice=()=>n(fP(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function dP(){const t=T0(jd()).domain([1,10]);return t.copy=()=>Eu(t,dP()).base(t.base()),Tr.apply(t,arguments),t}function dC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function A0(t){var e=1,n=t(dC(e),hC(e));return n.constant=function(r){return arguments.length?t(dC(e=+r),hC(e)):e},xa(n)}function hP(){var t=A0(jd());return t.copy=function(){return Eu(t,hP()).constant(t.constant())},Tr.apply(t,arguments)}function pC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l9(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u9(t){return t<0?-t*t:t*t}function C0(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(l9,u9):t(pC(n),pC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xa(e)}function N0(){var t=C0(jd());return t.copy=function(){return Eu(t,N0()).exponent(t.exponent())},Tr.apply(t,arguments),t}function c9(){return N0.apply(null,arguments).exponent(.5)}function mC(t){return Math.sign(t)*t*t}function f9(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pP(){var t=E0(),e=[0,1],n=!1,r;function i(o){var l=f9(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(mC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,rd)).map(mC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tr.apply(i,arguments),xa(i)}function mP(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=m7(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[_u(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(pa),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return mP().domain(t).range(e).unknown(r)},Tr.apply(o,arguments)}function gP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[_u(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return gP().domain([t,e]).range(i).unknown(o)},Tr.apply(xa(l),arguments)}function yP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[_u(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return yP().domain(t).range(e).unknown(n)},Tr.apply(i,arguments)}const Kg=new Date,Yg=new Date;function on(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const f=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let d;do f.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return f},i.filter=o=>on(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(Kg.setTime(+o),Yg.setTime(+l),t(Kg),t(Yg),Math.floor(n(Kg,Yg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const ad=on(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ad.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?on(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ad);ad.range;const bi=1e3,_r=bi*60,_i=_r*60,Ci=_i*24,R0=Ci*7,gC=Ci*30,Jg=Ci*365,io=on(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCSeconds());io.range;const I0=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());I0.range;const M0=on(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());M0.range;const P0=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());P0.range;const O0=on(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());O0.range;const xu=on(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/Ci,t=>t.getDate()-1);xu.range;const zd=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>t.getUTCDate()-1);zd.range;const vP=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>Math.floor(t/Ci));vP.range;function go(t){return on(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/R0)}const Fd=go(0),od=go(1),d9=go(2),h9=go(3),Ns=go(4),p9=go(5),m9=go(6);Fd.range;od.range;d9.range;h9.range;Ns.range;p9.range;m9.range;function yo(t){return on(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/R0)}const Gd=yo(0),sd=yo(1),g9=yo(2),y9=yo(3),Rs=yo(4),v9=yo(5),b9=yo(6);Gd.range;sd.range;g9.range;y9.range;Rs.range;v9.range;b9.range;const D0=on(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());D0.range;const k0=on(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());k0.range;const Ni=on(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ni.range;const Ri=on(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ri.range;function bP(t,e,n,r,i,o){const l=[[io,1,bi],[io,5,5*bi],[io,15,15*bi],[io,30,30*bi],[o,1,_r],[o,5,5*_r],[o,15,15*_r],[o,30,30*_r],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Ci],[r,2,2*Ci],[n,1,R0],[e,1,gC],[e,3,3*gC],[t,1,Jg]];function c(d,h,g){const b=h<d;b&&([d,h]=[h,d]);const w=g&&typeof g.range=="function"?g:f(d,h,g),E=w?w.range(d,+h+1):[];return b?E.reverse():E}function f(d,h,g){const b=Math.abs(h-d)/g,w=g0(([,,S])=>S).right(l,b);if(w===l.length)return t.every(mv(d/Jg,h/Jg,g));if(w===0)return ad.every(Math.max(mv(d,h,g),1));const[E,A]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return E.every(A)}return[c,f]}const[_9,w9]=bP(Ri,k0,Gd,vP,O0,M0),[E9,x9]=bP(Ni,D0,Fd,xu,P0,I0);function Wg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function S9(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=$l(i),h=Hl(i),g=$l(o),b=Hl(o),w=$l(l),E=Hl(l),A=$l(c),S=Hl(c),R=$l(f),D=Hl(f),M={a:he,A:ve,b:Te,B:ke,c:null,d:EC,e:EC,f:K9,g:rK,G:aK,H:$9,I:H9,j:V9,L:_P,m:Y9,M:J9,p:G,q:j,Q:TC,s:AC,S:W9,u:X9,U:Q9,V:Z9,w:eK,W:tK,x:null,X:null,y:nK,Y:iK,Z:oK,"%":SC},L={a:X,A:V,b:ce,B:me,c:null,d:xC,e:xC,f:cK,g:_K,G:EK,H:sK,I:lK,j:uK,L:EP,m:fK,M:dK,p:ge,q:we,Q:TC,s:AC,S:hK,u:pK,U:mK,V:gK,w:yK,W:vK,x:null,X:null,y:bK,Y:wK,Z:xK,"%":SC},U={a:fe,A:te,b:ne,B:be,c:Se,d:_C,e:_C,f:j9,g:bC,G:vC,H:wC,I:wC,j:U9,L:q9,m:k9,M:L9,p:z,q:D9,Q:F9,s:G9,S:B9,u:R9,U:I9,V:M9,w:N9,W:P9,x:Ie,X:Y,y:bC,Y:vC,Z:O9,"%":z9};M.x=B(n,M),M.X=B(r,M),M.c=B(e,M),L.x=B(n,L),L.X=B(r,L),L.c=B(e,L);function B(ae,oe){return function(ye){var pe=[],Ue=-1,Fe=0,He=ae.length,De,Xe,Gt;for(ye instanceof Date||(ye=new Date(+ye));++Ue<He;)ae.charCodeAt(Ue)===37&&(pe.push(ae.slice(Fe,Ue)),(Xe=yC[De=ae.charAt(++Ue)])!=null?De=ae.charAt(++Ue):Xe=De==="e"?" ":"0",(Gt=oe[De])&&(De=Gt(ye,Xe)),pe.push(De),Fe=Ue+1);return pe.push(ae.slice(Fe,Ue)),pe.join("")}}function F(ae,oe){return function(ye){var pe=Gl(1900,void 0,1),Ue=ie(pe,ae,ye+="",0),Fe,He;if(Ue!=ye.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(oe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Fe=Xg(Gl(pe.y,0,1)),He=Fe.getUTCDay(),Fe=He>4||He===0?sd.ceil(Fe):sd(Fe),Fe=zd.offset(Fe,(pe.V-1)*7),pe.y=Fe.getUTCFullYear(),pe.m=Fe.getUTCMonth(),pe.d=Fe.getUTCDate()+(pe.w+6)%7):(Fe=Wg(Gl(pe.y,0,1)),He=Fe.getDay(),Fe=He>4||He===0?od.ceil(Fe):od(Fe),Fe=xu.offset(Fe,(pe.V-1)*7),pe.y=Fe.getFullYear(),pe.m=Fe.getMonth(),pe.d=Fe.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),He="Z"in pe?Xg(Gl(pe.y,0,1)).getUTCDay():Wg(Gl(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(He+5)%7:pe.w+pe.U*7-(He+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Xg(pe)):Wg(pe)}}function ie(ae,oe,ye,pe){for(var Ue=0,Fe=oe.length,He=ye.length,De,Xe;Ue<Fe;){if(pe>=He)return-1;if(De=oe.charCodeAt(Ue++),De===37){if(De=oe.charAt(Ue++),Xe=U[De in yC?oe.charAt(Ue++):De],!Xe||(pe=Xe(ae,ye,pe))<0)return-1}else if(De!=ye.charCodeAt(pe++))return-1}return pe}function z(ae,oe,ye){var pe=d.exec(oe.slice(ye));return pe?(ae.p=h.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function fe(ae,oe,ye){var pe=w.exec(oe.slice(ye));return pe?(ae.w=E.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function te(ae,oe,ye){var pe=g.exec(oe.slice(ye));return pe?(ae.w=b.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function ne(ae,oe,ye){var pe=R.exec(oe.slice(ye));return pe?(ae.m=D.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function be(ae,oe,ye){var pe=A.exec(oe.slice(ye));return pe?(ae.m=S.get(pe[0].toLowerCase()),ye+pe[0].length):-1}function Se(ae,oe,ye){return ie(ae,e,oe,ye)}function Ie(ae,oe,ye){return ie(ae,n,oe,ye)}function Y(ae,oe,ye){return ie(ae,r,oe,ye)}function he(ae){return l[ae.getDay()]}function ve(ae){return o[ae.getDay()]}function Te(ae){return f[ae.getMonth()]}function ke(ae){return c[ae.getMonth()]}function G(ae){return i[+(ae.getHours()>=12)]}function j(ae){return 1+~~(ae.getMonth()/3)}function X(ae){return l[ae.getUTCDay()]}function V(ae){return o[ae.getUTCDay()]}function ce(ae){return f[ae.getUTCMonth()]}function me(ae){return c[ae.getUTCMonth()]}function ge(ae){return i[+(ae.getUTCHours()>=12)]}function we(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var oe=B(ae+="",M);return oe.toString=function(){return ae},oe},parse:function(ae){var oe=F(ae+="",!1);return oe.toString=function(){return ae},oe},utcFormat:function(ae){var oe=B(ae+="",L);return oe.toString=function(){return ae},oe},utcParse:function(ae){var oe=F(ae+="",!0);return oe.toString=function(){return ae},oe}}}var yC={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,T9=/^%/,A9=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function C9(t){return t.replace(A9,"\\$&")}function $l(t){return new RegExp("^(?:"+t.map(C9).join("|")+")","i")}function Hl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function N9(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function R9(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function I9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function M9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function P9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vC(t,e,n){var r=gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bC(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O9(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function D9(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function k9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _C(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function U9(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wC(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function L9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function B9(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function q9(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function j9(t,e,n){var r=gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z9(t,e,n){var r=T9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F9(t,e,n){var r=gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function G9(t,e,n){var r=gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EC(t,e){return nt(t.getDate(),e,2)}function $9(t,e){return nt(t.getHours(),e,2)}function H9(t,e){return nt(t.getHours()%12||12,e,2)}function V9(t,e){return nt(1+xu.count(Ni(t),t),e,3)}function _P(t,e){return nt(t.getMilliseconds(),e,3)}function K9(t,e){return _P(t,e)+"000"}function Y9(t,e){return nt(t.getMonth()+1,e,2)}function J9(t,e){return nt(t.getMinutes(),e,2)}function W9(t,e){return nt(t.getSeconds(),e,2)}function X9(t){var e=t.getDay();return e===0?7:e}function Q9(t,e){return nt(Fd.count(Ni(t)-1,t),e,2)}function wP(t){var e=t.getDay();return e>=4||e===0?Ns(t):Ns.ceil(t)}function Z9(t,e){return t=wP(t),nt(Ns.count(Ni(t),t)+(Ni(t).getDay()===4),e,2)}function eK(t){return t.getDay()}function tK(t,e){return nt(od.count(Ni(t)-1,t),e,2)}function nK(t,e){return nt(t.getFullYear()%100,e,2)}function rK(t,e){return t=wP(t),nt(t.getFullYear()%100,e,2)}function iK(t,e){return nt(t.getFullYear()%1e4,e,4)}function aK(t,e){var n=t.getDay();return t=n>=4||n===0?Ns(t):Ns.ceil(t),nt(t.getFullYear()%1e4,e,4)}function oK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function xC(t,e){return nt(t.getUTCDate(),e,2)}function sK(t,e){return nt(t.getUTCHours(),e,2)}function lK(t,e){return nt(t.getUTCHours()%12||12,e,2)}function uK(t,e){return nt(1+zd.count(Ri(t),t),e,3)}function EP(t,e){return nt(t.getUTCMilliseconds(),e,3)}function cK(t,e){return EP(t,e)+"000"}function fK(t,e){return nt(t.getUTCMonth()+1,e,2)}function dK(t,e){return nt(t.getUTCMinutes(),e,2)}function hK(t,e){return nt(t.getUTCSeconds(),e,2)}function pK(t){var e=t.getUTCDay();return e===0?7:e}function mK(t,e){return nt(Gd.count(Ri(t)-1,t),e,2)}function xP(t){var e=t.getUTCDay();return e>=4||e===0?Rs(t):Rs.ceil(t)}function gK(t,e){return t=xP(t),nt(Rs.count(Ri(t),t)+(Ri(t).getUTCDay()===4),e,2)}function yK(t){return t.getUTCDay()}function vK(t,e){return nt(sd.count(Ri(t)-1,t),e,2)}function bK(t,e){return nt(t.getUTCFullYear()%100,e,2)}function _K(t,e){return t=xP(t),nt(t.getUTCFullYear()%100,e,2)}function wK(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function EK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rs(t):Rs.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function xK(){return"+0000"}function SC(){return"%"}function TC(t){return+t}function AC(t){return Math.floor(+t/1e3)}var ls,SP,TP;SK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SK(t){return ls=S9(t),SP=ls.format,ls.parse,TP=ls.utcFormat,ls.utcParse,ls}function TK(t){return new Date(t)}function AK(t){return t instanceof Date?+t:+new Date(+t)}function U0(t,e,n,r,i,o,l,c,f,d){var h=E0(),g=h.invert,b=h.domain,w=d(".%L"),E=d(":%S"),A=d("%I:%M"),S=d("%I %p"),R=d("%a %d"),D=d("%b %d"),M=d("%B"),L=d("%Y");function U(B){return(f(B)<B?w:c(B)<B?E:l(B)<B?A:o(B)<B?S:r(B)<B?i(B)<B?R:D:n(B)<B?M:L)(B)}return h.invert=function(B){return new Date(g(B))},h.domain=function(B){return arguments.length?b(Array.from(B,AK)):b().map(TK)},h.ticks=function(B){var F=b();return t(F[0],F[F.length-1],B??10)},h.tickFormat=function(B,F){return F==null?U:d(F)},h.nice=function(B){var F=b();return(!B||typeof B.range!="function")&&(B=e(F[0],F[F.length-1],B??10)),B?b(fP(F,B)):h},h.copy=function(){return Eu(h,U0(t,e,n,r,i,o,l,c,f,d))},h}function CK(){return Tr.apply(U0(E9,x9,Ni,D0,Fd,xu,P0,I0,io,SP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NK(){return Tr.apply(U0(_9,w9,Ri,k0,Gd,zd,O0,M0,io,TP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $d(){var t=0,e=1,n,r,i,o,l=Mn,c=!1,f;function d(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(o(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(c=!!g,d):c},d.interpolator=function(g){return arguments.length?(l=g,d):l};function h(g){return function(b){var w,E;return arguments.length?([w,E]=b,l=g(w,E),d):[l(0),l(1)]}}return d.range=h(Ls),d.rangeRound=h(w0),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function Sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function AP(){var t=xa($d()(Mn));return t.copy=function(){return Sa(t,AP())},Ui.apply(t,arguments)}function CP(){var t=T0($d()).domain([1,10]);return t.copy=function(){return Sa(t,CP()).base(t.base())},Ui.apply(t,arguments)}function NP(){var t=A0($d());return t.copy=function(){return Sa(t,NP()).constant(t.constant())},Ui.apply(t,arguments)}function L0(){var t=C0($d());return t.copy=function(){return Sa(t,L0()).exponent(t.exponent())},Ui.apply(t,arguments)}function RK(){return L0.apply(null,arguments).exponent(.5)}function RP(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((_u(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>p7(t,o/r))},n.copy=function(){return RP(e).domain(t)},Ui.apply(n,arguments)}function Hd(){var t=0,e=.5,n=1,r=1,i,o,l,c,f,d=Mn,h,g=!1,b;function w(A){return isNaN(A=+A)?b:(A=.5+((A=+h(A))-o)*(r*A<r*o?c:f),d(g?Math.max(0,Math.min(1,A)):A))}w.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),l=h(n=+n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(A){return arguments.length?(g=!!A,w):g},w.interpolator=function(A){return arguments.length?(d=A,w):d};function E(A){return function(S){var R,D,M;return arguments.length?([R,D,M]=S,d=z7(A,[R,D,M]),w):[d(0),d(.5),d(1)]}}return w.range=E(Ls),w.rangeRound=E(w0),w.unknown=function(A){return arguments.length?(b=A,w):b},function(A){return h=A,i=A(t),o=A(e),l=A(n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function IP(){var t=xa(Hd()(Mn));return t.copy=function(){return Sa(t,IP())},Ui.apply(t,arguments)}function MP(){var t=T0(Hd()).domain([.1,1,10]);return t.copy=function(){return Sa(t,MP()).base(t.base())},Ui.apply(t,arguments)}function PP(){var t=A0(Hd());return t.copy=function(){return Sa(t,PP()).constant(t.constant())},Ui.apply(t,arguments)}function B0(){var t=C0(Hd());return t.copy=function(){return Sa(t,B0()).exponent(t.exponent())},Ui.apply(t,arguments)}function IK(){return B0.apply(null,arguments).exponent(.5)}const Yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v0,scaleDiverging:IP,scaleDivergingLog:MP,scaleDivergingPow:B0,scaleDivergingSqrt:IK,scaleDivergingSymlog:PP,scaleIdentity:cP,scaleImplicit:gv,scaleLinear:uP,scaleLog:dP,scaleOrdinal:y0,scalePoint:y7,scalePow:N0,scaleQuantile:mP,scaleQuantize:gP,scaleRadial:pP,scaleSequential:AP,scaleSequentialLog:CP,scaleSequentialPow:L0,scaleSequentialQuantile:RP,scaleSequentialSqrt:RK,scaleSequentialSymlog:NP,scaleSqrt:c9,scaleSymlog:hP,scaleThreshold:yP,scaleTime:CK,scaleUtc:NK,tickFormat:lP},Symbol.toStringTag,{value:"Module"}));var Ta=t=>t.chartData,q0=ee([Ta],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),OP=(t,e,n,r)=>r?q0(t):Ta(t);function ya(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pn(e)&&pn(n))return!0}return!1}function CC(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function DP(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(pn(n))i=n;else if(typeof n=="function")return;if(pn(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ya(l))return l}}function MK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ya(r))return CC(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Be(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&s1.test(i)){var f=s1.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Be(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&l1.test(o)){var h=l1.exec(o);if(h==null||e==null)c=void 0;else{var g=+h[1];c=e[1]+g}}else c=e==null?void 0:e[1];var b=[l,c];if(ya(b))return e==null?b:CC(b,e,n)}}}var Bs=1e9,PK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z0,Nt=!0,Sr="[DecimalError] ",lo=Sr+"Invalid argument: ",j0=Sr+"Exponent out of range: ",qs=Math.floor,Xa=Math.pow,OK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr,dn=1e7,St=7,kP=9007199254740991,ld=qs(kP/St),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*St;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return wi(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return pt(wi(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Qt(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(tr))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(tr)?new r(0):(Nt=!1,e=wi(fu(n,o),fu(t,o),o),Nt=!0,pt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BP(e,t):UP(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Sr+"NaN");return n.s?(Nt=!1,e=wi(n,t,0,1).times(t),Nt=!0,n.minus(e)):pt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return LP(this)};Ee.naturalLogarithm=Ee.ln=function(){return fu(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UP(e,t):BP(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lo+t);if(e=Qt(i)+1,r=i.d.length-1,n=r*St+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Sr+"NaN")}for(t=Qt(c),Nt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Kr(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(wi(c,o,l+2)).times(.5),Kr(o.d).slice(0,l)===(e=Kr(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(pt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Nt=!0,pt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,o,l,c,f,d,h=this,g=h.constructor,b=h.d,w=(t=new g(t)).d;if(!h.s||!t.s)return new g(0);for(t.s*=h.s,n=h.e+t.e,f=b.length,d=w.length,f<d&&(o=b,b=w,w=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=o[i]+w[r]*b[i-r-1]+e,o[i--]=c%dn|0,e=c/dn|0;o[i]=(o[i]+e)%dn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Nt?pt(t,g.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wr(t,0,Bs),e===void 0?e=r.rounding:Wr(e,0,8),pt(n,t+Qt(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fo(r,!0):(Wr(t,0,Bs),e===void 0?e=i.rounding:Wr(e,0,8),r=pt(new i(r),t+1,e),n=fo(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?fo(i):(Wr(t,0,Bs),e===void 0?e=o.rounding:Wr(e,0,8),r=pt(new o(i),t+Qt(i)+1,e),n=fo(r.abs(),!1,t+Qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return pt(new e(t),Qt(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,o,l,c=this,f=c.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(tr);if(c=new f(c),!c.s){if(t.s<1)throw Error(Sr+"Infinity");return c}if(c.eq(tr))return c;if(r=f.precision,t.eq(tr))return pt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=h<0?-h:h)<=kP){for(i=new f(tr),e=Math.ceil(r/St+4),Nt=!1;n%2&&(i=i.times(c),RC(i.d,e)),n=qs(n/2),n!==0;)c=c.times(c),RC(c.d,e);return Nt=!0,t.s<0?new f(tr).div(i):pt(i,r)}}else if(o<0)throw Error(Sr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Nt=!1,i=t.times(fu(c,r+d)),Nt=!0,i=LP(i),i.s=o,i};Ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Qt(i),r=fo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wr(t,1,Bs),e===void 0?e=o.rounding:Wr(e,0,8),i=pt(new o(i),t,e),n=Qt(i),r=fo(i,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wr(t,1,Bs),e===void 0?e=r.rounding:Wr(e,0,8)),pt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),n=t.constructor;return fo(t,e<=n.toExpNeg||e>=n.toExpPos)};function UP(t,e){var n,r,i,o,l,c,f,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Nt?pt(e,g):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(g/St),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=d.length,c-o<0&&(o=c,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/dn|0,f[o]%=dn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Nt?pt(e,g):e}function Wr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(lo+t)}function Kr(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=St-r.length,n&&(o+=ca(n)),o+=r;l=t[e],r=l+"",n=St-r.length,n&&(o+=ca(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var wi=(function(){function t(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%dn|0,l=o/dn|0;return l&&r.unshift(l),r}function e(r,i,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*dn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,f,d,h,g,b,w,E,A,S,R,D,M,L,U,B,F,ie,z=r.constructor,fe=r.s==i.s?1:-1,te=r.d,ne=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Sr+"Division by zero");for(f=r.e-i.e,F=ne.length,U=te.length,w=new z(fe),E=w.d=[],d=0;ne[d]==(te[d]||0);)++d;if(ne[d]>(te[d]||0)&&--f,o==null?D=o=z.precision:l?D=o+(Qt(r)-Qt(i))+1:D=o,D<0)return new z(0);if(D=D/St+2|0,d=0,F==1)for(h=0,ne=ne[0],D++;(d<U||h)&&D--;d++)M=h*dn+(te[d]||0),E[d]=M/ne|0,h=M%ne|0;else{for(h=dn/(ne[0]+1)|0,h>1&&(ne=t(ne,h),te=t(te,h),F=ne.length,U=te.length),L=F,A=te.slice(0,F),S=A.length;S<F;)A[S++]=0;ie=ne.slice(),ie.unshift(0),B=ne[0],ne[1]>=dn/2&&++B;do h=0,c=e(ne,A,F,S),c<0?(R=A[0],F!=S&&(R=R*dn+(A[1]||0)),h=R/B|0,h>1?(h>=dn&&(h=dn-1),g=t(ne,h),b=g.length,S=A.length,c=e(g,A,b,S),c==1&&(h--,n(g,F<b?ie:ne,b))):(h==0&&(c=h=1),g=ne.slice()),b=g.length,b<S&&g.unshift(0),n(A,g,S),c==-1&&(S=A.length,c=e(ne,A,F,S),c<1&&(h++,n(A,F<S?ie:ne,S))),S=A.length):c===0&&(h++,A=[0]),E[d++]=h,c&&A[0]?A[S++]=te[L]||0:(A=[te[L]],S=1);while((L++<U||A[0]!==void 0)&&D--)}return E[0]||E.shift(),w.e=f,pt(w,l?o+Qt(w)+1:o)}})();function LP(t,e){var n,r,i,o,l,c,f=0,d=0,h=t.constructor,g=h.precision;if(Qt(t)>16)throw Error(j0+Qt(t));if(!t.s)return new h(tr);for(Nt=!1,c=g,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Xa(2,d))/Math.LN10*2+5|0,c+=r,n=i=o=new h(tr),h.precision=c;;){if(i=pt(i.times(t),c),n=n.times(++f),l=o.plus(wi(i,n,c)),Kr(l.d).slice(0,c)===Kr(o.d).slice(0,c)){for(;d--;)o=pt(o.times(o),c);return h.precision=g,e==null?(Nt=!0,pt(o,g)):o}o=l}}function Qt(t){for(var e=t.e*St,n=t.d[0];n>=10;n/=10)e++;return e}function Qg(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(Sr+"LN10 precision limit exceeded");return pt(new t(t.LN10),e)}function ca(t){for(var e="";t--;)e+="0";return e}function fu(t,e){var n,r,i,o,l,c,f,d,h,g=1,b=10,w=t,E=w.d,A=w.constructor,S=A.precision;if(w.s<1)throw Error(Sr+(w.s?"NaN":"-Infinity"));if(w.eq(tr))return new A(0);if(e==null?(Nt=!1,d=S):d=e,w.eq(10))return e==null&&(Nt=!0),Qg(A,d);if(d+=b,A.precision=d,n=Kr(E),r=n.charAt(0),o=Qt(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Kr(w.d),r=n.charAt(0),g++;o=Qt(w),r>1?(w=new A("0."+n),o++):w=new A(r+"."+n.slice(1))}else return f=Qg(A,d+2,S).times(o+""),w=fu(new A(r+"."+n.slice(1)),d-b).plus(f),A.precision=S,e==null?(Nt=!0,pt(w,S)):w;for(c=l=w=wi(w.minus(tr),w.plus(tr),d),h=pt(w.times(w),d),i=3;;){if(l=pt(l.times(h),d),f=c.plus(wi(l,new A(i),d)),Kr(f.d).slice(0,d)===Kr(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(Qg(A,d+2,S).times(o+""))),c=wi(c,new A(g),d),A.precision=S,e==null?(Nt=!0,pt(c,S)):c;c=f,i+=2}}function NC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qs(n/St),t.d=[],r=(n+1)%St,n<0&&(r+=St),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=St;r<i;)t.d.push(+e.slice(r,r+=St));e=e.slice(r),r=St-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>ld||t.e<-ld))throw Error(j0+n)}else t.s=0,t.e=0,t.d=[0];return t}function pt(t,e,n){var r,i,o,l,c,f,d,h,g=t.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=St,i=e,d=g[h=0];else{if(h=Math.ceil((r+1)/St),o=g.length,h>=o)return t;for(d=o=g[h],l=1;o>=10;o/=10)l++;r%=St,i=r-St+l}if(n!==void 0&&(o=Xa(10,l-i-1),c=d/o%10|0,f=e<0||g[h+1]!==void 0||d%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/Xa(10,l-i):0:g[h-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(o=Qt(t),g.length=1,e=e-o-1,g[0]=Xa(10,(St-e%St)%St),t.e=qs(-e/St)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=h,o=1,h--):(g.length=h+1,o=Xa(10,St-r),g[h]=i>0?(d/Xa(10,l-i)%Xa(10,i)|0)*o:0),f)for(;;)if(h==0){(g[0]+=o)==dn&&(g[0]=1,++t.e);break}else{if(g[h]+=o,g[h]!=dn)break;g[h--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Nt&&(t.e>ld||t.e<-ld))throw Error(j0+Qt(t));return t}function BP(t,e){var n,r,i,o,l,c,f,d,h,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Nt?pt(e,w):e;if(f=t.d,g=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,c=g.length):(n=g,r=d,c=f.length),i=Math.max(Math.ceil(w/St),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=g.length,h=i<c,h&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){h=f[i]<g[i];break}l=0}for(h&&(n=f,f=g,g=n,e.s=-e.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=dn-1;--f[o],f[i]+=dn}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Nt?pt(e,w):e):new b(0)}function fo(t,e,n){var r,i=Qt(t),o=Kr(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ca(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ca(-i-1)+o,n&&(r=n-l)>0&&(o+=ca(r))):i>=l?(o+=ca(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+ca(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=ca(r))),t.s<0?"-"+o:o}function RC(t,e){if(t.length>e)return t.length=e,!0}function qP(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(lo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return NC(l,o.toString())}else if(typeof o!="string")throw Error(lo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,OK.test(o))NC(l,o);else throw Error(lo+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qP,i.config=i.set=DK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function DK(t){if(!t||typeof t!="object")throw Error(Sr+"Object expected");var e,n,r,i=["precision",1,Bs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(lo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lo+n+": "+r);return this}var z0=qP(PK);tr=new z0(1);const st=z0;var kK=t=>t,jP={},zP=t=>t===jP,IC=t=>function e(){return arguments.length===0||arguments.length===1&&zP(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},FP=(t,e)=>t===1?e:IC(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==jP).length;return o>=t?e(...r):FP(t-o,IC(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(h=>zP(h)?c.shift():h);return e(...d,...c)}))}),UK=t=>FP(t.length,t),_v=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},LK=UK((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),BK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kK;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),o(...arguments))}},wv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function GP(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function $P(t,e,n){for(var r=new st(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var HP=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},VP=(t,e,n)=>{if(t.lte(0))return new st(0);var r=GP(t.toNumber()),i=new st(10).pow(r),o=t.div(i),l=r!==1?.05:.1,c=new st(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new st(f.toNumber()):new st(Math.ceil(f.toNumber()))},qK=(t,e,n)=>{var r=new st(1),i=new st(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new st(10).pow(GP(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var l=Math.floor((e-1)/2),c=BK(LK(f=>i.add(new st(f-l).mul(r)).toNumber()),_v);return c(0,e)},KP=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var l=VP(new st(n).sub(e).div(r-1),i,o),c;e<=0&&n>=0?c=new st(0):(c=new st(e).add(n).div(2),c=c.sub(new st(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new st(n).sub(c).div(l).toNumber()),h=f+d+1;return h>r?KP(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:c.sub(new st(f).mul(l)),tickMax:c.add(new st(d).mul(l))})},jK=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=HP([n,r]);if(c===-1/0||f===1/0){var d=f===1/0?[c,..._v(0,i-1).map(()=>1/0)]:[..._v(0,i-1).map(()=>-1/0),f];return n>r?wv(d):d}if(c===f)return qK(c,i,o);var{step:h,tickMin:g,tickMax:b}=KP(c,f,l,o,0),w=$P(g,b.add(new st(.1).mul(h)),h);return n>r?wv(w):w},zK=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=HP([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),d=VP(new st(c).sub(l).div(f-1),o,0),h=[...$P(new st(l),new st(c),d),c];return o===!1&&(h=h.map(g=>Math.round(g))),r>i?wv(h):h},FK=t=>t.rootProps.barCategoryGap,Su=t=>t.rootProps.stackOffset,YP=t=>t.rootProps.reverseStackOrder,F0=t=>t.options.chartName,G0=t=>t.rootProps.syncId,JP=t=>t.rootProps.syncMethod,$0=t=>t.options.eventEmitter,kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Qn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Vd=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},GK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:yi.reversed,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:yi.type,unit:void 0},$K={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,ticks:void 0,type:Qn.type,unit:void 0},HK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},VK={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,ticks:void 0,type:"category",unit:void 0},H0=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?HK:GK,V0=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?VK:$K,Kd=t=>t.polarOptions,K0=ee([Di,ki,mn],YM),WP=ee([Kd,K0],(t,e)=>{if(t!=null)return nr(t.innerRadius,e,0)}),XP=ee([Kd,K0],(t,e)=>{if(t!=null)return nr(t.outerRadius,e,e*.8)}),KK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},QP=ee([Kd],KK);ee([H0,QP],Vd);var ZP=ee([K0,WP,XP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([V0,ZP],Vd);var eO=ee([vt,Kd,WP,XP,Di,ki],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:nr(l,i,i/2),cy:nr(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Rt=(t,e)=>e,Tu=(t,e,n)=>n;function tO(t){return t==null?void 0:t.id}function nO(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=tO(c);d.forEach((g,b)=>{var w=o==null||i?b:String(zt(g,o,null)),E=zt(g,c.dataKey,0),A;l.has(w)?A=l.get(w):A={},Object.assign(A,{[h]:E}),l.set(w,A)})}}),Array.from(l.values())}function Y0(t){return t.stackId!=null&&t.dataKey!=null}var Yd=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Jd(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function YK(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var sn=t=>{var e=vt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},js=t=>t.tooltip.settings.axisId;function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){JK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JK(t,e,n){return(e=WK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WK(t){var e=XK(t,"string");return typeof e=="symbol"?e:e+""}function XK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ev=[0,"auto"],QK={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZK=(t,e)=>t.cartesianAxis.xAxis[e],Aa=(t,e)=>{var n=ZK(t,e);return n??QK},eY={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ev,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bu},tY=(t,e)=>t.cartesianAxis.yAxis[e],Ca=(t,e)=>{var n=tY(t,e);return n??eY},nY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},J0=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??nY},Ot=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Ca(t,n);case"zAxis":return J0(t,n);case"angleAxis":return H0(t,n);case"radiusAxis":return V0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rY=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Ca(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Au=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Ca(t,n);case"angleAxis":return H0(t,n);case"radiusAxis":return V0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rO=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function W0(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var iY=t=>t.graphicalItems.cartesianItems,aY=ee([Rt,Tu],W0),X0=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Cu=ee([iY,Ot,aY],X0,{memoizeOptions:{resultEqualityCheck:Jd}}),iO=ee([Cu],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Y0)),aO=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),oY=ee([Cu],aO),Q0=t=>t.map(e=>e.data).filter(Boolean).flat(1),sY=ee([Cu],Q0,{memoizeOptions:{resultEqualityCheck:Jd}}),Z0=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},eb=ee([sY,OP],Z0),tb=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:zt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:zt(i,r)}))):t.map(r=>({value:r})),Wd=ee([eb,Ot,Cu],tb);function oO(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sf(t){if(Ti(t)||t instanceof Date){var e=Number(t);if(pn(e))return e}}function PC(t){if(Array.isArray(t)){var e=[Sf(t[0]),Sf(t[1])];return ya(e)?e:void 0}var n=Sf(t);if(n!=null)return[n,n]}function Ii(t){return t.map(Sf).filter(IF)}function lY(t,e,n){return!n||typeof e!="number"||xi(e)?[]:n.length?Ii(n.flatMap(r=>{var i=zt(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!pn(o)||!pn(l)))return[e-o,e+l]})):[]}var ln=t=>{var e=sn(t),n=js(t);return Au(t,e,n)},Nu=ee([ln],t=>t==null?void 0:t.dataKey),uY=ee([iO,OP,ln],nO),sO=(t,e,n,r)=>{var i={},o=e.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[c,f]=l,d=r?[...f].reverse():f,h=d.map(tO);return[c,{stackedData:V$(t,h,n),graphicalItems:d}]}))},cY=ee([uY,iO,Su,YP],sO),lO=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=J$(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},fY=ee([Ot],t=>t.allowDataOverflow),nb=t=>{var e;if(t==null||!("domain"in t))return Ev;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ii(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Ev},rb=ee([Ot],nb),ib=ee([rb,fY],DP),dY=ee([cY,Ta,Rt,ib],lO,{memoizeOptions:{resultEqualityCheck:Yd}}),Xd=t=>t.errorBars,hY=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>oO(n,r)),cd=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},ab=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,h,g=(d=r[f.id])===null||d===void 0?void 0:d.filter(R=>oO(i,R)),b=zt(c,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),w=lY(c,b,g);if(w.length>=2){var E=Math.min(...w),A=Math.max(...w);(o==null||E<o)&&(o=E),(l==null||A>l)&&(l=A)}var S=PC(b);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=PC(zt(c,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),pn(o)&&pn(l))return[o,l]},pY=ee([eb,Ot,oY,Xd,Rt],ab,{memoizeOptions:{resultEqualityCheck:Yd}});function mY(t){var{value:e}=t;if(Ti(e)||e instanceof Date)return e}var gY=(t,e,n)=>{var r=t.map(mY).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&GI(r))?QM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},uO=t=>t.referenceElements.dots,zs=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),yY=ee([uO,Rt,Tu],zs),cO=t=>t.referenceElements.areas,vY=ee([cO,Rt,Tu],zs),fO=t=>t.referenceElements.lines,bY=ee([fO,Rt,Tu],zs),dO=(t,e)=>{var n=Ii(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_Y=ee(yY,Rt,dO),hO=(t,e)=>{var n=Ii(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wY=ee([vY,Rt],hO);function EY(t){var e;if(t.x!=null)return Ii([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ii(n)}function xY(t){var e;if(t.y!=null)return Ii([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ii(n)}var pO=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?EY(r):xY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SY=ee([bY,Rt],pO),TY=ee(_Y,SY,wY,(t,e,n)=>cd(t,n,e)),ob=(t,e,n,r,i,o,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?cd(r,o,i):cd(o,i);return MK(e,d,t.allowDataOverflow)},AY=ee([Ot,rb,ib,dY,pY,TY,vt,Rt],ob,{memoizeOptions:{resultEqualityCheck:Yd}}),CY=[0,1],sb=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=mo(e,o);if(d&&c==null){var h;return QM(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?gY(r,t,d):i==="expand"?CY:l}},lb=ee([Ot,vt,eb,Wd,Su,Rt,AY],sb),mO=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(mu(o));return c in Yl?c:"point"}}},Fs=ee([Ot,vt,rO,F0,Rt],mO);function NY(t){if(t!=null){if(t in Yl)return Yl[t]();var e="scale".concat(mu(t));if(e in Yl)return Yl[e]()}}function ub(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=NY(e);if(i!=null){var o=i.domain(n).range(r);return F$(o),o}}}var cb=(t,e,n)=>{var r=nb(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ya(t))return jK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ya(t))return zK(t,e.tickCount,e.allowDecimals)}},fb=ee([lb,Au,Fs],cb),db=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ya(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,o),Math.max(l,c)]}return e},RY=ee([Ot,lb,fb,Rt],db),IY=ee(Wd,Ot,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ii(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),gO=ee(IY,vt,FK,mn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!pn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=nr(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),MY=(t,e)=>{var n=Aa(t,e);return n==null||typeof n.padding!="string"?0:gO(t,"xAxis",e,n.padding)},PY=(t,e)=>{var n=Ca(t,e);return n==null||typeof n.padding!="string"?0:gO(t,"yAxis",e,n.padding)},OY=ee(Aa,MY,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),DY=ee(Ca,PY,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),kY=ee([mn,OY,Ld,Ud,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),UY=ee([mn,vt,DY,Ld,Ud,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ru=(t,e,n,r)=>{var i;switch(e){case"xAxis":return kY(t,n,r);case"yAxis":return UY(t,n,r);case"zAxis":return(i=J0(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QP(t);case"radiusAxis":return ZP(t,n);default:return}},yO=ee([Ot,Ru],Vd),Qd=ee([Ot,Fs,RY,yO],ub);ee([Cu,Xd,Rt],hY);function vO(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Zd=(t,e)=>e,eh=(t,e,n)=>n,LY=ee(Dd,Zd,eh,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(vO)),BY=ee(kd,Zd,eh,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(vO)),bO=(t,e)=>({width:t.width,height:e.height}),qY=(t,e)=>{var n=typeof e.width=="number"?e.width:bu;return{width:n,height:t.height}};ee(mn,Aa,bO);var jY=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zY=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},FY=ee(ki,mn,LY,Zd,eh,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var f=bO(e,c);l==null&&(l=jY(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),GY=ee(Di,mn,BY,Zd,eh,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var f=qY(e,c);l==null&&(l=zY(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),$Y=(t,e)=>{var n=Aa(t,e);if(n!=null)return FY(t,n.orientation,n.mirror)};ee([mn,Aa,$Y,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var HY=(t,e)=>{var n=Ca(t,e);if(n!=null)return GY(t,n.orientation,n.mirror)};ee([mn,Ca,HY,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});ee(mn,Ca,(t,e)=>{var n=typeof e.width=="number"?e.width:bu;return{width:n,height:t.height}});var _O=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,c=mo(t,r),f=e.map(d=>d.value);if(l&&c&&o==="category"&&i&&GI(f))return f}},hb=ee([vt,Wd,Ot,Rt],_O),wO=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=mo(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(c=>c.value)}},pb=ee([vt,Wd,Au,Rt],wO);ee([vt,rY,Fs,Qd,hb,pb,Ru,fb,Rt],(t,e,n,r,i,o,l,c,f)=>{if(e!=null){var d=mo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}});var VY=(t,e,n,r,i,o,l,c,f)=>{if(!(e==null||r==null)){var d=mo(t,f),{type:h,ticks:g,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&o!=null&&o.length>=2?jn(o[0]-o[1])*2*E:E;var A=g||i;if(A){var S=A.map((R,D)=>{var M=l?l.indexOf(R):R;return{index:D,coordinate:r(M)+E,value:R,offset:E}});return S.filter(R=>pn(R.coordinate))}return d&&c?c.map((R,D)=>({coordinate:r(R)+E,value:R,index:D,offset:E})).filter(R=>pn(R.coordinate)):r.ticks?r.ticks(b).map(R=>({coordinate:r(R)+E,value:R,offset:E})):r.domain().map((R,D)=>({coordinate:r(R)+E,value:l?l[R]:R,index:D,offset:E}))}};ee([vt,Au,Fs,Qd,fb,Ru,hb,pb,Rt],VY);var KY=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=mo(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?jn(r[0]-r[1])*2*d:d,c&&o?o.map((h,g)=>({coordinate:n(h)+d,value:h,index:g,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,g)=>({coordinate:n(h)+d,value:i?i[h]:h,index:g,offset:d}))}};ee([vt,Au,Qd,Ru,hb,pb,Rt],KY);ee(Ot,Qd,(t,e)=>{if(!(t==null||e==null))return ud(ud({},t),{},{scale:e})});var YY=ee([Ot,Fs,lb,yO],ub);ee((t,e,n)=>J0(t,n),YY,(t,e)=>{if(!(t==null||e==null))return ud(ud({},t),{},{scale:e})});var JY=ee([vt,Dd,kd],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EO=t=>t.options.defaultTooltipEventType,xO=t=>t.options.validateTooltipEventTypes;function SO(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function mb(t,e){var n=EO(t),r=xO(t);return SO(e,n,r)}function WY(t){return $e(e=>mb(e,t))}var TO=(t,e)=>{var n,r=Number(e);if(!(xi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},XY=t=>t.tooltip.settings,da={active:!1,index:null,dataKey:void 0,coordinate:void 0},QY={itemInteraction:{click:da,hover:da},axisInteraction:{click:da,hover:da},keyboardInteraction:da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AO=Fn({name:"tooltip",initialState:QY,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ct()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ur(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ct()},removeTooltipEntrySettings:{reducer(t,e){var n=Ur(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ct()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ZY,replaceTooltipEntrySettings:eJ,removeTooltipEntrySettings:tJ,setTooltipSettingsState:nJ,setActiveMouseOverItemIndex:CO,mouseLeaveItem:rJ,mouseLeaveChart:NO,setActiveClickItemIndex:iJ,setMouseOverAxisIndex:RO,setMouseClickAxisIndex:aJ,setSyncInteraction:xv,setKeyboardInteraction:Sv}=AO.actions,oJ=AO.reducer;function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cJ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function fJ(t){return t.index!=null}var IO=(t,e,n,r)=>{if(e==null)return da;var i=cJ(t,e,n);if(i==null)return da;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(fJ(i)){if(o)return gf(gf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return gf(gf({},da),{},{coordinate:i.coordinate})};function dJ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function hJ(t,e){var n=dJ(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function pJ(t,e,n){if(n==null||e==null)return!0;var r=zt(t,e);return r==null||!ya(n)?!0:hJ(r,n)}var gb=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!pn(o))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(o,c)),d=e[f];return d==null||pJ(d,n,r)?String(f):null},MO=(t,e,n,r,i,o,l,c)=>{if(!(o==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},PO=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Iu=t=>t.options.tooltipPayloadSearcher,Gs=t=>t.tooltip;function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e,n){return(e=gJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=yJ(t,"string");return typeof e=="symbol"?e:e+""}function yJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vJ(t,e){return t??e}var OO=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,g=[];return t.reduce((b,w)=>{var E,{dataDefinedOnItem:A,settings:S}=w,R=vJ(A,c),D=Array.isArray(R)?PM(R,d,h):R,M=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,L=S==null?void 0:S.nameKey,U;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&l==="axis"?U=RF(D,r,i):U=o(D,e,f,L),Array.isArray(U))U.forEach(F=>{var ie=kC(kC({},S),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});b.push(c1({tooltipEntrySettings:ie,dataKey:F.dataKey,payload:F.payload,value:zt(F.payload,F.dataKey),name:F.name}))});else{var B;b.push(c1({tooltipEntrySettings:S,dataKey:M,payload:U,value:zt(U,M),name:(B=zt(U,L))!==null&&B!==void 0?B:S==null?void 0:S.name}))}return b},g)}},yb=ee([ln,vt,rO,F0,sn],mO),bJ=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_J=ee([sn,js],W0),Mu=ee([bJ,ln,_J],X0,{memoizeOptions:{resultEqualityCheck:Jd}}),wJ=ee([Mu],t=>t.filter(Y0)),EJ=ee([Mu],Q0,{memoizeOptions:{resultEqualityCheck:Jd}}),$s=ee([EJ,Ta],Z0),xJ=ee([wJ,Ta,ln],nO),vb=ee([$s,ln,Mu],tb),DO=ee([ln],nb),SJ=ee([ln],t=>t.allowDataOverflow),kO=ee([DO,SJ],DP),TJ=ee([Mu],t=>t.filter(Y0)),AJ=ee([xJ,TJ,Su,YP],sO),CJ=ee([AJ,Ta,sn,kO],lO),NJ=ee([Mu],aO),RJ=ee([$s,ln,NJ,Xd,sn],ab,{memoizeOptions:{resultEqualityCheck:Yd}}),IJ=ee([uO,sn,js],zs),MJ=ee([IJ,sn],dO),PJ=ee([cO,sn,js],zs),OJ=ee([PJ,sn],hO),DJ=ee([fO,sn,js],zs),kJ=ee([DJ,sn],pO),UJ=ee([MJ,kJ,OJ],cd),LJ=ee([ln,DO,kO,CJ,RJ,UJ,vt,sn],ob),Pu=ee([ln,vt,$s,vb,Su,sn,LJ],sb),BJ=ee([Pu,ln,yb],cb),qJ=ee([ln,Pu,BJ,sn],db),UO=t=>{var e=sn(t),n=js(t),r=!1;return Ru(t,e,n,r)},LO=ee([ln,UO],Vd),BO=ee([ln,yb,qJ,LO],ub),jJ=ee([vt,vb,ln,sn],_O),zJ=ee([vt,vb,ln,sn],wO),FJ=(t,e,n,r,i,o,l,c)=>{if(e){var{type:f}=e,d=mo(t,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jn(i[0]-i[1])*2*g:g,d&&l?l.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:o?o[b]:b,index:w,offset:g}))}}},Li=ee([vt,ln,yb,BO,UO,jJ,zJ,sn],FJ),bb=ee([EO,xO,XY],(t,e,n)=>SO(n.shared,t,e)),qO=t=>t.tooltip.settings.trigger,_b=t=>t.tooltip.settings.defaultIndex,th=ee([Gs,bb,qO,_b],IO),du=ee([th,$s,Nu,Pu],gb),jO=ee([Li,du],TO),GJ=ee([th],t=>{if(t)return t.dataKey}),zO=ee([Gs,bb,qO,_b],PO),$J=ee([Di,ki,vt,mn,Li,_b,zO,Iu],MO),HJ=ee([th,$J],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),VJ=ee([th],t=>t.active),KJ=ee([zO,du,Ta,Nu,jO,Iu,bb],OO);ee([KJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=JJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=WJ(t,"string");return typeof e=="symbol"?e:e+""}function WJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XJ=()=>$e(ln),QJ=()=>{var t=XJ(),e=$e(Li),n=$e(BO);return u1(!t||!n?void 0:LC(LC({},t),{},{scale:n}),e)};function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){ZJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZJ(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nW=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},rW=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return us(us(us({},r),Xt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:f}=r;return us(us(us({},r),Xt(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function iW(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var FO=(t,e,n,r,i)=>{var o,l=-1,c=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var d=f>0?n[f-1].coordinate:n[c-1].coordinate,h=n[f].coordinate,g=f>=c-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(jn(h-d)!==jn(g-h)){var w=[];if(jn(g-h)===jn(i[1]-i[0])){b=g;var E=h+i[1]-i[0];w[0]=Math.min(E,(E+d)/2),w[1]=Math.max(E,(E+d)/2)}else{b=d;var A=g+i[1]-i[0];w[0]=Math.min(h,(A+h)/2),w[1]=Math.max(h,(A+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){({index:l}=n[f]);break}}else{var R=Math.min(d,g),D=Math.max(d,g);if(t>(R+h)/2&&t<=(D+h)/2){({index:l}=n[f]);break}}}else if(e){for(var M=0;M<c;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<c-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===c-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:l}=e[M]);break}}return l},aW=()=>$e(F0),wb=(t,e)=>e,GO=(t,e,n)=>n,Eb=(t,e,n,r)=>r,oW=ee(Li,t=>Nd(t,e=>e.coordinate)),xb=ee([Gs,wb,GO,Eb],IO),Sb=ee([xb,$s,Nu,Pu],gb),sW=(t,e,n)=>{if(e!=null){var r=Gs(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$O=ee([Gs,wb,GO,Eb],PO),fd=ee([Di,ki,vt,mn,Li,Eb,$O,Iu],MO),lW=ee([xb,fd],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),HO=ee([Li,Sb],TO),uW=ee([$O,Sb,Ta,Nu,HO,Iu,wb],OO),cW=ee([xb,Sb],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),fW=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&iW(t,l)){var c=W$(t,e),f=FO(c,o,i,n,r),d=nW(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},dW=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var c=KV(t,n);if(c){var f=X$(c,e),d=FO(f,l,o,r,i),h=rW(e,o,d,c);return{activeIndex:String(d),activeCoordinate:h}}}},hW=(t,e,n,r,i,o,l,c)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?fW(t,e,r,i,o,l,c):dW(t,e,n,r,i,o,l)},pW=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),mW=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(kr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:YK}});function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){gW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gW(t,e,n){return(e=yW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=vW(t,"string");return typeof e=="symbol"?e:e+""}function vW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bW={},_W={zIndexMap:Object.values(kr).reduce((t,e)=>jC(jC({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),bW)},wW=new Set(Object.values(kr));function EW(t){return wW.has(t)}var VO=Fn({name:"zIndex",initialState:_W,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ct()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!EW(n)&&delete t.zIndexMap[n])},prepare:Ct()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ct()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Ct()}}}),{registerZIndexPortal:xW,unregisterZIndexPortal:SW,registerZIndexPortalId:TW,unregisterZIndexPortalId:AW}=VO.actions,CW=VO.reducer;function Ou(t){var{zIndex:e,children:n}=t,r=MH(),i=r&&e!==void 0&&e!==0,o=Ea(),l=an();I.useLayoutEffect(()=>i?(l(xW({zIndex:e})),()=>{l(SW({zIndex:e}))}):gu,[l,e,i]);var c=$e(d=>pW(d,e,o));if(!i)return n;if(!c)return null;var f=document.getElementById(c);return f?TI.createPortal(n,f):null}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(null,arguments)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=RW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=IW(t,"string");return typeof e=="symbol"?e:e+""}function IW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MW(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return I.isValidElement(e)?I.cloneElement(e,r):I.createElement(n,r)}function PW(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:h}=t,g=n,b=r,w=i;if(!f||!g||h!=="ScatterChart"&&d!=="axis")return null;var E,A,S;if(h==="ScatterChart")E=g,A=uV,S=kr.cursorLine;else if(h==="BarChart")E=cV(c,g,o,l),A=KM,S=kr.cursorRectangle;else if(c==="radial"&&VI(g)){var{cx:R,cy:D,radius:M,startAngle:L,endAngle:U}=JM(g);E={cx:R,cy:D,startAngle:L,endAngle:U,innerRadius:M,outerRadius:M},A=XM,S=kr.cursorLine}else E={points:XV(c,g,o)},A=h0,S=kr.cursorLine;var B=typeof f=="object"&&"className"in f?f.className:void 0,F=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},o),E),Gy(f)),{},{payload:b,payloadIndex:w,className:Zt("recharts-tooltip-cursor",B)});return I.createElement(Ou,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},I.createElement(MW,{cursor:f,cursorComp:A,cursorProps:F}))}function OW(t){var e=QJ(),n=NH(),r=d0(),i=aW();return e==null||n==null||r==null||i==null?null:I.createElement(PW,Tv({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var KO=I.createContext(null),DW=()=>I.useContext(KO),Zg={exports:{}},FC;function kW(){return FC||(FC=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,g||f,b),E=n?n+d:d;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)e.call(h,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,E=new Array(w);b<w;b++)E[b]=g[b].fn;return E},c.prototype.listenerCount=function(d){var h=n?n+d:d,g=this._events[h];return g?g.fn?1:g.length:0},c.prototype.emit=function(d,h,g,b,w,E){var A=n?n+d:d;if(!this._events[A])return!1;var S=this._events[A],R=arguments.length,D,M;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,b),!0;case 5:return S.fn.call(S.context,h,g,b,w),!0;case 6:return S.fn.call(S.context,h,g,b,w,E),!0}for(M=1,D=new Array(R-1);M<R;M++)D[M-1]=arguments[M];S.fn.apply(S.context,D)}else{var L=S.length,U;for(M=0;M<L;M++)switch(S[M].once&&this.removeListener(d,S[M].fn,void 0,!0),R){case 1:S[M].fn.call(S[M].context);break;case 2:S[M].fn.call(S[M].context,h);break;case 3:S[M].fn.call(S[M].context,h,g);break;case 4:S[M].fn.call(S[M].context,h,g,b);break;default:if(!D)for(U=1,D=new Array(R-1);U<R;U++)D[U-1]=arguments[U];S[M].fn.apply(S[M].context,D)}}return!0},c.prototype.on=function(d,h,g){return o(this,d,h,g,!1)},c.prototype.once=function(d,h,g){return o(this,d,h,g,!0)},c.prototype.removeListener=function(d,h,g,b){var w=n?n+d:d;if(!this._events[w])return this;if(!h)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===h&&(!b||E.once)&&(!g||E.context===g)&&l(this,w);else{for(var A=0,S=[],R=E.length;A<R;A++)(E[A].fn!==h||b&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Zg)),Zg.exports}var UW=kW();const LW=Lr(UW);var hu=new LW,Av="recharts.syncEvent.tooltip",GC="recharts.syncEvent.brush";function BW(t,e){if(e){var n=Number.parseInt(e,10);if(!xi(n))return t==null?void 0:t[n]}}var qW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},YO=Fn({name:"options",initialState:qW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jW=YO.reducer,{createEventEmitter:zW}=YO.actions;function FW(t){return t.tooltip.syncInteraction}var GW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JO=Fn({name:"chartData",initialState:GW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:$C,setDataStartEndIndexes:$W,setComputedData:xte}=JO.actions,HW=JO.reducer,VW=["x","y"];function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){KW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KW(t,e,n){return(e=YW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YW(t){var e=JW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WW(t,e){if(t==null)return{};var n,r,i=XW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QW(){var t=$e(G0),e=$e($0),n=an(),r=$e(JP),i=$e(Li),o=d0(),l=Bd(),c=$e(f=>f.rootProps.className);I.useEffect(()=>{if(t==null)return gu;var f=(d,h,g)=>{if(e!==g&&t===d){if(r==="index"){var b;if(l&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var w=h.payload.coordinate,{x:E,y:A}=w,S=WW(w,VW),{x:R,y:D,width:M,height:L}=h.payload.sourceViewBox,U=cs(cs({},S),{},{x:l.x+(M?(E-R)/M:0)*l.width,y:l.y+(L?(A-D)/L:0)*l.height});n(cs(cs({},h),{},{payload:cs(cs({},h.payload),{},{coordinate:U})}))}else n(h);return}if(i!=null){var B;if(typeof r=="function"){var F={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},ie=r(i,F);B=i[ie]}else r==="value"&&(B=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:z}=h.payload;if(B==null||h.payload.active===!1||z==null||l==null){n(xv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:fe,y:te}=z,ne=Math.min(fe,l.x+l.width),be=Math.min(te,l.y+l.height),Se={x:o==="horizontal"?B.coordinate:ne,y:o==="horizontal"?be:B.coordinate},Ie=xv({active:h.payload.active,coordinate:Se,dataKey:h.payload.dataKey,index:String(B.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(Ie)}}};return hu.on(Av,f),()=>{hu.off(Av,f)}},[c,n,e,t,r,i,o,l])}function ZW(){var t=$e(G0),e=$e($0),n=an();I.useEffect(()=>{if(t==null)return gu;var r=(i,o,l)=>{e!==l&&t===i&&n($W(o))};return hu.on(GC,r),()=>{hu.off(GC,r)}},[n,e,t])}function eX(){var t=an();I.useEffect(()=>{t(zW())},[t]),QW(),ZW()}function tX(t,e,n,r,i,o){var l=$e(w=>sW(w,t,e)),c=$e($0),f=$e(G0),d=$e(JP),h=$e(FW),g=h==null?void 0:h.active,b=Bd();I.useEffect(()=>{if(!g&&f!=null&&c!=null){var w=xv({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b});hu.emit(Av,f,w,c)}},[g,n,l,i,r,c,f,d,o,b])}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t){return t.dataKey}function oX(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(zH,e)}var YC=[],sX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Us.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lX(t){var e,n,r=Xr(t,sX),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:h,offset:g,payloadUniqBy:b,position:w,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:R,shared:D,trigger:M,defaultIndex:L,portal:U,axisId:B}=r,F=an(),ie=typeof L=="number"?String(L):L;I.useEffect(()=>{F(nJ({shared:D,trigger:M,axisId:B,active:i,defaultIndex:ie}))},[F,D,M,B,i,ie]);var z=Bd(),fe=FM(),te=WY(D),{activeIndex:ne,isActive:be}=(e=$e(ge=>cW(ge,te,M,ie)))!==null&&e!==void 0?e:{},Se=$e(ge=>uW(ge,te,M,ie)),Ie=$e(ge=>HO(ge,te,M,ie)),Y=$e(ge=>lW(ge,te,M,ie)),he=Se,ve=DW(),Te=(n=i??be)!==null&&n!==void 0?n:!1,[ke,G]=zG([he,Te]),j=te==="axis"?Ie:void 0;tX(te,M,Y,j,ne,Te);var X=U??ve;if(X==null||z==null||te==null)return null;var V=he??YC;Te||(V=YC),d&&V.length&&(V=hG(V.filter(ge=>ge.value!=null&&(ge.hide!==!0||r.includeHidden)),b,aX));var ce=V.length>0,me=I.createElement(YH,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:Te,coordinate:Y,hasPayload:ce,offset:g,position:w,reverseDirection:E,useTranslate3d:A,viewBox:z,wrapperStyle:S,lastBoundingBox:ke,innerRef:G,hasPortalFromProps:!!U},oX(f,KC(KC({},r),{},{payload:V,label:j,active:Te,activeIndex:ne,coordinate:Y,accessibilityLayer:fe})));return I.createElement(I.Fragment,null,TI.createPortal(me,X),Te&&I.createElement(OW,{cursor:R,tooltipEventType:te,coordinate:Y,payload:V,index:ne}))}var nh=t=>null;nh.displayName="Cell";function uX(t,e,n){return(e=cX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=fX(t,"string");return typeof e=="symbol"?e:e+""}function fX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dX{constructor(e){uX(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=gX(t,"string");return typeof e=="symbol"?e:e+""}function gX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yX={cacheSize:2e3,enableCache:!0},WO=hX({},yX),WC=new dX(WO.cacheSize),vX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XC="recharts_measurement_span";function bX(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(c)}var QC=(t,e)=>{try{var n=document.getElementById(XC);n||(n=document.createElement("span"),n.setAttribute("id",XC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vX,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ZC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Us.isSsr)return{width:0,height:0};if(!WO.enableCache)return QC(e,n);var r=bX(e,n),i=WC.get(r);if(i)return i;var o=QC(e,n);return WC.set(r,o),o},eN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_X=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EX=Object.keys(XO),ms="NaN";function xX(t,e){return t*XO[e]}class qn{static parse(e){var n,[,r,i]=(n=wX.exec(e))!==null&&n!==void 0?n:[];return new qn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,xi(e)&&(this.unit=""),n!==""&&!_X.test(n)&&(this.num=NaN,this.unit=""),EX.includes(n)&&(this.num=xX(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new qn(NaN,""):new qn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qn(NaN,""):new qn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qn(NaN,""):new qn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qn(NaN,""):new qn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xi(this.num)}}function QO(t){if(t.includes(ms))return ms;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=eN.exec(e))!==null&&n!==void 0?n:[],l=qn.parse(r??""),c=qn.parse(o??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ms;e=e.replace(eN,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,g,b]=(d=tN.exec(e))!==null&&d!==void 0?d:[],w=qn.parse(h??""),E=qn.parse(b??""),A=g==="+"?w.add(E):w.subtract(E);if(A.isNaN())return ms;e=e.replace(tN,A.toString())}return e}var nN=/\(([^()]*)\)/;function SX(t){for(var e=t,n;(n=nN.exec(e))!=null;){var[,r]=n;e=e.replace(nN,QO(r))}return e}function TX(t){var e=t.replace(/\s+/g,"");return e=SX(e),e=QO(e),e}function AX(t){try{return TX(t)}catch{return ms}}function ey(t){var e=AX(t.slice(5,-1));return e===ms?"":e}var CX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],NX=["dx","dy","angle","className","breakAll"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}function rN(t,e){if(t==null)return{};var n,r,i=RX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZO=/[ \f\n\r\t\v\u2028\u2029]+/,eD=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];ir(e)||(n?i=e.toString().split(""):i=e.toString().split(ZO));var o=i.map(c=>({word:c,width:ZC(c,r).width})),l=n?0:ZC("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function IX(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var tD=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:c}=o,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};i.push(d)}return i},[]),nD=t=>t.reduce((e,n)=>e.width>n.width?e:n),MX="",iN=(t,e,n,r,i,o,l,c)=>{var f=t.slice(0,e),d=eD({breakAll:n,style:r,children:f+MX});if(!d)return[!1,[]];var h=tD(d.wordsWithComputedWidth,o,l,c),g=h.length>i||nD(h).width>Number(o);return[g,h]},PX=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:c,breakAll:f}=t,d=Be(o),h=String(l),g=tD(e,r,n,i);if(!d||i)return g;var b=g.length>o||nD(g).width>Number(r);if(!b)return g;for(var w=0,E=h.length-1,A=0,S;w<=E&&A<=h.length-1;){var R=Math.floor((w+E)/2),D=R-1,[M,L]=iN(h,D,f,c,o,r,n,i),[U]=iN(h,R,f,c,o,r,n,i);if(!M&&!U&&(w=R+1),M&&U&&(E=R-1),!M&&U){S=L;break}A++}return S||g},aN=t=>{var e=ir(t)?[]:t.toString().split(ZO);return[{words:e,width:void 0}]},OX=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!Us.isSsr){var c,f,d=eD({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:g}=d;c=h,f=g}else return aN(r);return PX({breakAll:o,children:r,maxLines:l,style:i},c,f,e,!!n)}return aN(r)},rD="#808080",DX={angle:0,breakAll:!1,capHeight:"0.71em",fill:rD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Tb=I.forwardRef((t,e)=>{var n=Xr(t,DX),{x:r,y:i,lineHeight:o,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,g=rN(n,CX),b=I.useMemo(()=>OX({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:A,className:S,breakAll:R}=g,D=rN(g,NX);if(!Ti(r)||!Ti(i)||b.length===0)return null;var M=Number(r)+(Be(w)?w:0),L=Number(i)+(Be(E)?E:0);if(!pn(M)||!pn(L))return null;var U;switch(h){case"start":U=ey("calc(".concat(l,")"));break;case"middle":U=ey("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:U=ey("calc(".concat(b.length-1," * -").concat(o,")"));break}var B=[];if(f){var F=b[0].width,{width:ie}=g;B.push("scale(".concat(Be(ie)&&Be(F)?ie/F:1,")"))}return A&&B.push("rotate(".concat(A,", ").concat(M,", ").concat(L,")")),B.length&&(D.transform=B.join(" ")),I.createElement("text",Cv({},Er(D),{ref:e,x:M,y:L,className:Zt("recharts-text",S),textAnchor:d,fill:c.includes("url")?rD:c}),b.map((z,fe)=>{var te=z.words.join(R?"":" ");return I.createElement("tspan",{x:M,dy:fe===0?U:o,key:"".concat(te,"-").concat(fe)},te)}))});Tb.displayName="Text";var kX=["labelRef"];function UX(t,e){if(t==null)return{};var n,r,i=LX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){BX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BX(t,e,n){return(e=qX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=jX(t,"string");return typeof e=="symbol"?e:e+""}function jX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(null,arguments)}var zX=I.createContext(null),FX=()=>{var t=I.useContext(zX),e=Bd();return t||jM(e)},GX=I.createContext(null),$X=()=>{var t=I.useContext(GX),e=$e(eO);return t||e},HX=t=>{var{value:e,formatter:n}=t,r=ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},VX=t=>t!=null&&typeof t=="function",KX=(t,e)=>{var n=jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},YX=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:h,startAngle:g,endAngle:b,clockWise:w}=i,E=(d+h)/2,A=KX(g,b),S=A>=0?1:-1,R,D;switch(e){case"insideStart":R=g+S*o,D=w;break;case"insideEnd":R=b-S*o,D=!w;break;case"end":R=b+S*o,D=w;break;default:throw new Error("Unsupported position ".concat(e))}D=A<=0?D:!D;var M=Xt(c,f,E,R),L=Xt(c,f,E,R+(D?1:-1)*359),U="M".concat(M.x,",").concat(M.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(D?0:1,`,
    `).concat(L.x,",").concat(L.y),B=ir(t.id)?nu("recharts-radial-line-"):t.id;return I.createElement("text",dd({},r,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:B,d:U})),I.createElement("textPath",{xlinkHref:"#".concat(B)},n))},JX=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:h,y:g}=Xt(r,i,l+e,d);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:w,y:E}=Xt(r,i,b,d);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Nv=t=>"cx"in t&&Be(t.cx),WX=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Nv(n)&&(o=n);var{x:l,y:c,upperWidth:f,lowerWidth:d,height:h}=e,g=l,b=l+(f-d)/2,w=(g+b)/2,E=(f+d)/2,A=g+f/2,S=h>=0?1:-1,R=S*r,D=S>0?"end":"start",M=S>0?"start":"end",L=f>=0?1:-1,U=L*r,B=L>0?"end":"start",F=L>0?"start":"end";if(i==="top"){var ie={x:g+f/2,y:c-R,textAnchor:"middle",verticalAnchor:D};return Jt(Jt({},ie),o?{height:Math.max(c-o.y,0),width:f}:{})}if(i==="bottom"){var z={x:b+d/2,y:c+h+R,textAnchor:"middle",verticalAnchor:M};return Jt(Jt({},z),o?{height:Math.max(o.y+o.height-(c+h),0),width:d}:{})}if(i==="left"){var fe={x:w-U,y:c+h/2,textAnchor:B,verticalAnchor:"middle"};return Jt(Jt({},fe),o?{width:Math.max(fe.x-o.x,0),height:h}:{})}if(i==="right"){var te={x:w+E+U,y:c+h/2,textAnchor:F,verticalAnchor:"middle"};return Jt(Jt({},te),o?{width:Math.max(o.x+o.width-te.x,0),height:h}:{})}var ne=o?{width:E,height:h}:{};return i==="insideLeft"?Jt({x:w+U,y:c+h/2,textAnchor:F,verticalAnchor:"middle"},ne):i==="insideRight"?Jt({x:w+E-U,y:c+h/2,textAnchor:B,verticalAnchor:"middle"},ne):i==="insideTop"?Jt({x:g+f/2,y:c+R,textAnchor:"middle",verticalAnchor:M},ne):i==="insideBottom"?Jt({x:b+d/2,y:c+h-R,textAnchor:"middle",verticalAnchor:D},ne):i==="insideTopLeft"?Jt({x:g+U,y:c+R,textAnchor:F,verticalAnchor:M},ne):i==="insideTopRight"?Jt({x:g+f-U,y:c+R,textAnchor:B,verticalAnchor:M},ne):i==="insideBottomLeft"?Jt({x:b+U,y:c+h-R,textAnchor:F,verticalAnchor:D},ne):i==="insideBottomRight"?Jt({x:b+d-U,y:c+h-R,textAnchor:B,verticalAnchor:D},ne):i&&typeof i=="object"&&(Be(i.x)||Si(i.x))&&(Be(i.y)||Si(i.y))?Jt({x:l+nr(i.x,E),y:c+nr(i.y,h),textAnchor:"end",verticalAnchor:"end"},ne):Jt({x:A,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},ne)},XX={angle:0,offset:5,zIndex:kr.label,position:"middle",textBreakAll:!1};function iD(t){var e=Xr(t,XX),{viewBox:n,position:r,value:i,children:o,content:l,className:c="",textBreakAll:f,labelRef:d}=e,h=$X(),g=FX(),b=r==="center"?g:h??g,w,E,A;if(n==null?w=b:Nv(n)?w=n:w=jM(n),!w||ir(i)&&ir(o)&&!I.isValidElement(l)&&typeof l!="function")return null;var S=Jt(Jt({},e),{},{viewBox:w});if(I.isValidElement(l)){var{labelRef:R}=S,D=UX(S,kX);return I.cloneElement(l,D)}if(typeof l=="function"){if(E=I.createElement(l,S),I.isValidElement(E))return E}else E=HX(e);var M=Er(e);if(Nv(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return YX(e,r,E,M,w);A=JX(w,e.offset,e.position)}else A=WX(e,w);return I.createElement(Ou,{zIndex:e.zIndex},I.createElement(Tb,dd({ref:d,className:Zt("recharts-label",c)},M,A,{textAnchor:IX(M.textAnchor)?M.textAnchor:A.textAnchor,breakAll:f}),E))}iD.displayName="Label";var ty={},ny={},sN;function QX(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ny)),ny}var ry={},lN;function ZX(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ry)),ry}var uN;function eQ(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QX(),n=ZX(),r=i0();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(ty)),ty}var iy,cN;function tQ(){return cN||(cN=1,iy=eQ().last),iy}var nQ=tQ();const rQ=Lr(nQ);var iQ=["valueAccessor"],aQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(null,arguments)}function fN(t,e){if(t==null)return{};var n,r,i=oQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sQ=t=>Array.isArray(t.value)?rQ(t.value):t.value,aD=I.createContext(void 0);aD.Provider;var oD=I.createContext(void 0),lQ=oD.Provider;function uQ(){return I.useContext(aD)}function cQ(){return I.useContext(oD)}function Tf(t){var{valueAccessor:e=sQ}=t,n=fN(t,iQ),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:c}=n,f=fN(n,aQ),d=uQ(),h=cQ(),g=d||h;return!g||!g.length?null:I.createElement(Ou,{zIndex:c??kr.label},I.createElement(ma,{className:"recharts-label-list"},g.map((b,w)=>{var E,A=ir(r)?e(b,w):zt(b&&b.payload,r),S=ir(o)?{}:{id:"".concat(o,"-").concat(w)};return I.createElement(iD,hd({key:"label-".concat(w)},Er(b),f,S,{fill:(E=n.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:A,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}Tf.displayName="LabelList";function fQ(t){var{label:e}=t;return e?e===!0?I.createElement(Tf,{key:"labelList-implicit"}):I.isValidElement(e)||VX(e)?I.createElement(Tf,{key:"labelList-implicit",content:e}):typeof e=="object"?I.createElement(Tf,hd({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var sD=t=>t.graphicalItems.polarItems,dQ=ee([Rt,Tu],W0),rh=ee([sD,Ot,dQ],X0),hQ=ee([rh],Q0),ih=ee([hQ,q0],Z0),pQ=ee([ih,Ot,rh],tb);ee([ih,Ot,rh],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,l=zt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:zt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var dN=()=>{},mQ=ee([ih,Ot,rh,Xd,Rt],ab),gQ=ee([Ot,rb,ib,dN,mQ,dN,vt,Rt],ob),lD=ee([Ot,vt,ih,pQ,Su,Rt,gQ],sb),yQ=ee([lD,Ot,Fs],cb);ee([Ot,lD,yQ,Rt],db);var vQ={radiusAxis:{},angleAxis:{}},uD=Fn({name:"polarAxis",initialState:vQ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ste,removeRadiusAxis:Tte,addAngleAxis:Ate,removeAngleAxis:Cte}=uD.actions,bQ=uD.reducer;function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){_Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e,n){return(e=wQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t){var e=EQ(t,"string");return typeof e=="symbol"?e:e+""}function EQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xQ=(t,e)=>e,Ab=ee([sD,xQ],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),SQ=[],Cb=(t,e,n)=>(n==null?void 0:n.length)===0?SQ:n,cD=ee([q0,Ab,Cb],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>pN(pN({},e.presentationProps),o.props))),i!=null)return i}}),TQ=ee([cD,Ab,Cb],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,l=zt(r,e.nameKey,e.name),c;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:OM(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),AQ=ee([cD,Ab,Cb,mn],(t,e,n,r)=>{if(!(e==null||t==null))return RZ({offset:r,pieSettings:e,displayedData:t,cells:n})}),ay={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function CQ(){if(mN)return ft;mN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case t:switch(A=A.type,A){case n:case i:case r:case f:case d:case b:return A;default:switch(A=A&&A.$$typeof,A){case l:case c:case g:case h:return A;case o:return A;default:return S}}case e:return S}}}return ft.ContextConsumer=o,ft.ContextProvider=l,ft.Element=t,ft.ForwardRef=c,ft.Fragment=n,ft.Lazy=g,ft.Memo=h,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=f,ft.SuspenseList=d,ft.isContextConsumer=function(A){return E(A)===o},ft.isContextProvider=function(A){return E(A)===l},ft.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},ft.isForwardRef=function(A){return E(A)===c},ft.isFragment=function(A){return E(A)===n},ft.isLazy=function(A){return E(A)===g},ft.isMemo=function(A){return E(A)===h},ft.isPortal=function(A){return E(A)===e},ft.isProfiler=function(A){return E(A)===i},ft.isStrictMode=function(A){return E(A)===r},ft.isSuspense=function(A){return E(A)===f},ft.isSuspenseList=function(A){return E(A)===d},ft.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===h||A.$$typeof===l||A.$$typeof===o||A.$$typeof===c||A.$$typeof===w||A.getModuleId!==void 0)},ft.typeOf=E,ft}var gN;function NQ(){return gN||(gN=1,ay.exports=CQ()),ay.exports}var RQ=NQ(),yN=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",vN=null,oy=null,fD=t=>{if(t===vN&&Array.isArray(oy))return oy;var e=[];return I.Children.forEach(t,n=>{ir(n)||(RQ.isFragment(n)?e=e.concat(fD(n.props.children)):e.push(n))}),oy=e,vN=t,e};function dD(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>yN(i)):r=[yN(e)],fD(t).forEach(i=>{var o=tu(i,"type.displayName")||tu(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var sy={},bN;function IQ(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(sy)),sy}var ly,_N;function MQ(){return _N||(_N=1,ly=IQ().isPlainObject),ly}var PQ=MQ();const OQ=Lr(PQ);function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=kQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(null,arguments)}var xN=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},LQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BQ=t=>{var e=Xr(t,LQ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:g}=e,b=I.useRef(null),[w,E]=I.useState(-1),A=I.useRef(i),S=I.useRef(o),R=I.useRef(l),D=I.useRef(n),M=I.useRef(r),L=m0(t,"trapezoid-");if(I.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var Se=b.current.getTotalLength();Se&&E(Se)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var U=Zt("recharts-trapezoid",c);if(!g)return I.createElement("g",null,I.createElement("path",pd({},Er(e),{className:U,d:xN(n,r,i,o,l)})));var B=A.current,F=S.current,ie=R.current,z=D.current,fe=M.current,te="0px ".concat(w===-1?1:w,"px"),ne="".concat(w,"px 0px"),be=GM(["strokeDasharray"],d,f);return I.createElement(p0,{animationId:L,key:L,canBegin:w>0,duration:d,easing:f,isActive:g,begin:h},Se=>{var Ie=Pr(B,i,Se),Y=Pr(F,o,Se),he=Pr(ie,l,Se),ve=Pr(z,n,Se),Te=Pr(fe,r,Se);b.current&&(A.current=Ie,S.current=Y,R.current=he,D.current=ve,M.current=Te);var ke=Se>0?{transition:be,strokeDasharray:ne}:{strokeDasharray:te};return I.createElement("path",pd({},Er(e),{className:U,d:xN(ve,Te,Ie,Y,he),ref:b,style:EN(EN({},ke),e.style)}))})},qQ=["option","shapeType","propTransformer","activeClassName"];function jQ(t,e){if(t==null)return{};var n,r,i=zQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){FQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t,e){return md(md({},e),t)}function VQ(t,e){return t==="symbols"}function TN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return I.createElement(KM,n);case"trapezoid":return I.createElement(BQ,n);case"sector":return I.createElement(XM,n);case"symbols":if(VQ(e))return I.createElement(HI,n);break;case"curve":return I.createElement(h0,n);default:return null}}function KQ(t){return I.isValidElement(t)?t.props:t}function YQ(t){var{option:e,shapeType:n,propTransformer:r=HQ,activeClassName:i="recharts-active-shape"}=t,o=jQ(t,qQ),l;if(I.isValidElement(e))l=I.cloneElement(e,md(md({},o),KQ(e)));else if(typeof e=="function")l=e(o);else if(OQ(e)&&typeof e!="boolean"){var c=r(e,o);l=I.createElement(TN,{shapeType:n,elementProps:c})}else{var f=o;l=I.createElement(TN,{shapeType:n,elementProps:f})}return o.isActive?I.createElement(ma,{className:i},l):l}var JQ=(t,e)=>{var n=an();return(r,i)=>o=>{t==null||t(r,i,o),n(CO({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},WQ=t=>{var e=an();return(n,r)=>i=>{t==null||t(n,r,i),e(rJ())}},XQ=(t,e)=>{var n=an();return(r,i)=>o=>{t==null||t(r,i,o),n(iJ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function QQ(t){var{tooltipEntrySettings:e}=t,n=an(),r=Ea(),i=I.useRef(null);return I.useLayoutEffect(()=>{r||(i.current===null?n(ZY(e)):i.current!==e&&n(eJ({prev:i.current,next:e})),i.current=e)},[e,n,r]),I.useLayoutEffect(()=>()=>{i.current&&(n(tJ(i.current)),i.current=null)},[n]),null}function ZQ(t){var{legendPayload:e}=t,n=an(),r=$e(vt),i=I.useRef(null);return I.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(OH(e)):i.current!==e&&n(DH({prev:i.current,next:e})),i.current=e)},[n,r,e]),I.useLayoutEffect(()=>()=>{i.current&&(n(kH(i.current)),i.current=null)},[n]),null}var uy,eZ=()=>{var[t]=I.useState(()=>nu("uid-"));return t},tZ=(uy=eU.useId)!==null&&uy!==void 0?uy:eZ;function hD(t,e){var n=tZ();return e||(t?"".concat(t,"-").concat(n):n)}var nZ=I.createContext(void 0),rZ=t=>{var{id:e,type:n,children:r}=t,i=hD("recharts-".concat(n),e);return I.createElement(nZ.Provider,{value:i},r(i))},iZ={cartesianItems:[],polarItems:[]},pD=Fn({name:"graphicalItems",initialState:iZ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ct()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ur(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ct()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ur(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ct()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ct()},removePolarGraphicalItem:{reducer(t,e){var n=Ur(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ct()}}}),{addCartesianGraphicalItem:Nte,replaceCartesianGraphicalItem:Rte,removeCartesianGraphicalItem:Ite,addPolarGraphicalItem:aZ,removePolarGraphicalItem:oZ}=pD.actions,sZ=pD.reducer;function lZ(t){var e=an();return I.useLayoutEffect(()=>(e(aZ(t)),()=>{e(oZ(t))}),[e,t]),null}var uZ=["key"],cZ=["onMouseEnter","onClick","onMouseLeave"],fZ=["id"],dZ=["id"];function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(null,arguments)}function ah(t,e){if(t==null)return{};var n,r,i=gZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yZ(t){var e=I.useMemo(()=>dD(t.children,nh),[t.children]),n=$e(r=>TQ(r,t.id,e));return n==null?null:I.createElement(ZQ,{legendPayload:n})}var vZ=I.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:c,hide:f,tooltipType:d}=t,h={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:e,nameKey:n,name:OM(c,e),hide:f,type:d,color:l,unit:""}};return I.createElement(QQ,{tooltipEntrySettings:h})}),bZ=(t,e)=>t>e?"start":t<e?"end":"middle",_Z=(t,e,n)=>nr(typeof e=="function"?e(t):e,n,n*.8),wZ=(t,e,n)=>{var{top:r,left:i,width:o,height:l}=e,c=YM(o,l),f=i+nr(t.cx,o,o/2),d=r+nr(t.cy,l,l/2),h=nr(t.innerRadius,c,0),g=_Z(n,t.outerRadius,c),b=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:h,outerRadius:g,maxRadius:b}},EZ=(t,e)=>{var n=jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function xZ(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var SZ=(t,e)=>{if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Zt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=ah(e,uZ);return I.createElement(h0,va({},i,{type:"linear",className:n}))},TZ=(t,e,n)=>{if(I.isValidElement(t))return I.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),I.isValidElement(r)))return r;var i=Zt("recharts-pie-label-text",xZ(t));return I.createElement(Tb,va({},e,{alignmentBaseline:"middle",className:i}),r)};function AZ(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!e)return null;var c=Ts(n),f=Gy(i),d=Gy(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,w)=>{var E=(b.startAngle+b.endAngle)/2,A=Xt(b.cx,b.cy,b.outerRadius+h,E),S=Bt(Bt(Bt(Bt({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:bZ(A.x,b.cx)},A),R=Bt(Bt(Bt(Bt({},c),b),{},{fill:"none",stroke:b.fill},d),{},{index:w,points:[Xt(b.cx,b.cy,b.outerRadius,E),A],key:"line"});return I.createElement(Ou,{zIndex:kr.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},I.createElement(ma,null,o&&SZ(o,R),TZ(i,S,zt(b,l))))});return I.createElement(ma,{className:"recharts-pie-labels"},g)}function CZ(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?I.createElement(fQ,{label:i}):I.createElement(AZ,{sectors:e,props:n,showLabels:r})}function NZ(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o}=t,l=$e(du),{onMouseEnter:c,onClick:f,onMouseLeave:d}=i,h=ah(i,cZ),g=JQ(c,i.dataKey),b=WQ(d),w=XQ(f,i.dataKey);return e==null||e.length===0?null:I.createElement(I.Fragment,null,e.map((E,A)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var S=String(A)===l,R=l?r:null,D=n&&S?n:R,M=Bt(Bt({},E),{},{stroke:E.stroke,tabIndex:-1,[kM]:A,[UM]:i.dataKey});return I.createElement(ma,va({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},GF(h,E,A),{onMouseEnter:g(E,A),onMouseLeave:b(E,A),onClick:w(E,A)}),I.createElement(YQ,va({option:o??D,shapeType:"sector",isActive:S},M)))}))}function RZ(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:h,tooltipType:g}=n,b=Math.abs(n.minAngle),w=EZ(c,f),E=Math.abs(w),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(B=>zt(B,d,0)!==0).length,R=(E>=360?S:S-1)*A,D=E-S*b-R,M=r.reduce((B,F)=>{var ie=zt(F,d,0);return B+(Be(ie)?ie:0)},0),L;if(M>0){var U;L=r.map((B,F)=>{var ie=zt(B,d,0),z=zt(B,h,F),fe=wZ(n,o,B),te=(Be(ie)?ie:0)/M,ne,be=Bt(Bt({},B),i&&i[F]&&i[F].props);F?ne=U.endAngle+jn(w)*A*(ie!==0?1:0):ne=c;var Se=ne+jn(w)*((ie!==0?b:0)+te*D),Ie=(ne+Se)/2,Y=(fe.innerRadius+fe.outerRadius)/2,he=[{name:z,value:ie,payload:be,dataKey:d,type:g}],ve=Xt(fe.cx,fe.cy,Y,Ie);return U=Bt(Bt(Bt(Bt({},n.presentationProps),{},{percent:te,cornerRadius:typeof l=="string"?parseFloat(l):l,name:z,tooltipPayload:he,midAngle:Ie,middleRadius:Y,tooltipPosition:ve},be),fe),{},{value:ie,startAngle:ne,endAngle:Se,payload:be,paddingAngle:jn(w)*A}),U})}return L}function IZ(t){var{showLabels:e,sectors:n,children:r}=t,i=I.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return I.createElement(lQ,{value:e?i:void 0},r)}function MZ(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:d,onAnimationStart:h,onAnimationEnd:g}=e,b=m0(e,"recharts-pie-"),w=n.current,[E,A]=I.useState(!1),S=I.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),R=I.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return I.createElement(IZ,{showLabels:!E,sectors:r},I.createElement(p0,{animationId:b,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:R,onAnimationEnd:S,key:b},D=>{var M=[],L=r&&r[0],U=L==null?void 0:L.startAngle;return r==null||r.forEach((B,F)=>{var ie=w&&w[F],z=F>0?tu(B,"paddingAngle",0):0;if(ie){var fe=Pr(ie.endAngle-ie.startAngle,B.endAngle-B.startAngle,D),te=Bt(Bt({},B),{},{startAngle:U+z,endAngle:U+fe+z});M.push(te),U=te.endAngle}else{var{endAngle:ne,startAngle:be}=B,Se=Pr(0,ne-be,D),Ie=Bt(Bt({},B),{},{startAngle:U+z,endAngle:U+Se+z});M.push(Ie),U=Ie.endAngle}}),n.current=M,I.createElement(ma,null,I.createElement(NZ,{sectors:M,activeShape:f,inactiveShape:d,allOtherPieProps:e,shape:e.shape}))}),I.createElement(CZ,{showLabels:!E,sectors:r,props:e}),e.children)}var PZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Us.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:kr.area};function OZ(t){var{id:e}=t,n=ah(t,fZ),{hide:r,className:i,rootTabIndex:o}=t,l=I.useMemo(()=>dD(t.children,nh),[t.children]),c=$e(h=>AQ(h,e,l)),f=I.useRef(null),d=Zt("recharts-pie",i);return r||c==null?(f.current=null,I.createElement(ma,{tabIndex:o,className:d})):I.createElement(Ou,{zIndex:t.zIndex},I.createElement(vZ,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),I.createElement(ma,{tabIndex:o,className:d},I.createElement(MZ,{props:Bt(Bt({},n),{},{sectors:c}),previousSectorsRef:f})))}function mD(t){var e=Xr(t,PZ),{id:n}=e,r=ah(e,dZ),i=Ts(r);return I.createElement(rZ,{id:n,type:"pie"},o=>I.createElement(I.Fragment,null,I.createElement(lZ,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),I.createElement(yZ,va({},r,{id:o})),I.createElement(OZ,va({},r,{id:o}))))}mD.displayName="Pie";function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LZ={xAxis:{},yAxis:{},zAxis:{}},gD=Fn({name:"cartesianAxis",initialState:LZ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ct()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ct()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ct()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ct()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ct()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ct()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ct()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ct()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ct()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=NN(NN({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Mte,replaceXAxis:Pte,removeXAxis:Ote,addYAxis:Dte,replaceYAxis:kte,removeYAxis:Ute,addZAxis:Lte,replaceZAxis:Bte,removeZAxis:qte,updateYAxisWidth:jte}=gD.actions,BZ=gD.reducer,qZ=ee([mn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),jZ=ee([qZ,Di,ki],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),zZ=()=>$e(jZ),FZ={},yD=Fn({name:"errorBars",initialState:FZ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:zte,replaceErrorBar:Fte,removeErrorBar:Gte}=yD.actions,GZ=yD.reducer,cy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function $Z(){if(RN)return fy;RN=1;var t=Is();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(f,d,h,g,b){var w=i(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function S(U){if(!R){if(R=!0,D=U,U=g(U),b!==void 0&&E.hasValue){var B=E.value;if(b(B,U))return M=B}return M=U}if(B=M,n(D,U))return B;var F=g(U);return b!==void 0&&b(B,F)?(D=U,B):(D=U,M=F)}var R=!1,D,M,L=h===void 0?null:h;return[function(){return S(d())},L===null?void 0:function(){return S(L())}]},[d,h,g,b]);var A=r(f,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),c(A),A},fy}var IN;function HZ(){return IN||(IN=1,cy.exports=$Z()),cy.exports}HZ();function VZ(t){t()}function KZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){VZ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MN={notify(){},get:()=>[]};function YZ(t,e){let n,r=MN,i=0,o=!1;function l(A){h();const S=r.subscribe(A);let R=!1;return()=>{R||(R=!0,S(),g())}}function c(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(f),r=KZ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MN)}function b(){o||(o=!0,h())}function w(){o&&(o=!1,g())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return E}var JZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WZ=JZ(),XZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QZ=XZ(),ZZ=()=>WZ||QZ?I.useLayoutEffect:I.useEffect,eee=ZZ();function PN(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function tee(t,e){if(PN(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!PN(t[n[i]],e[n[i]]))return!1;return!0}var dy=Symbol.for("react-redux-context"),hy=typeof globalThis<"u"?globalThis:{};function nee(){if(!I.createContext)return{};const t=hy[dy]??(hy[dy]=new Map);let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var ree=nee();function iee(t){const{children:e,context:n,serverState:r,store:i}=t,o=I.useMemo(()=>{const f=YZ(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=I.useMemo(()=>i.getState(),[i]);eee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||ree;return I.createElement(c.Provider,{value:o},e)}var aee=iee,oee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function see(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lee(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(oee.has(r)){if(t[r]==null&&e[r]==null)continue;if(!tee(t[r],e[r]))return!1}else if(!see(t[r],e[r]))return!1;return!0}var uee=t=>{var{chartData:e}=t,n=an(),r=Ea();return I.useEffect(()=>r?()=>{}:(n($C(e)),()=>{n($C(void 0))}),[e,n,r]),null},ON={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vD=Fn({name:"brush",initialState:ON,reducers:{setBrushSettings(t,e){return e.payload==null?ON:e.payload}}}),{setBrushSettings:$te}=vD.actions,cee=vD.reducer,fee={dots:[],areas:[],lines:[]},bD=Fn({name:"referenceElements",initialState:fee,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ur(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ur(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ur(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Hte,removeDot:Vte,addArea:Kte,removeArea:Yte,addLine:Jte,removeLine:Wte}=bD.actions,dee=bD.reducer,hee=I.createContext(void 0),pee=t=>{var{children:e}=t,[n]=I.useState("".concat(nu("recharts"),"-clip")),r=zZ();if(r==null)return null;var{x:i,y:o,width:l,height:c}=r;return I.createElement(hee.Provider,{value:n},I.createElement("defs",null,I.createElement("clipPath",{id:n},I.createElement("rect",{x:i,y:o,height:c,width:l}))),e)},mee=(t,e)=>e,Nb=ee([mee,vt,eO,sn,LO,Li,oW,mn],hW),Rb=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},_D=xr("mouseClick"),wD=vu();wD.startListening({actionCreator:_D,effect:(t,e)=>{var n=t.payload,r=Nb(e.getState(),Rb(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(aJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Rv=xr("mouseMove"),ED=vu(),vf=null;ED.startListening({actionCreator:Rv,effect:(t,e)=>{var n=t.payload;vf!==null&&cancelAnimationFrame(vf);var r=Rb(n);vf=requestAnimationFrame(()=>{var i=e.getState(),o=mb(i,i.tooltip.settings.shared);if(o==="axis"){var l=Nb(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(RO({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(NO())}vf=null})}});var DN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xD=Fn({name:"rootProps",initialState:DN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:DN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),gee=xD.reducer,{updateOptions:yee}=xD.actions,SD=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:vee}=SD.actions,bee=SD.reducer,TD=xr("keyDown"),AD=xr("focus"),Ib=vu();Ib.startListening({actionCreator:TD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=gb(i,$s(n),Nu(n),Pu(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=Li(n);if(o==="Enter"){var d=fd(n,"axis","hover",String(i.index));e.dispatch(Sv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=JY(n),g=h==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,w=c+b*g;if(!(f==null||w>=f.length||w<0)){var E=fd(n,"axis","hover",String(w));e.dispatch(Sv({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Ib.startListening({actionCreator:AD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=fd(n,"axis","hover",String(o));e.dispatch(Sv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var vr=xr("externalEvent"),CD=vu(),py=new Map;CD.startListening({actionCreator:vr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=py.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:HJ(c),activeDataKey:GJ(c),activeIndex:du(c),activeLabel:jO(c),activeTooltipIndex:du(c),isTooltipActive:VJ(c)};n(f,r)}finally{py.delete(i)}});py.set(i,l)}}});var _ee=ee([Gs],t=>t.tooltipItemPayloads),wee=ee([_ee,Iu,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),ND=xr("touchMove"),RD=vu();RD.startListening({actionCreator:ND,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=mb(r,r.tooltip.settings.shared);if(i==="axis"){var o=Nb(r,Rb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(RO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(kM),h=(l=f.getAttribute(UM))!==null&&l!==void 0?l:void 0,g=wee(e.getState(),d,h);e.dispatch(CO({activeDataKey:h,activeIndex:d,activeCoordinate:g}))}}}});var Eee=sM({brush:cee,cartesianAxis:BZ,chartData:HW,errorBars:GZ,graphicalItems:sZ,layout:L$,legend:UH,options:jW,polarAxis:bQ,polarOptions:bee,referenceElements:dee,rootProps:gee,tooltip:oJ,zIndex:CW}),xee=function(e){return l$({reducer:Eee,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([wD.middleware,ED.middleware,Ib.middleware,CD.middleware,RD.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(bM({type:"raf"}))},devTools:Us.devToolsEnabled})};function See(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ea(),o=I.useRef(null);if(i)return n;o.current==null&&(o.current=xee(e));var l=a0;return I.createElement(aee,{context:l,store:o.current},n)}function Tee(t){var{layout:e,margin:n}=t,r=an(),i=Ea();return I.useEffect(()=>{i||(r(D$(e)),r(O$(n)))},[r,i,e,n]),null}var Aee=I.memo(Tee,lee);function Cee(t){var e=an();return I.useEffect(()=>{e(yee(t))},[e,t]),null}function kN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=hD("".concat(r).concat(e)),o=an();return I.useLayoutEffect(()=>(o(TW({zIndex:e,elementId:i,isPanorama:n})),()=>{o(AW({zIndex:e,isPanorama:n}))}),[o,e,i,n]),I.createElement("g",{id:i})}function UN(t){var{children:e,isPanorama:n}=t,r=$e(mW);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return I.createElement(I.Fragment,null,i.map(l=>I.createElement(kN,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>I.createElement(kN,{key:l,zIndex:l,isPanorama:n})))}var Nee=["children"];function Ree(t,e){if(t==null)return{};var n,r,i=Iee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(null,arguments)}var Mee={width:"100%",height:"100%",display:"block"},Pee=I.forwardRef((t,e)=>{var n=RH(),r=IH(),i=FM();if(!ga(n)||!ga(r))return null;var{children:o,otherAttributes:l,title:c,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),I.createElement(SI,gd({},l,{title:c,desc:f,role:h,tabIndex:d,width:n,height:r,style:Mee,ref:e}),o)}),Oee=t=>{var{children:e}=t,n=$e(Ld);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return I.createElement(SI,{width:r,height:i,x:l,y:o},e)},LN=I.forwardRef((t,e)=>{var{children:n}=t,r=Ree(t,Nee),i=Ea();return i?I.createElement(Oee,null,I.createElement(UN,{isPanorama:!0},n)):I.createElement(Pee,gd({ref:e},r),I.createElement(UN,{isPanorama:!1},n))});function Dee(){var t=an(),[e,n]=I.useState(null),r=$e(Q$);return I.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;pn(o)&&o!==r&&t(U$(o))}},[e,t,r]),n}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){Uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Bee(t,"string");return typeof e=="symbol"?e:e+""}function Bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ho.apply(null,arguments)}var qee=()=>(eX(),null);function yd(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var jee=I.forwardRef((t,e)=>{var n,r,i=I.useRef(null),[o,l]=I.useState({containerWidth:yd((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:yd((r=t.style)===null||r===void 0?void 0:r.height)}),c=I.useCallback((d,h)=>{l(g=>{var b=Math.round(d),w=Math.round(h);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),f=I.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=d.getBoundingClientRect();c(h,g);var b=E=>{var{width:A,height:S}=E[0].contentRect;c(A,S)},w=new ResizeObserver(b);w.observe(d),i.current=w}},[e,c]);return I.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[c]),I.createElement(I.Fragment,null,I.createElement(qd,{width:o.containerWidth,height:o.containerHeight}),I.createElement("div",ho({ref:f},t)))}),zee=I.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=I.useState({containerWidth:yd(n),containerHeight:yd(r)}),l=I.useCallback((f,d)=>{o(h=>{var g=Math.round(f),b=Math.round(d);return h.containerWidth===g&&h.containerHeight===b?h:{containerWidth:g,containerHeight:b}})},[]),c=I.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return I.createElement(I.Fragment,null,I.createElement(qd,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",ho({ref:c},t)))}),Fee=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return I.createElement(I.Fragment,null,I.createElement(qd,{width:n,height:r}),I.createElement("div",ho({ref:e},t)))}),Gee=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return Si(n)||Si(r)?I.createElement(zee,ho({},t,{ref:e})):I.createElement(Fee,ho({},t,{ref:e}))});function $ee(t){return t===!0?jee:Gee}var Hee=I.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:E,onTouchStart:A,style:S,width:R,responsive:D,dispatchTouchEvents:M=!0}=t,L=I.useRef(null),U=an(),[B,F]=I.useState(null),[ie,z]=I.useState(null),fe=Dee(),te=f0(),ne=(te==null?void 0:te.width)>0?te.width:R,be=(te==null?void 0:te.height)>0?te.height:i,Se=I.useCallback(ae=>{fe(ae),typeof e=="function"&&e(ae),F(ae),z(ae),ae!=null&&(L.current=ae)},[fe,e,F,z]),Ie=I.useCallback(ae=>{U(_D(ae)),U(vr({handler:o,reactEvent:ae}))},[U,o]),Y=I.useCallback(ae=>{U(Rv(ae)),U(vr({handler:d,reactEvent:ae}))},[U,d]),he=I.useCallback(ae=>{U(NO()),U(vr({handler:h,reactEvent:ae}))},[U,h]),ve=I.useCallback(ae=>{U(Rv(ae)),U(vr({handler:g,reactEvent:ae}))},[U,g]),Te=I.useCallback(()=>{U(AD())},[U]),ke=I.useCallback(ae=>{U(TD(ae.key))},[U]),G=I.useCallback(ae=>{U(vr({handler:l,reactEvent:ae}))},[U,l]),j=I.useCallback(ae=>{U(vr({handler:c,reactEvent:ae}))},[U,c]),X=I.useCallback(ae=>{U(vr({handler:f,reactEvent:ae}))},[U,f]),V=I.useCallback(ae=>{U(vr({handler:b,reactEvent:ae}))},[U,b]),ce=I.useCallback(ae=>{U(vr({handler:A,reactEvent:ae}))},[U,A]),me=I.useCallback(ae=>{M&&U(ND(ae)),U(vr({handler:E,reactEvent:ae}))},[U,M,E]),ge=I.useCallback(ae=>{U(vr({handler:w,reactEvent:ae}))},[U,w]),we=$ee(D);return I.createElement(KO.Provider,{value:B},I.createElement($5.Provider,{value:ie},I.createElement(we,{width:ne??(S==null?void 0:S.width),height:be??(S==null?void 0:S.height),className:Zt("recharts-wrapper",r),style:kee({position:"relative",cursor:"default",width:ne,height:be},S),onClick:Ie,onContextMenu:G,onDoubleClick:j,onFocus:Te,onKeyDown:ke,onMouseDown:X,onMouseEnter:Y,onMouseLeave:he,onMouseMove:ve,onMouseUp:V,onTouchEnd:ge,onTouchMove:me,onTouchStart:ce,ref:Se},I.createElement(qee,null),n)))}),Vee=["width","height","responsive","children","className","style","compact","title","desc"];function Kee(t,e){if(t==null)return{};var n,r,i=Yee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jee=I.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:c,compact:f,title:d,desc:h}=t,g=Kee(t,Vee),b=Ts(g);return f?I.createElement(I.Fragment,null,I.createElement(qd,{width:n,height:r}),I.createElement(LN,{otherAttributes:b,title:d,desc:h},o)):I.createElement(Hee,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},I.createElement(LN,{otherAttributes:b,title:d,desc:h,ref:e},I.createElement(pee,null,o)))});function Wee(t){var e=an();return I.useEffect(()=>{e(vee(t))},[e,t]),null}var Xee=["layout"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}function Qee(t,e){if(t==null)return{};var n,r,i=Zee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ete={top:5,right:5,bottom:5,left:5},tte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ete,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},nte=I.forwardRef(function(e,n){var r,i=Xr(e.categoricalChartProps,tte),{layout:o}=i,l=Qee(i,Xee),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,g={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return I.createElement(See,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},I.createElement(uee,{chartData:i.data}),I.createElement(Aee,{layout:o,margin:i.margin}),I.createElement(Cee,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),I.createElement(Wee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),I.createElement(Jee,Iv({},l,{ref:n})))}),rte=["item"],ite={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ate=I.forwardRef((t,e)=>{var n=Xr(t,ite);return I.createElement(nte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rte,tooltipPayloadSearcher:BW,categoricalChartProps:n,ref:e})});const qN=()=>{const{transactions:t,t:e}=wa(),[n,r]=I.useState({start:"",end:""});I.useEffect(()=>{const d=new Date,h=new Date(d.getFullYear(),d.getMonth(),1).toISOString().split("T")[0],g=new Date(d.getFullYear(),d.getMonth()+1,0).toISOString().split("T")[0];r({start:h,end:g})},[]);const i=()=>{r({start:"",end:""})},o=I.useMemo(()=>{if(!n.start||!n.end)return t;const d=new Date(n.start),h=new Date(n.end);return h.setHours(23,59,59,999),t.filter(g=>{const b=new Date(g.date);return b>=d&&b<=h})},[t,n]),l=I.useMemo(()=>{const d=o.filter(w=>w.type===Mt.INCOME).reduce((w,E)=>w+E.amount,0),h=o.filter(w=>w.type===Mt.EXPENSE).reduce((w,E)=>w+E.amount,0),g=o.filter(w=>w.accountType===Et.RECEIVABLE).reduce((w,E)=>w+E.amount,0),b=o.filter(w=>w.accountType===Et.PAYABLE).reduce((w,E)=>w+E.amount,0);return{income:d,expense:h,receivables:g,payables:b,balance:d-h}},[o]),c=I.useMemo(()=>{const d={};return o.forEach(h=>{d[h.group]||(d[h.group]=0),d[h.group]+=h.amount}),Object.keys(d).map(h=>({name:h,value:d[h]}))},[o]),f=["#0088FE","#00C49F","#FFBB28","#FF8042"];return x.jsxs("div",{className:"p-8 space-y-8",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e("financialOverview")}),x.jsx("p",{className:"text-gray-500",children:e("realTimeStatus")})]}),x.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[x.jsx(Jv,{size:16,className:"text-gray-500"}),x.jsx("input",{type:"date",value:n.start,onChange:d=>r(h=>({...h,start:d.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),x.jsx("span",{className:"text-gray-400",children:"-"}),x.jsx("input",{type:"date",value:n.end,onChange:d=>r(h=>({...h,end:d.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),(n.start||n.end)&&x.jsx("button",{onClick:i,title:"Show All Time",className:"ml-2 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(vI,{size:16})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(bf,{title:e("netCashBalance"),value:`$${l.balance.toLocaleString()}`,icon:O5,color:"bg-blue-500"}),x.jsx(bf,{title:e("totalIncome"),value:`$${l.income.toLocaleString()}`,icon:A5,color:"bg-green-500"}),x.jsx(bf,{title:e("totalExpenses"),value:`$${l.expense.toLocaleString()}`,icon:S5,color:"bg-red-500"}),x.jsx(bf,{title:e("pendingReceivables"),value:`$${l.receivables.toLocaleString()}`,icon:Wv,color:"bg-orange-500"})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:x.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("activityDistribution")}),c.length>0?x.jsx("div",{className:"h-64",children:x.jsx(AH,{width:"100%",height:"100%",children:x.jsxs(ate,{children:[x.jsx(mD,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:c.map((d,h)=>x.jsx(nh,{fill:f[h%f.length]},`cell-${h}`))}),x.jsx(lX,{})]})})}):x.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"No data for selected period."})]})}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("recentTransactions")}),x.jsx("div",{className:"overflow-y-auto h-64",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 sticky top-0",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-2",children:e("date")}),x.jsx("th",{className:"px-4 py-2",children:e("desc")}),x.jsx("th",{className:"px-4 py-2 text-right",children:e("amount")})]})}),x.jsxs("tbody",{children:[o.slice(0,10).map(d=>x.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[x.jsx("td",{className:"px-4 py-3 text-gray-700",children:d.date}),x.jsx("td",{className:"px-4 py-3 text-gray-900 truncate max-w-[150px]",children:d.description}),x.jsxs("td",{className:`px-4 py-3 text-right font-medium ${d.type===Mt.INCOME?"text-green-600":"text-red-600"}`,children:[d.type===Mt.INCOME?"+":"-","$",d.amount]})]},d.id)),o.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400",children:"No recent transactions in this period."})})]})]})})]})]})},bf=({title:t,value:e,icon:n,color:r})=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[x.jsx("div",{className:`p-3 rounded-lg ${r} bg-opacity-10`,children:x.jsx(n,{className:`w-6 h-6 ${r.replace("bg-","text-")}`})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e})]})]}),ote=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransactionStatus:r,currentUser:i,companySettings:o,t:l}=wa(),[c,f]=I.useState(!1),d=I.useRef(null),[h,g]=I.useState("ALL"),[b,w]=I.useState(!1),[E,A]=I.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[S,R]=I.useState({date:new Date().toISOString().split("T")[0],type:Mt.EXPENSE,group:In.OPERATING,accountType:Et.CASH,amount:0,description:"",status:hn.PAID}),D=(i==null?void 0:i.role)!==Sn.VIEWER,M=async z=>{var te;const fe=(te=z.target.files)==null?void 0:te[0];if(fe){f(!0);try{const ne=new FileReader;ne.onloadend=async()=>{const be=ne.result,Se=be.split(",")[1];try{const Ie=await Uj(Se);R(Y=>({...Y,...Ie,receiptImage:be}))}catch{alert("Could not analyze image. Please fill manually.")}finally{f(!1)}},ne.readAsDataURL(fe)}catch{f(!1)}}},L=z=>{if(z.preventDefault(),!S.amount||!S.description)return;let fe=Number(S.amount);b&&(fe=fe*(1+o.taxRate/100));const te={id:crypto.randomUUID(),date:S.date||new Date().toISOString().split("T")[0],dueDate:S.dueDate,description:S.description,amount:fe,group:S.group,type:S.type,accountType:S.accountType,status:S.status,receiptImage:S.receiptImage};e(te),R({date:new Date().toISOString().split("T")[0],type:Mt.EXPENSE,group:In.OPERATING,accountType:Et.CASH,amount:0,description:"",receiptImage:void 0,status:hn.PAID,dueDate:void 0}),w(!1)},U=()=>{A({start:"",end:""})},B=t.filter(z=>{if(h!=="ALL"&&z.accountType!==h)return!1;if(E.start&&E.end){const fe=new Date(z.date),te=new Date(E.start),ne=new Date(E.end);if(ne.setHours(23,59,59,999),fe<te||fe>ne)return!1}return!0}),F=z=>{let fe=hn.PAID;(z===Et.PAYABLE||z===Et.RECEIVABLE)&&(fe=hn.PENDING),R({...S,accountType:z,status:fe})},ie=b?Number(S.amount||0)*(1+o.taxRate/100):Number(S.amount||0);return x.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col justify-between items-start mb-8 gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l("financialMovements")}),x.jsx("p",{className:"text-gray-500",children:l("manageMovements")})]}),x.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm w-full md:w-auto",children:[x.jsx(Jv,{size:16,className:"text-gray-500"}),x.jsx("input",{type:"date",value:E.start,onChange:z=>A(fe=>({...fe,start:z.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),x.jsx("span",{className:"text-gray-400",children:"-"}),x.jsx("input",{type:"date",value:E.end,onChange:z=>A(fe=>({...fe,end:z.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),(E.start||E.end)&&x.jsx("button",{onClick:U,title:"Clear Filter",className:"ml-2 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(vI,{size:16})})]}),x.jsx("div",{className:"flex bg-gray-200 p-1 rounded-lg w-full md:w-auto overflow-x-auto",children:["ALL","RECEIVABLE","PAYABLE"].map(z=>x.jsx("button",{onClick:()=>g(z),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap flex-1 ${h===z?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:l(z==="ALL"?"allMovements":z==="RECEIVABLE"?"accountsReceivable":"accountsPayable")},z))})]})]}),x.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[x.jsx("div",{className:"xl:col-span-1",children:x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-4",children:[x.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[x.jsx(o5,{size:20,className:"text-blue-500"})," ",l("recordMovement")]}),x.jsxs("div",{className:"mb-6 p-4 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50 text-center",children:[x.jsx("input",{type:"file",ref:d,accept:"image/*",className:"hidden",onChange:M}),c?x.jsxs("div",{className:"flex flex-col items-center text-blue-600",children:[x.jsx(ws,{className:"animate-spin mb-2"}),x.jsx("span",{className:"text-sm font-medium",children:l("analyzing")})]}):x.jsxs("button",{type:"button",disabled:!D,onClick:()=>{var z;return(z=d.current)==null?void 0:z.click()},className:"flex flex-col items-center w-full text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",children:[x.jsx(Nz,{className:"w-8 h-8 mb-2"}),x.jsx("span",{className:"text-sm font-semibold",children:l("scanReceipt")}),x.jsx("span",{className:"text-xs text-blue-400 mt-1",children:l("autoDetect")})]})]}),x.jsxs("form",{onSubmit:L,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("description")}),x.jsx("input",{type:"text",disabled:!D,value:S.description,onChange:z=>R({...S,description:z.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",placeholder:l("invoicePlaceholder"),required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("amount")}),x.jsx("input",{type:"number",disabled:!D,value:S.amount,onChange:z=>R({...S,amount:parseFloat(z.target.value)}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("movementDate")}),x.jsx("input",{type:"date",disabled:!D,value:S.date,onChange:z=>R({...S,date:z.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]})]}),x.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[x.jsx("input",{type:"checkbox",checked:b,onChange:z=>w(z.target.checked),disabled:!D,className:"rounded text-blue-600 focus:ring-blue-500 bg-white"}),x.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:[l("addTax")," (",o.taxRate,"%)"]})]}),x.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 pt-2 border-t border-gray-200",children:[x.jsxs("span",{children:[l("finalAmount"),":"]}),x.jsxs("span",{className:"font-bold text-gray-900 text-sm",children:["$",ie.toFixed(2)]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("accountType")}),x.jsx("select",{disabled:!D,value:S.accountType,onChange:z=>F(z.target.value),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(Et).map(z=>x.jsx("option",{value:z,children:z},z))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("flowType")}),x.jsx("select",{disabled:!D,value:S.type,onChange:z=>R({...S,type:z.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(Mt).map(z=>x.jsx("option",{value:z,children:z},z))})]})]}),(S.accountType===Et.PAYABLE||S.accountType===Et.RECEIVABLE)&&x.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[x.jsx("h4",{className:"text-xs font-bold text-yellow-800 mb-2 uppercase tracking-wide",children:l("paymentDetails")}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("dueDate")}),x.jsx("input",{type:"date",disabled:!D,value:S.dueDate||"",onChange:z=>R({...S,dueDate:z.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("status")}),x.jsx("select",{disabled:!D,value:S.status,onChange:z=>R({...S,status:z.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(hn).map(z=>x.jsx("option",{value:z,children:z},z))})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("activityGroup")}),x.jsx("select",{disabled:!D,value:S.group,onChange:z=>R({...S,group:z.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(In).map(z=>x.jsx("option",{value:z,children:z},z))})]}),x.jsx("button",{type:"submit",disabled:!D,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:l("saveMovement")})]})]})}),x.jsx("div",{className:"xl:col-span-2",children:x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left",children:l("description")}),x.jsx("th",{className:"px-6 py-3 text-left",children:l("details")}),x.jsx("th",{className:"px-6 py-3 text-left",children:l("status")}),x.jsx("th",{className:"px-6 py-3 text-right",children:l("amount")}),x.jsx("th",{className:"px-6 py-3 text-center",children:l("action")})]})}),x.jsxs("tbody",{className:"divide-y divide-gray-100",children:[B.map(z=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[x.jsxs("td",{className:"px-6 py-4",children:[x.jsx("div",{className:"font-medium text-gray-900",children:z.description}),x.jsx("div",{className:"text-xs text-gray-500",children:z.date})]}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"inline-flex w-fit px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:z.accountType}),x.jsx("span",{className:"inline-flex w-fit px-2 py-0.5 rounded text-xs bg-blue-50 text-blue-700",children:z.group})]})}),x.jsx("td",{className:"px-6 py-4",children:z.status===hn.PAID?x.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[x.jsx(qT,{size:12})," ",l("paid")]}):x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[x.jsx(Lz,{size:12})," ",l("pending")]}),z.dueDate&&x.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[x.jsx(N5,{size:10})," ",l("due"),": ",z.dueDate]})]})}),x.jsxs("td",{className:`px-6 py-4 text-right font-bold ${z.type===Mt.INCOME?"text-green-600":"text-gray-900"}`,children:[z.type===Mt.INCOME?"+":"-","$",z.amount.toFixed(2)]}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[D&&z.status===hn.PENDING&&x.jsx("button",{onClick:()=>r(z.id,hn.PAID),title:"Mark as Paid",className:"p-1 text-green-500 hover:bg-green-50 rounded",children:x.jsx(qT,{size:18})}),D&&x.jsx("button",{onClick:()=>n(z.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(E5,{size:18})})]})})]},z.id)),B.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:l("noTransactions")})})]})]})})})})]})]})},ste=()=>{const{reports:t,generateReport:e,analyzeReport:n,isLoading:r,t:i}=wa(),[o,l]=I.useState(null),[c,f]=I.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[d,h]=I.useState({isOpen:!1}),g=S=>{h({isOpen:!0,type:S})},b=()=>{d.type&&e(d.type,c.start,c.end),h({isOpen:!1,type:void 0})},w=()=>{if(!o)return;const S=document.getElementById("report-content");if(!S)return;const R={margin:10,filename:`${o.folio}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf?window.html2pdf().set(R).from(S).save():window.print()},E=(S,R,D=!1)=>x.jsxs("div",{className:"mt-6 mb-4 break-inside-avoid",children:[x.jsx("h5",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider mb-2 border-b border-gray-300 pb-1",children:S}),x.jsxs("table",{className:"w-full text-xs font-mono",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"text-gray-600 text-left",children:[x.jsx("th",{className:"pb-1",children:i("date")}),x.jsx("th",{className:"pb-1",children:i("description")}),D&&x.jsx("th",{className:"pb-1",children:i("dueDate")}),x.jsx("th",{className:"pb-1 text-right",children:i("amount")})]})}),x.jsxs("tbody",{children:[R.map((M,L)=>x.jsxs("tr",{className:"border-b border-gray-100",children:[x.jsx("td",{className:"py-1 text-gray-700",children:M.date}),x.jsx("td",{className:"py-1 text-black",children:M.description||M.desc}),D&&x.jsx("td",{className:"py-1 text-red-600",children:M.dueDate}),x.jsxs("td",{className:"py-1 text-right text-black",children:[M.type===Mt.EXPENSE?"-":"","$",M.amount.toFixed(2)]})]},L)),R.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"py-2 text-gray-400 italic",children:"No transactions."})})]})]})]}),A=S=>{if(S.type===ha.INCOME_STATEMENT){const{revenues:R,expenses:D,totalRevenue:M,totalExpenses:L,netIncome:U,incomeBeforeTax:B,taxAmount:F,taxRate:ie}=S.data;return x.jsxs("div",{className:"space-y-4 font-mono text-sm text-black",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_revenues")}),x.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_total_revenue")}),x.jsxs("span",{children:["$",M.toFixed(2)]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2 mt-6",children:i("r_expenses")}),x.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_total_expenses")}),x.jsxs("span",{children:["$",L.toFixed(2)]})]})]}),x.jsxs("div",{className:"mt-6 border-t-2 border-gray-900 pt-4",children:[x.jsxs("div",{className:"flex justify-between font-bold",children:[x.jsx("span",{children:i("r_income_before_tax")}),x.jsxs("span",{children:["$",B.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-1 text-gray-700",children:[x.jsxs("span",{children:[i("r_tax_provision")," (",ie,"%)"]}),x.jsxs("span",{children:["($",F.toFixed(2),")"]})]}),x.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-gray-300 mt-2",children:[x.jsx("span",{children:i("r_net_income")}),x.jsxs("span",{className:U>=0?"text-green-700":"text-red-700",children:["$",U.toFixed(2)]})]})]}),x.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[x.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),E(i("r_revenues"),R),E(i("r_expenses"),D)]})]})}else if(S.type===ha.BALANCE_SHEET){const{assets:R,liabilities:D,equity:M,details:L}=S.data;return x.jsxs("div",{className:"space-y-6 font-mono text-sm text-black",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_assets")}),x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{children:i("r_cash_equivalents")}),x.jsxs("span",{children:["$",R.cashAndEquivalents.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{children:i("r_accounts_receivable")}),x.jsxs("span",{children:["$",R.accountsReceivable.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{children:i("r_fixed_assets")}),x.jsxs("span",{children:["$",R.fixedAssets.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_total_assets")}),x.jsxs("span",{children:["$",R.totalAssets.toFixed(2)]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_liabilities")}),x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{children:i("r_accounts_payable")}),x.jsxs("span",{children:["$",D.accountsPayable.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{children:i("r_long_term_debt")}),x.jsxs("span",{children:["$",D.longTermDebt.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_total_liabilities")}),x.jsxs("span",{children:["$",D.totalLiabilities.toFixed(2)]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_equity")}),x.jsxs("div",{className:"flex justify-between font-bold pt-2 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_total_equity")}),x.jsxs("span",{children:["$",M.toFixed(2)]})]})]}),x.jsxs("div",{className:"flex justify-between font-bold text-base pt-4 border-t-2 border-black mt-2",children:[x.jsx("span",{children:i("r_total_liab_equity")}),x.jsxs("span",{children:["$",(D.totalLiabilities+M).toFixed(2)]})]}),x.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[x.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),E(i("r_accounts_receivable"),(L==null?void 0:L.pendingReceivables)||[],!0),E(i("r_accounts_payable"),(L==null?void 0:L.pendingPayables)||[],!0)]})]})}else if(S.type===ha.CASH_FLOW){const{operatingActivities:R,investingActivities:D,financingActivities:M,netCashFlow:L,details:U}=S.data;return x.jsxs("div",{className:"space-y-4 font-mono text-sm text-black",children:[x.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[x.jsx("span",{children:i("r_op_activities")}),x.jsxs("span",{className:R>=0?"text-green-700":"text-red-700",children:["$",R.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[x.jsx("span",{children:i("r_inv_activities")}),x.jsxs("span",{className:D>=0?"text-green-700":"text-red-700",children:["$",D.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[x.jsx("span",{children:i("r_fin_activities")}),x.jsxs("span",{className:M>=0?"text-green-700":"text-red-700",children:["$",M.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between font-bold text-lg pt-4 mt-4 bg-gray-50 p-2",children:[x.jsx("span",{children:i("r_net_cash_flow")}),x.jsxs("span",{className:L>=0?"text-green-700":"text-red-700",children:["$",L.toFixed(2)]})]}),x.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[x.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),E(i("r_op_activities"),(U==null?void 0:U.operatingTransactions)||[]),E(i("r_inv_activities"),(U==null?void 0:U.investingTransactions)||[]),E(i("r_fin_activities"),(U==null?void 0:U.financingTransactions)||[])]})]})}return null};return x.jsxs("div",{className:"p-4 md:p-8 h-full",children:[d.isOpen&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 no-print",children:x.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-4",children:x.jsx(Wv,{className:"w-8 h-8 text-blue-600"})}),x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:i("confirmGenerateTitle")}),x.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:i("confirmGenerateMsg")}),x.jsxs("div",{className:"flex w-full gap-3",children:[x.jsx("button",{onClick:()=>h({isOpen:!1}),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:i("cancel")}),x.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:i("confirm")})]})]})})}),x.jsx("div",{className:"flex justify-between items-center mb-6 no-print",children:x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i("financialStatements")}),x.jsx("p",{className:"text-gray-500",children:i("generateReportsDesc")})]})}),x.jsxs("div",{className:"flex flex-col gap-8",children:[x.jsx("div",{className:"no-print bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"font-semibold mb-3 text-sm text-gray-700 flex items-center gap-2",children:[x.jsx(Jv,{size:16})," ",i("periodSelection")]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:i("startDate")}),x.jsx("input",{type:"date",value:c.start,onChange:S=>f(R=>({...R,start:S.target.value})),className:"w-full text-sm p-2 border rounded-lg outline-none bg-white text-black focus:ring-2 focus:ring-blue-100"})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:i("endDate")}),x.jsx("input",{type:"date",value:c.end,onChange:S=>f(R=>({...R,end:S.target.value})),className:"w-full text-sm p-2 border rounded-lg outline-none bg-white text-black focus:ring-2 focus:ring-blue-100"})]})]})]}),x.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[x.jsx("h3",{className:"font-semibold mb-3 text-sm text-gray-700",children:i("generate")}),x.jsx("div",{className:"flex flex-col gap-3",children:Object.values(ha).map(S=>x.jsxs("button",{onClick:()=>g(S),className:"flex items-center justify-center gap-3 px-4 py-3 text-sm border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700 transition-all font-medium bg-white shadow-sm",children:[x.jsx(zy,{size:18}),x.jsx("span",{className:"truncate font-semibold",children:S})]},S))})]})]})}),x.jsxs("div",{className:"no-print bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[x.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:x.jsx("h3",{className:"font-semibold text-sm text-gray-700",children:i("reportHistory")})}),x.jsx("div",{className:"max-h-64 overflow-y-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-white text-gray-500 uppercase text-xs sticky top-0 z-10",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("folio")}),x.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("type")}),x.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("period")}),x.jsx("th",{className:"px-6 py-3 text-right bg-gray-50",children:i("generationDate")}),x.jsx("th",{className:"px-6 py-3 text-center bg-gray-50",children:i("action")})]})}),x.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:i("noReports")})}),t.map(S=>x.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${(o==null?void 0:o.folio)===S.folio?"bg-blue-50":""}`,children:[x.jsx("td",{className:"px-6 py-3 font-mono text-gray-600",children:S.folio}),x.jsx("td",{className:"px-6 py-3 font-medium text-gray-800",children:S.type}),x.jsxs("td",{className:"px-6 py-3 text-gray-500",children:[S.periodStart," to ",S.periodEnd]}),x.jsx("td",{className:"px-6 py-3 text-right text-gray-500",children:new Date(S.dateGenerated).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-3 text-center",children:x.jsxs("button",{onClick:()=>l(S),className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-gray-200 rounded hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all text-xs font-medium",children:[x.jsx(bI,{size:14})," ",i("view")]})})]},S.folio))]})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 relative min-h-[500px]",children:[!o&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400",children:[x.jsx(zy,{className:"w-16 h-16 mb-4 text-gray-200"}),x.jsx("p",{children:i("selectRangePrompt")})]}),o&&x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex justify-end gap-2 no-print mb-6 sticky top-0 bg-white z-20 py-2 border-b",children:[!o.aiAnalysis&&x.jsxs("button",{onClick:()=>n(o.folio),disabled:r,className:"flex items-center gap-2 px-4 py-2 text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors disabled:opacity-50 shadow-sm",children:[r?x.jsx(FT,{className:"animate-spin",size:16}):x.jsx(Sz,{size:16}),"Analyze with Gemini AI"]}),x.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-sm",children:[x.jsx(zz,{size:16})," Download PDF"]})]}),x.jsxs("div",{id:"report-content",className:"bg-white p-8 text-black",children:[x.jsxs("div",{className:"flex items-start justify-between mb-8 border-b-2 border-black pb-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[o.companySnapshot.logoUrl&&x.jsx("img",{src:o.companySnapshot.logoUrl,alt:"Logo",className:"h-20 w-auto object-contain"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold uppercase tracking-wider text-black",children:o.companySnapshot.name}),x.jsx("p",{className:"text-xs text-gray-600",children:o.companySnapshot.address}),x.jsxs("p",{className:"text-xs text-gray-600",children:["Tax ID: ",o.companySnapshot.taxId]})]})]}),x.jsxs("div",{className:"text-right text-black",children:[x.jsx("h2",{className:"text-2xl font-bold mb-1",children:o.type}),x.jsxs("p",{className:"text-sm",children:[i("period"),": ",o.periodStart," - ",o.periodEnd]}),x.jsxs("p",{className:"text-sm",children:[i("folio"),": ",x.jsx("span",{className:"font-mono font-bold",children:o.folio})]})]})]}),x.jsxs("div",{className:"mb-10",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 uppercase tracking-wide border-b border-gray-400 pb-1",children:i("statementDetails")}),A(o)]}),x.jsxs("div",{className:"mb-8 break-inside-avoid",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 uppercase tracking-wide border-b border-gray-400 pb-1",children:i("keyRatios")}),x.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.ratios.map((S,R)=>x.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 break-inside-avoid",children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("span",{className:"font-bold text-gray-800",children:S.name}),x.jsx("span",{className:"font-bold text-blue-800 bg-blue-50 px-2 py-0.5 rounded",children:S.value})]}),S.analysis&&x.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',S.analysis,'"']})]},R))})]}),o.aiAnalysis?x.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl mb-8 border border-purple-100 break-inside-avoid",children:[x.jsxs("h3",{className:"flex items-center gap-2 text-purple-900 font-bold mb-3 uppercase tracking-wide text-sm",children:[x.jsx(FT,{size:16}),i("cfoSummary")]}),x.jsx("p",{className:"text-purple-900 leading-relaxed text-sm text-justify",children:o.aiAnalysis})]}):x.jsx("div",{className:"p-4 text-center text-gray-400 border border-dashed border-gray-300 rounded-lg mb-8 text-sm no-print",children:'AI Analysis not generated yet. Click "Analyze with Gemini AI" to generate insights.'}),x.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 flex justify-between items-end text-xs text-gray-600",children:[x.jsxs("div",{children:[x.jsxs("p",{children:[i("generatedBy"),": ",o.generatedBy]}),x.jsxs("p",{children:[i("generationDate"),": ",new Date(o.dateGenerated).toLocaleString()]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"mb-8 border-b border-black w-48"}),x.jsx("p",{children:i("authorizedSignature")})]})]})]})]})]})]})]})},lte=()=>{const{companySettings:t,updateCompanySettings:e,currentUser:n,updateUserProfile:r,requestPasswordReset:i,confirmPasswordChange:o,t:l,allUsers:c,addNewUser:f,toggleUserStatus:d}=wa(),[h,g]=I.useState("PROFILE"),[b,w]=I.useState(t),[E,A]=I.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",bio:(n==null?void 0:n.bio)||"",avatar:(n==null?void 0:n.avatar)||""}),[S,R]=I.useState(!1),[D,M]=I.useState(""),[L,U]=I.useState(""),[B,F]=I.useState(1),[ie,z]=I.useState(!1),[fe,te]=I.useState(!1),[ne,be]=I.useState({name:"",email:"",role:Sn.VIEWER}),[Se,Ie]=I.useState(null),[Y,he]=I.useState(!1),ve=I.useRef(null),Te=I.useRef(null);I.useEffect(()=>{n&&A({name:n.name||"",email:n.email||"",phone:n.phone||"",bio:n.bio||"",avatar:n.avatar||""})},[n]);const ke=oe=>{oe.preventDefault(),e(b),alert(l("settingsSaved"))},G=oe=>{oe.preventDefault(),r(E),alert(l("settingsSaved"))},j=oe=>{var pe;const ye=(pe=oe.target.files)==null?void 0:pe[0];if(ye){const Ue=new FileReader;Ue.onloadend=()=>{w({...b,logoUrl:Ue.result})},Ue.readAsDataURL(ye)}},X=oe=>{var pe;const ye=(pe=oe.target.files)==null?void 0:pe[0];if(ye){const Ue=new FileReader;Ue.onloadend=()=>{A({...E,avatar:Ue.result})},Ue.readAsDataURL(ye)}},V=oe=>{r({language:oe})},ce=async()=>{z(!0);const oe=await i();z(!1),F(2),alert(`${l("codeSent")} ${l("verificationCode")}: ${oe}`)},me=async()=>{z(!0);const oe=await o(D,L);z(!1),oe?(alert(l("passwordChanged")),R(!1),M(""),U(""),F(1)):alert(l("invalidCode"))},ge=async oe=>{oe.preventDefault(),z(!0);const{success:ye,code:pe}=await f(ne);z(!1),ye&&pe?(Ie(pe),te(!1),be({name:"",email:"",role:Sn.VIEWER})):alert(l("userCreateError"))},we=()=>{Se&&(navigator.clipboard.writeText(Se),he(!0),setTimeout(()=>he(!1),2e3))},ae=(n==null?void 0:n.role)===Sn.ADMIN;return x.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l("appSettings")}),x.jsx("p",{className:"text-gray-500",children:l("managePreferences")})]}),x.jsxs("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto",children:[x.jsxs("button",{onClick:()=>g("PROFILE"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${h==="PROFILE"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[x.jsx(jT,{size:18}),l("myProfile")]}),ae&&x.jsxs("button",{onClick:()=>g("COMPANY"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${h==="COMPANY"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[x.jsx(BT,{size:18}),l("companyInfo")]}),ae&&x.jsxs("button",{onClick:()=>g("USERS"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${h==="USERS"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[x.jsx(GT,{size:18}),l("users")]}),x.jsxs("button",{onClick:()=>g("CONFIG"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${h==="CONFIG"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[x.jsx(h5,{size:18}),l("configuration")]})]}),x.jsxs("div",{className:"space-y-8",children:[h==="PROFILE"&&x.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-8",children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[x.jsx(jT,{className:"text-purple-500",size:20})," ",l("myProfile")]}),x.jsxs("form",{onSubmit:G,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("img",{src:E.avatar||"https://via.placeholder.com/150",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-100 shadow-sm"}),x.jsx("input",{type:"file",ref:Te,onChange:X,className:"hidden",accept:"image/*"}),x.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=Te.current)==null?void 0:oe.click()},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:l("uploadLogo")})]}),x.jsxs("div",{className:"md:col-span-2 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("fullName")}),x.jsx("input",{type:"text",value:E.name,onChange:oe=>A({...E,name:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("email")}),x.jsx("input",{type:"email",value:E.email,onChange:oe=>A({...E,email:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("phone")}),x.jsx("input",{type:"tel",value:E.phone,onChange:oe=>A({...E,phone:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("bio")}),x.jsx("input",{type:"text",value:E.bio,onChange:oe=>A({...E,bio:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]}),x.jsx("div",{className:"flex justify-end pt-2",children:x.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors",children:[x.jsx(zT,{size:16})," ",l("saveChanges")]})})]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[x.jsx(b5,{className:"text-red-500",size:20})," ",l("security")]}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-gray-800",children:l("changePassword")}),x.jsx("p",{className:"text-sm text-gray-500",children:l("changePasswordDesc")})]}),x.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition-colors",children:[x.jsx(Fy,{size:16})," ",l("changePassword")]})]})]})]}),h==="COMPANY"&&ae&&x.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:x.jsxs("form",{onSubmit:ke,className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[x.jsx(BT,{className:"text-blue-500",size:20})," ",l("companyInfo")]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-4 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[b.logoUrl?x.jsx("img",{src:b.logoUrl,alt:"Logo",className:"h-24 object-contain"}):x.jsx("div",{className:"h-24 w-24 flex items-center justify-center bg-gray-200 rounded-full text-gray-400 text-xs",children:"No Logo"}),x.jsx("input",{type:"file",ref:ve,onChange:j,className:"hidden",accept:"image/*"}),x.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=ve.current)==null?void 0:oe.click()},className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:l("uploadLogo")})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("companyName")}),x.jsx("input",{type:"text",value:b.name,onChange:oe=>w({...b,name:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("taxId")}),x.jsx("input",{type:"text",value:b.taxId,onChange:oe=>w({...b,taxId:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("businessAddress")}),x.jsx("input",{type:"text",value:b.address,onChange:oe=>w({...b,address:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",placeholder:"Street, City, State, Zip",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("taxRate")}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",value:b.taxRate,onChange:oe=>w({...b,taxRate:Number(oe.target.value)}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",min:"0",max:"100"}),x.jsx("span",{className:"absolute right-3 top-2 text-gray-400",children:"%"})]}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l("taxRateDesc")})]})]}),x.jsx("div",{className:"flex justify-end mt-8",children:x.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:[x.jsx(zT,{size:20})," ",l("saveChanges")]})})]})}),h==="USERS"&&ae&&x.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[x.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-800",children:[x.jsx(GT,{className:"text-orange-500",size:20})," ",l("manageUsers")]}),x.jsxs("button",{onClick:()=>te(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[x.jsx(I5,{size:16})," ",l("addUser")]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3",children:l("fullName")}),x.jsx("th",{className:"px-6 py-3",children:l("email")}),x.jsx("th",{className:"px-6 py-3",children:l("role")}),x.jsx("th",{className:"px-6 py-3",children:l("status")}),x.jsx("th",{className:"px-6 py-3",children:l("actions")})]})}),x.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.map(oe=>{const ye=oe.id===(n==null?void 0:n.id);return x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3",children:[oe.avatar?x.jsx("img",{src:oe.avatar,className:"w-8 h-8 rounded-full",alt:""}):x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:oe.name.charAt(0)}),oe.name," ",ye&&x.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded ml-2",children:"(You)"})]}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:oe.email}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe.role===Sn.ADMIN?"bg-purple-100 text-purple-800":oe.role===Sn.ACCOUNTANT?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:oe.role})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:oe.status==="ACTIVE"?l("active"):l("inactive")})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>!ye&&d(oe.id,oe.status||"ACTIVE"),disabled:ye,title:ye?"Cannot modify own status":oe.status==="ACTIVE"?l("deactivate"):l("activate"),className:`p-1.5 rounded-md transition-colors ${ye?"text-gray-300 cursor-not-allowed":oe.status==="ACTIVE"?"text-green-600 hover:bg-red-50 hover:text-red-600":"text-red-600 hover:bg-green-50 hover:text-green-600"}`,children:x.jsx(l5,{size:18})})})]},oe.id)}),c.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found."})})]})]})})]})}),h==="CONFIG"&&x.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[x.jsx(Kz,{className:"text-green-500",size:20})," ",l("localization")]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("language")}),x.jsxs("select",{value:(n==null?void 0:n.language)||"ES",onChange:oe=>V(oe.target.value),className:"w-full p-2 border rounded-lg bg-white text-black",children:[x.jsx("option",{value:"EN",children:"English (EN)"}),x.jsx("option",{value:"ES",children:"Espaol (ES)"})]})]})})]})}),S&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:x.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-4",children:x.jsx(Fy,{className:"w-8 h-8 text-blue-600"})}),x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:l("changePassword")}),B===1?x.jsxs("div",{className:"w-full",children:[x.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:l("changePasswordDesc")}),x.jsxs("button",{onClick:ce,disabled:ie,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex justify-center items-center gap-2",children:[ie&&x.jsx(ws,{className:"animate-spin",size:16}),l("sendCode")]})]}):x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx("p",{className:"text-green-600 text-xs font-semibold bg-green-50 p-2 rounded",children:l("codeSentDesc")}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-left text-xs font-medium text-gray-700 mb-1",children:l("verificationCode")}),x.jsx("input",{type:"text",value:D,onChange:oe=>M(oe.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center tracking-widest bg-white text-black",placeholder:"000000",maxLength:6})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-left text-xs font-medium text-gray-700 mb-1",children:l("newPassword")}),x.jsx("input",{type:"password",value:L,onChange:oe=>U(oe.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]}),x.jsxs("button",{onClick:me,disabled:ie||D.length!==6||L.length<3,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex justify-center items-center gap-2 disabled:opacity-50",children:[ie&&x.jsx(ws,{className:"animate-spin",size:16}),l("verifyAndSave")]})]}),x.jsx("button",{onClick:()=>{R(!1),F(1)},className:"mt-4 text-sm text-gray-400 hover:text-gray-600",children:l("cancel")})]})})}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[x.jsx(_I,{className:"text-blue-500",size:20}),l("sendInvitation")]}),x.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Generate an invitation code for a new user."}),x.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("fullName")}),x.jsx("input",{type:"text",value:ne.name,onChange:oe=>be({...ne,name:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("email")}),x.jsx("input",{type:"email",value:ne.email,onChange:oe=>be({...ne,email:oe.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("role")}),x.jsx("select",{value:ne.role,onChange:oe=>be({...ne,role:oe.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black focus:ring-2 focus:ring-blue-500 outline-none",children:Object.values(Sn).map(oe=>x.jsx("option",{value:oe,children:oe},oe))})]}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx("button",{type:"button",onClick:()=>te(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:l("cancel")}),x.jsxs("button",{type:"submit",disabled:ie,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex justify-center items-center gap-2",children:[ie&&x.jsx(ws,{className:"animate-spin",size:16}),l("sendInvitation")]})]})]})]})}),Se&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:x.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full animate-in fade-in zoom-in duration-200",children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:x.jsx(jy,{className:"w-8 h-8 text-green-600"})}),x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:l("invitationSent")}),x.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:l("invitationDesc")}),x.jsx("div",{className:"w-full bg-gray-50 p-6 rounded-lg border-2 border-dashed border-gray-300 mb-6 flex justify-center items-center",children:x.jsx("span",{className:"text-3xl font-mono font-bold text-gray-800 tracking-widest",children:Se})}),x.jsxs("div",{className:"flex w-full gap-3",children:[x.jsx("button",{onClick:()=>Ie(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:l("close")}),x.jsxs("button",{onClick:we,className:`flex-1 px-4 py-2 text-white rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${Y?"bg-green-600":"bg-blue-600 hover:bg-blue-700"}`,children:[Y?x.jsx(jy,{size:16}):x.jsx(qz,{size:16}),l(Y?"copied":"copyLink")]})]})]})})})]})]})},ute=()=>{const{notifications:t,dismissNotification:e,t:n}=wa();return x.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n("pendingNotifications")}),x.jsx("p",{className:"text-gray-500",children:"Alerts for upcoming and overdue payments."})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col min-h-[300px]",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 border-b pb-4",children:[x.jsx(qy,{className:"text-gray-500",size:20}),n("pendingNotifications"),t.length>0&&x.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:t.length})]}),x.jsxs("div",{className:"overflow-y-auto flex-1 pr-2 space-y-3",children:[t.length===0&&x.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400",children:[x.jsx(qy,{className:"w-12 h-12 mb-2 opacity-20"}),x.jsx("p",{className:"text-sm",children:n("noNotifications")})]}),t.map(r=>x.jsxs("div",{className:`p-4 rounded-lg border-l-4 shadow-sm transition-all flex justify-between items-start gap-4 ${r.severity==="high"?"border-red-500 bg-red-50":r.severity==="medium"?"border-orange-500 bg-orange-50":"border-blue-500 bg-blue-50"}`,children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("p",{className:`text-base font-medium ${r.severity==="high"?"text-red-800":"text-gray-800"}`,children:r.message}),x.jsx("span",{className:`text-xs px-2 py-1 rounded uppercase font-bold ${r.severity==="high"?"bg-red-200 text-red-800":r.severity==="medium"?"bg-orange-200 text-orange-800":"bg-blue-200 text-blue-800"}`,children:r.type})]}),x.jsxs("p",{className:"text-xs text-gray-500 font-mono bg-white bg-opacity-50 inline-block px-2 py-0.5 rounded",children:[n("due"),": ",r.date]})]}),x.jsx("button",{onClick:()=>e(r.id),title:n("markAsRead"),className:"p-2 bg-white rounded-full text-gray-400 hover:text-green-600 hover:bg-green-50 transition-colors shadow-sm",children:x.jsx(jy,{size:18})})]},r.id))]})]})]})},cte=()=>{const{login:t,signUp:e,verifyInvitation:n,t:r}=wa(),[i,o]=I.useState(""),[l,c]=I.useState(""),[f,d]=I.useState(!1),[h,g]=I.useState(""),[b,w]=I.useState(!1),[E,A]=I.useState(!1),[S,R]=I.useState(!1),[D,M]=I.useState(""),[L,U]=I.useState(""),[B,F]=I.useState(null),ie=async fe=>{fe.preventDefault(),d(!0),g("");const{success:te,data:ne,error:be}=await n(D);d(!1),te&&ne?(A(!0),R(!1),o(ne.email),U(ne.name),F(ne.role),g(r("codeVerified"))):g(be||r("codeInvalid"))},z=async fe=>{fe.preventDefault(),d(!0),g("");try{if(E){const{success:te,error:ne}=await e(i,l,L,B||void 0,D);te?(g("Check your email for confirmation!"),A(!1),M("")):g(ne||"Signup failed")}else{const{success:te,error:ne}=await t(i,l);te||g(ne||r("invalidCredentials"))}}catch{g("An unexpected error occurred.")}finally{d(!1)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:x.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[x.jsxs("div",{className:"bg-slate-900 p-8 text-center relative",children:[S&&x.jsx("button",{onClick:()=>{R(!1),g("")},className:"absolute left-4 top-4 text-white hover:text-gray-300",children:x.jsx(wz,{size:20})}),x.jsx("div",{className:"bg-white/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:x.jsx(y5,{className:"w-10 h-10 text-blue-400"})}),x.jsx("h1",{className:"text-2xl font-bold text-white",children:S?r("verifyCode"):E?"Create Account":r("welcomeBack")}),x.jsx("p",{className:"text-gray-300 mt-2 text-sm",children:S?"Enter the code provided by your admin.":r("signInTo")})]}),x.jsxs("div",{className:"p-8",children:[h&&x.jsxs("div",{className:`text-sm p-3 rounded-lg flex items-center gap-2 mb-4 border ${h.includes("Verified")||h.includes("Verificado")||h.includes("Check")?"bg-green-50 text-green-700 border-green-100":"bg-red-50 text-red-600 border-red-100"}`,children:[x.jsx(Wv,{size:16}),h]}),S?x.jsxs("form",{onSubmit:ie,className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("enterCode")}),x.jsxs("div",{className:"relative",children:[x.jsx(Fy,{className:"absolute left-3 top-3 text-gray-400",size:18}),x.jsx("input",{type:"text",required:!0,value:D,onChange:fe=>M(fe.target.value.toUpperCase()),className:"w-full pl-10 pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all tracking-widest font-mono uppercase",placeholder:"XXXX",maxLength:4})]})]}),x.jsx("button",{type:"submit",disabled:f||D.length!==4,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:f?x.jsx(ws,{className:"animate-spin",size:20}):r("verifyCode")})]}):x.jsxs("form",{onSubmit:z,className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("email")}),x.jsxs("div",{className:"relative",children:[x.jsx(_I,{className:"absolute left-3 top-3 text-gray-400",size:18}),x.jsx("input",{type:"email",required:!0,disabled:E,value:i,onChange:fe=>o(fe.target.value),className:"w-full pl-10 pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all disabled:bg-gray-100",placeholder:"you@example.com"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("password")}),x.jsxs("div",{className:"relative",children:[x.jsx(Zz,{className:"absolute left-3 top-3 text-gray-400",size:18}),x.jsx("input",{type:b?"text":"password",required:!0,value:l,onChange:fe=>c(fe.target.value),className:"w-full pl-10 pr-10 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all",placeholder:r("passwordPlaceholder")}),x.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:b?x.jsx(Gz,{size:18}):x.jsx(bI,{size:18})})]})]}),x.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:f?x.jsx(ws,{className:"animate-spin",size:20}):E?"Sign Up":r("loginButton")}),!E&&x.jsx("div",{className:"text-center pt-2",children:x.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-sm text-blue-600 hover:underline",children:r("haveCode")})})]})]})]})})},fte=()=>{const{currentUser:t}=wa(),[e,n]=I.useState("dashboard"),[r,i]=I.useState(!1);if(!t)return x.jsx(cte,{});const o=()=>{switch(e){case"dashboard":return x.jsx(qN,{});case"transactions":return x.jsx(ote,{});case"reports":return x.jsx(ste,{});case"settings":return x.jsx(lte,{});case"notifications":return x.jsx(ute,{});default:return x.jsx(qN,{})}};return x.jsxs("div",{className:"flex min-h-screen bg-gray-50 text-gray-900 font-sans",children:[x.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-slate-900 z-50 flex items-center px-4 justify-between no-print",children:[x.jsx("span",{className:"text-white font-bold text-lg",children:"FinGemini"}),x.jsx("button",{onClick:()=>i(!r),className:"text-white",children:x.jsx(i5,{})})]}),r&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>i(!1)}),x.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-200 ease-in-out md:static`,children:x.jsx(D5,{currentPage:e,setPage:l=>{n(l),i(!1)}})}),x.jsx("main",{className:"flex-1 h-screen overflow-auto md:ml-0 pt-16 md:pt-0 print:pt-0 print:h-auto print:overflow-visible",children:o()})]})},dte=()=>x.jsx(pz,{children:x.jsx(fte,{})}),ID=document.getElementById("root");if(!ID)throw new Error("Could not find root element to mount to");const hte=sU.createRoot(ID);hte.render(x.jsx(HN.StrictMode,{children:x.jsx(dte,{})}));
