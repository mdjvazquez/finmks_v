var bk=Object.defineProperty;var _k=(t,e,n)=>e in t?bk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qp=(t,e,n)=>_k(t,typeof e!="symbol"?e+"":e,n);function mN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Zp={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function Sk(){if(nE)return gl;nE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var rE;function Ek(){return rE||(rE=1,Zp.exports=Sk()),Zp.exports}var E=Ek(),em={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function xk(){if(iE)return Ae;iE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function C(j,U,F){this.props=j,this.context=U,this.refs=x,this.updater=F||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=C.prototype;function R(j,U,F){this.props=j,this.context=U,this.refs=x,this.updater=F||S}var O=R.prototype=new I;O.constructor=R,T(O,C.prototype),O.isPureReactComponent=!0;var P=Array.isArray;function D(){}var q={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function L(j,U,F){var G=F.ref;return{$$typeof:t,type:j,key:U,ref:G!==void 0?G:null,props:F}}function ie(j,U){return L(j.type,U,j.props)}function J(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function W(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return U[F]})}var fe=/\/+/g;function ye(j,U){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):U.toString(36)}function Ee(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(U){j.status==="pending"&&(j.status="fulfilled",j.value=U)},function(U){j.status==="pending"&&(j.status="rejected",j.reason=U)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function H(j,U,F,G,se){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var ue=!1;if(j===null)ue=!0;else switch(le){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(j.$$typeof){case t:case e:ue=!0;break;case p:return ue=j._init,H(ue(j._payload),U,F,G,se)}}if(ue)return se=se(j),ue=G===""?"."+ye(j,0):G,P(se)?(F="",ue!=null&&(F=ue.replace(fe,"$&/")+"/"),H(se,U,F,"",function(ee){return ee})):se!=null&&(J(se)&&(se=ie(se,F+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(fe,"$&/")+"/")+ue)),U.push(se)),1;ue=0;var pe=G===""?".":G+":";if(P(j))for(var Q=0;Q<j.length;Q++)G=j[Q],le=pe+ye(G,Q),ue+=H(G,U,F,le,se);else if(Q=w(j),typeof Q=="function")for(j=Q.call(j),Q=0;!(G=j.next()).done;)G=G.value,le=pe+ye(G,Q++),ue+=H(G,U,F,le,se);else if(le==="object"){if(typeof j.then=="function")return H(Ee(j),U,F,G,se);throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ae(j,U,F){if(j==null)return j;var G=[],se=0;return H(j,G,"","",function(le){return U.call(F,le,se++)}),G}function de(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var be=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ne={map:ae,forEach:function(j,U,F){ae(j,function(){U.apply(this,arguments)},F)},count:function(j){var U=0;return ae(j,function(){U++}),U},toArray:function(j){return ae(j,function(U){return U})||[]},only:function(j){if(!J(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=g,Ae.Children=Ne,Ae.Component=C,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=R,Ae.StrictMode=r,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,U,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var G=T({},j.props),se=j.key;if(U!=null)for(le in U.key!==void 0&&(se=""+U.key),U)!Z.call(U,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&U.ref===void 0||(G[le]=U[le]);var le=arguments.length-2;if(le===1)G.children=F;else if(1<le){for(var ue=Array(le),pe=0;pe<le;pe++)ue[pe]=arguments[pe+2];G.children=ue}return L(j.type,se,G)},Ae.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ae.createElement=function(j,U,F){var G,se={},le=null;if(U!=null)for(G in U.key!==void 0&&(le=""+U.key),U)Z.call(U,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(se[G]=U[G]);var ue=arguments.length-2;if(ue===1)se.children=F;else if(1<ue){for(var pe=Array(ue),Q=0;Q<ue;Q++)pe[Q]=arguments[Q+2];se.children=pe}if(j&&j.defaultProps)for(G in ue=j.defaultProps,ue)se[G]===void 0&&(se[G]=ue[G]);return L(j,le,se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:c,render:j}},Ae.isValidElement=J,Ae.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:de}},Ae.memo=function(j,U){return{$$typeof:d,type:j,compare:U===void 0?null:U}},Ae.startTransition=function(j){var U=q.T,F={};q.T=F;try{var G=j(),se=q.S;se!==null&&se(F,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(D,be)}catch(le){be(le)}finally{U!==null&&F.types!==null&&(U.types=F.types),q.T=U}},Ae.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ae.use=function(j){return q.H.use(j)},Ae.useActionState=function(j,U,F){return q.H.useActionState(j,U,F)},Ae.useCallback=function(j,U){return q.H.useCallback(j,U)},Ae.useContext=function(j){return q.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,U){return q.H.useDeferredValue(j,U)},Ae.useEffect=function(j,U){return q.H.useEffect(j,U)},Ae.useEffectEvent=function(j){return q.H.useEffectEvent(j)},Ae.useId=function(){return q.H.useId()},Ae.useImperativeHandle=function(j,U,F){return q.H.useImperativeHandle(j,U,F)},Ae.useInsertionEffect=function(j,U){return q.H.useInsertionEffect(j,U)},Ae.useLayoutEffect=function(j,U){return q.H.useLayoutEffect(j,U)},Ae.useMemo=function(j,U){return q.H.useMemo(j,U)},Ae.useOptimistic=function(j,U){return q.H.useOptimistic(j,U)},Ae.useReducer=function(j,U,F){return q.H.useReducer(j,U,F)},Ae.useRef=function(j){return q.H.useRef(j)},Ae.useState=function(j){return q.H.useState(j)},Ae.useSyncExternalStore=function(j,U,F){return q.H.useSyncExternalStore(j,U,F)},Ae.useTransition=function(){return q.H.useTransition()},Ae.version="19.2.0",Ae}var aE;function us(){return aE||(aE=1,em.exports=xk()),em.exports}var N=us();const gN=xr(N),Tk=mN({__proto__:null,default:gN},[N]);var tm={exports:{}},yl={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Ak(){return oE||(oE=1,(function(t){function e(H,ae){var de=H.length;H.push(ae);e:for(;0<de;){var be=de-1>>>1,Ne=H[be];if(0<i(Ne,ae))H[be]=ae,H[de]=Ne,de=be;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ae=H[0],de=H.pop();if(de!==ae){H[0]=de;e:for(var be=0,Ne=H.length,j=Ne>>>1;be<j;){var U=2*(be+1)-1,F=H[U],G=U+1,se=H[G];if(0>i(F,de))G<Ne&&0>i(se,F)?(H[be]=se,H[G]=de,be=G):(H[be]=F,H[U]=de,be=U);else if(G<Ne&&0>i(se,de))H[be]=se,H[G]=de,be=G;else break e}}return ae}function i(H,ae){var de=H.sortIndex-ae.sortIndex;return de!==0?de:H.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,g=null,b=3,w=!1,S=!1,T=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var ae=n(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=H)r(d),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(d)}}function P(H){if(T=!1,O(H),!S)if(n(f)!==null)S=!0,D||(D=!0,W());else{var ae=n(d);ae!==null&&Ee(P,ae.startTime-H)}}var D=!1,q=-1,Z=5,L=-1;function ie(){return x?!0:!(t.unstable_now()-L<Z)}function J(){if(x=!1,D){var H=t.unstable_now();L=H;var ae=!0;try{e:{S=!1,T&&(T=!1,I(q),q=-1),w=!0;var de=b;try{t:{for(O(H),g=n(f);g!==null&&!(g.expirationTime>H&&ie());){var be=g.callback;if(typeof be=="function"){g.callback=null,b=g.priorityLevel;var Ne=be(g.expirationTime<=H);if(H=t.unstable_now(),typeof Ne=="function"){g.callback=Ne,O(H),ae=!0;break t}g===n(f)&&r(f),O(H)}else r(f);g=n(f)}if(g!==null)ae=!0;else{var j=n(d);j!==null&&Ee(P,j.startTime-H),ae=!1}}break e}finally{g=null,b=de,w=!1}ae=void 0}}finally{ae?W():D=!1}}}var W;if(typeof R=="function")W=function(){R(J)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ye=fe.port2;fe.port1.onmessage=J,W=function(){ye.postMessage(null)}}else W=function(){C(J,0)};function Ee(H,ae){q=C(function(){H(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return H()}finally{b=de}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=b;b=H;try{return ae()}finally{b=de}},t.unstable_scheduleCallback=function(H,ae,de){var be=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,H){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=de+Ne,H={id:p++,callback:ae,priorityLevel:H,startTime:de,expirationTime:Ne,sortIndex:-1},de>be?(H.sortIndex=de,e(d,H),n(f)===null&&H===n(d)&&(T?(I(q),q=-1):T=!0,Ee(P,de-be))):(H.sortIndex=Ne,e(f,H),S||w||(S=!0,D||(D=!0,W()))),H},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(H){var ae=b;return function(){var de=b;b=ae;try{return H.apply(this,arguments)}finally{b=de}}}})(rm)),rm}var sE;function Ck(){return sE||(sE=1,nm.exports=Ak()),nm.exports}var im={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function Nk(){if(lE)return fn;lE=1;var t=us();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},fn.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},fn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fn.requestFormReset=function(f){r.d.r(f)},fn.unstable_batchedUpdates=function(f,d){return f(d)},fn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var uE;function yN(){if(uE)return im.exports;uE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),im.exports=Nk(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Rk(){if(cE)return yl;cE=1;var t=Ck(),e=us(),n=yN();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,h=s;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),a;if(_===h)return f(v),s;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=_;else{for(var A=!1,M=v.child;M;){if(M===u){A=!0,u=v,h=_;break}if(M===h){A=!0,h=v,u=_;break}M=M.sibling}if(!A){for(M=_.child;M;){if(M===u){A=!0,u=_,h=v;break}if(M===h){A=!0,h=_,u=v;break}M=M.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case O:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return s=a.displayName||null,s!==null?s:ye(a.type)||"Memo";case Z:s=a._payload,a=a._init;try{return ye(a(s))}catch{}}return null}var Ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},be=[],Ne=-1;function j(a){return{current:a}}function U(a){0>Ne||(a.current=be[Ne],be[Ne]=null,Ne--)}function F(a,s){Ne++,be[Ne]=a.current,a.current=s}var G=j(null),se=j(null),le=j(null),ue=j(null);function pe(a,s){switch(F(le,s),F(se,a),F(G,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?TS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=TS(s),a=AS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(G),F(G,a)}function Q(){U(G),U(se),U(le)}function ee(a){a.memoizedState!==null&&F(ue,a);var s=G.current,u=AS(s,a.type);s!==u&&(F(se,a),F(G,u))}function ce(a){se.current===a&&(U(G),U(se)),ue.current===a&&(U(ue),dl._currentValue=de)}var oe,Ie;function ke(a){if(oe===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",Ie=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+Ie}var Be=!1;function De(a,s){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var K=X}Reflect.construct(a,[],re)}else{try{re.call()}catch(X){K=X}a.call(re.prototype)}}else{try{throw Error()}catch(X){K=X}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),A=_[0],M=_[1];if(A&&M){var k=A.split(`
`),$=M.split(`
`);for(v=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;v<$.length&&!$[v].includes("DetermineComponentFrameRoot");)v++;if(h===k.length||v===$.length)for(h=k.length-1,v=$.length-1;1<=h&&0<=v&&k[h]!==$[v];)v--;for(;1<=h&&0<=v;h--,v--)if(k[h]!==$[v]){if(h!==1||v!==1)do if(h--,v--,0>v||k[h]!==$[v]){var te=`
`+k[h].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=h&&0<=v);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ke(u):""}function nt(a,s){switch(a.tag){case 26:case 27:case 5:return ke(a.type);case 16:return ke("Lazy");case 13:return a.child!==s&&s!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return De(a.type,!1);case 11:return De(a.type.render,!1);case 1:return De(a.type,!0);case 31:return ke("Activity");default:return""}}function $t(a){try{var s="",u=null;do s+=nt(a,u),u=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var en=Object.prototype.hasOwnProperty,yn=t.unstable_scheduleCallback,vn=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,tn=t.unstable_requestPaint,Nt=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,Ft=t.unstable_ImmediatePriority,Xa=t.unstable_UserBlockingPriority,pu=t.unstable_NormalPriority,eD=t.unstable_LowPriority,ab=t.unstable_IdlePriority,tD=t.log,nD=t.unstable_setDisableYieldValue,xs=null,Mn=null;function bi(a){if(typeof tD=="function"&&nD(a),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(xs,a)}catch{}}var In=Math.clz32?Math.clz32:aD,rD=Math.log,iD=Math.LN2;function aD(a){return a>>>=0,a===0?32:31-(rD(a)/iD|0)|0}var mu=256,gu=262144,yu=4194304;function ua(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function vu(a,s,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,_=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~_,h!==0?v=ua(h):(A&=M,A!==0?v=ua(A):u||(u=M&~a,u!==0&&(v=ua(u))))):(M=h&~_,M!==0?v=ua(M):A!==0?v=ua(A):u||(u=h&~a,u!==0&&(v=ua(u)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:v}function Ts(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function oD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ob(){var a=yu;return yu<<=1,(yu&62914560)===0&&(yu=4194304),a}function Bd(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function As(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function sD(a,s,u,h,v,_){var A=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,k=a.expirationTimes,$=a.hiddenUpdates;for(u=A&~u;0<u;){var te=31-In(u),re=1<<te;M[te]=0,k[te]=-1;var K=$[te];if(K!==null)for($[te]=null,te=0;te<K.length;te++){var X=K[te];X!==null&&(X.lane&=-536870913)}u&=~re}h!==0&&sb(a,h,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(A&~s))}function sb(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-In(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function lb(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var h=31-In(u),v=1<<h;v&s|a[h]&s&&(a[h]|=s),u&=~v}}function ub(a,s){var u=s&-s;return u=(u&42)!==0?1:zd(u),(u&(a.suspendedLanes|s))!==0?0:u}function zd(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Gd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function cb(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:JS(a.type))}function fb(a,s){var u=ae.p;try{return ae.p=a,s()}finally{ae.p=u}}var _i=Math.random().toString(36).slice(2),nn="__reactFiber$"+_i,bn="__reactProps$"+_i,Qa="__reactContainer$"+_i,Hd="__reactEvents$"+_i,lD="__reactListeners$"+_i,uD="__reactHandles$"+_i,db="__reactResources$"+_i,Cs="__reactMarker$"+_i;function Vd(a){delete a[nn],delete a[bn],delete a[Hd],delete a[lD],delete a[uD]}function Za(a){var s=a[nn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Qa]||u[nn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=OS(a);a!==null;){if(u=a[nn])return u;a=OS(a)}return s}a=u,u=a.parentNode}return null}function eo(a){if(a=a[nn]||a[Qa]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Ns(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function to(a){var s=a[db];return s||(s=a[db]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(a){a[Cs]=!0}var hb=new Set,pb={};function ca(a,s){no(a,s),no(a+"Capture",s)}function no(a,s){for(pb[a]=s,a=0;a<s.length;a++)hb.add(s[a])}var cD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mb={},gb={};function fD(a){return en.call(gb,a)?!0:en.call(mb,a)?!1:cD.test(a)?gb[a]=!0:(mb[a]=!0,!1)}function bu(a,s,u){if(fD(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function _u(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function kr(a,s,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+h)}}function Yn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function yb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dD(a,s,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(A){u=""+A,_.call(this,A)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function $d(a){if(!a._valueTracker){var s=yb(a)?"checked":"value";a._valueTracker=dD(a,s,""+a[s])}}function vb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return a&&(h=yb(a)?a.checked?"true":"false":a.value),a=h,a!==u?(s.setValue(a),!0):!1}function wu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var hD=/[\n"\\]/g;function Jn(a){return a.replace(hD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fd(a,s,u,h,v,_,A,M){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),s!=null?A==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Yn(s)):a.value!==""+Yn(s)&&(a.value=""+Yn(s)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),s!=null?Kd(a,A,Yn(s)):u!=null?Kd(a,A,Yn(u)):h!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Yn(M):a.removeAttribute("name")}function bb(a,s,u,h,v,_,A,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){$d(a);return}u=u!=null?""+Yn(u):"",s=s!=null?""+Yn(s):u,M||s===a.value||(a.value=s),a.defaultValue=s}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),$d(a)}function Kd(a,s,u){s==="number"&&wu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ro(a,s,u,h){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Yn(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function _b(a,s,u){if(s!=null&&(s=""+Yn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+Yn(u):""}function wb(a,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=Yn(s),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),$d(a)}function io(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var pD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sb(a,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,u):typeof u!="number"||u===0||pD.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Eb(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in s)h=s[v],s.hasOwnProperty(v)&&u[v]!==h&&Sb(a,v,h)}else for(var _ in s)s.hasOwnProperty(_)&&Sb(a,_,s[_])}function Yd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(a){return gD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ur(){}var Jd=null;function Wd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ao=null,oo=null;function xb(a){var s=eo(a);if(s&&(a=s.stateNode)){var u=a[bn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Fd(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Jn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==a&&h.form===a.form){var v=h[bn]||null;if(!v)throw Error(r(90));Fd(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===a.form&&vb(h)}break e;case"textarea":_b(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ro(a,!!u.multiple,s,!1)}}}var Xd=!1;function Tb(a,s,u){if(Xd)return a(s,u);Xd=!0;try{var h=a(s);return h}finally{if(Xd=!1,(ao!==null||oo!==null)&&(uc(),ao&&(s=ao,a=oo,oo=ao=null,xb(s),a)))for(s=0;s<a.length;s++)xb(a[s])}}function Rs(a,s){var u=a.stateNode;if(u===null)return null;var h=u[bn]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(Lr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Qd=!1}var wi=null,Zd=null,Eu=null;function Ab(){if(Eu)return Eu;var a,s=Zd,u=s.length,h,v="value"in wi?wi.value:wi.textContent,_=v.length;for(a=0;a<u&&s[a]===v[a];a++);var A=u-a;for(h=1;h<=A&&s[u-h]===v[_-h];h++);return Eu=v.slice(a,1<h?1-h:void 0)}function xu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Tu(){return!0}function Cb(){return!1}function _n(a){function s(u,h,v,_,A){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Tu:Cb,this.isPropagationStopped=Cb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),s}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=_n(fa),Is=g({},fa,{view:0,detail:0}),yD=_n(Is),eh,th,Ps,Cu=g({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ps&&(Ps&&a.type==="mousemove"?(eh=a.screenX-Ps.screenX,th=a.screenY-Ps.screenY):th=eh=0,Ps=a),eh)},movementY:function(a){return"movementY"in a?a.movementY:th}}),Nb=_n(Cu),vD=g({},Cu,{dataTransfer:0}),bD=_n(vD),_D=g({},Is,{relatedTarget:0}),nh=_n(_D),wD=g({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),SD=_n(wD),ED=g({},fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xD=_n(ED),TD=g({},fa,{data:0}),Rb=_n(TD),AD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ND={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ND[a])?!!s[a]:!1}function rh(){return RD}var MD=g({},Is,{key:function(a){if(a.key){var s=AD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=xu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?CD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(a){return a.type==="keypress"?xu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ID=_n(MD),PD=g({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mb=_n(PD),OD=g({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),DD=_n(OD),kD=g({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UD=_n(kD),LD=g({},Cu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qD=_n(LD),jD=g({},fa,{newState:0,oldState:0}),BD=_n(jD),zD=[9,13,27,32],ih=Lr&&"CompositionEvent"in window,Os=null;Lr&&"documentMode"in document&&(Os=document.documentMode);var GD=Lr&&"TextEvent"in window&&!Os,Ib=Lr&&(!ih||Os&&8<Os&&11>=Os),Pb=" ",Ob=!1;function Db(a,s){switch(a){case"keyup":return zD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var so=!1;function HD(a,s){switch(a){case"compositionend":return kb(s);case"keypress":return s.which!==32?null:(Ob=!0,Pb);case"textInput":return a=s.data,a===Pb&&Ob?null:a;default:return null}}function VD(a,s){if(so)return a==="compositionend"||!ih&&Db(a,s)?(a=Ab(),Eu=Zd=wi=null,so=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ib&&s.locale!=="ko"?null:s.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!$D[a.type]:s==="textarea"}function Lb(a,s,u,h){ao?oo?oo.push(h):oo=[h]:ao=h,s=gc(s,"onChange"),0<s.length&&(u=new Au("onChange","change",null,u,h),a.push({event:u,listeners:s}))}var Ds=null,ks=null;function FD(a){bS(a,0)}function Nu(a){var s=Ns(a);if(vb(s))return a}function qb(a,s){if(a==="change")return s}var jb=!1;if(Lr){var ah;if(Lr){var oh="oninput"in document;if(!oh){var Bb=document.createElement("div");Bb.setAttribute("oninput","return;"),oh=typeof Bb.oninput=="function"}ah=oh}else ah=!1;jb=ah&&(!document.documentMode||9<document.documentMode)}function zb(){Ds&&(Ds.detachEvent("onpropertychange",Gb),ks=Ds=null)}function Gb(a){if(a.propertyName==="value"&&Nu(ks)){var s=[];Lb(s,ks,a,Wd(a)),Tb(FD,s)}}function KD(a,s,u){a==="focusin"?(zb(),Ds=s,ks=u,Ds.attachEvent("onpropertychange",Gb)):a==="focusout"&&zb()}function YD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Nu(ks)}function JD(a,s){if(a==="click")return Nu(s)}function WD(a,s){if(a==="input"||a==="change")return Nu(s)}function XD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Pn=typeof Object.is=="function"?Object.is:XD;function Us(a,s){if(Pn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!en.call(s,v)||!Pn(a[v],s[v]))return!1}return!0}function Hb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Vb(a,s){var u=Hb(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=s&&h>=s)return{node:u,offset:s-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hb(u)}}function $b(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?$b(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Fb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=wu(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=wu(a.document)}return s}function sh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var QD=Lr&&"documentMode"in document&&11>=document.documentMode,lo=null,lh=null,Ls=null,uh=!1;function Kb(a,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uh||lo==null||lo!==wu(h)||(h=lo,"selectionStart"in h&&sh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ls&&Us(Ls,h)||(Ls=h,h=gc(lh,"onSelect"),0<h.length&&(s=new Au("onSelect","select",null,s,u),a.push({event:s,listeners:h}),s.target=lo)))}function da(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var uo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ch={},Yb={};Lr&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ha(a){if(ch[a])return ch[a];if(!uo[a])return a;var s=uo[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in Yb)return ch[a]=s[u];return a}var Jb=ha("animationend"),Wb=ha("animationiteration"),Xb=ha("animationstart"),ZD=ha("transitionrun"),e2=ha("transitionstart"),t2=ha("transitioncancel"),Qb=ha("transitionend"),Zb=new Map,fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fh.push("scrollEnd");function hr(a,s){Zb.set(a,s),ca(s,[a])}var Ru=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Wn=[],co=0,dh=0;function Mu(){for(var a=co,s=dh=co=0;s<a;){var u=Wn[s];Wn[s++]=null;var h=Wn[s];Wn[s++]=null;var v=Wn[s];Wn[s++]=null;var _=Wn[s];if(Wn[s++]=null,h!==null&&v!==null){var A=h.pending;A===null?v.next=v:(v.next=A.next,A.next=v),h.pending=v}_!==0&&e_(u,v,_)}}function Iu(a,s,u,h){Wn[co++]=a,Wn[co++]=s,Wn[co++]=u,Wn[co++]=h,dh|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function hh(a,s,u,h){return Iu(a,s,u,h),Pu(a)}function pa(a,s){return Iu(a,null,null,s),Pu(a)}function e_(a,s,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&s!==null&&(v=31-In(u),a=_.hiddenUpdates,h=a[v],h===null?a[v]=[s]:h.push(s),s.lane=u|536870912),_):null}function Pu(a){if(50<al)throw al=0,Sp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var fo={};function n2(a,s,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(a,s,u,h){return new n2(a,s,u,h)}function ph(a){return a=a.prototype,!(!a||!a.isReactComponent)}function qr(a,s){var u=a.alternate;return u===null?(u=On(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function t_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ou(a,s,u,h,v,_){var A=0;if(h=a,typeof a=="function")ph(a)&&(A=1);else if(typeof a=="string")A=sk(a,u,G.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=On(31,u,s,v),a.elementType=L,a.lanes=_,a;case T:return ma(u.children,v,_,s);case x:A=8,v|=24;break;case C:return a=On(12,u,s,v|2),a.elementType=C,a.lanes=_,a;case P:return a=On(13,u,s,v),a.elementType=P,a.lanes=_,a;case D:return a=On(19,u,s,v),a.elementType=D,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:A=10;break e;case I:A=9;break e;case O:A=11;break e;case q:A=14;break e;case Z:A=16,h=null;break e}A=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=On(A,u,s,v),s.elementType=a,s.type=h,s.lanes=_,s}function ma(a,s,u,h){return a=On(7,a,h,s),a.lanes=u,a}function mh(a,s,u){return a=On(6,a,null,s),a.lanes=u,a}function n_(a){var s=On(18,null,null,0);return s.stateNode=a,s}function gh(a,s,u){return s=On(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var r_=new WeakMap;function Xn(a,s){if(typeof a=="object"&&a!==null){var u=r_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:$t(s)},r_.set(a,s),s)}return{value:a,source:s,stack:$t(s)}}var ho=[],po=0,Du=null,qs=0,Qn=[],Zn=0,Si=null,Cr=1,Nr="";function jr(a,s){ho[po++]=qs,ho[po++]=Du,Du=a,qs=s}function i_(a,s,u){Qn[Zn++]=Cr,Qn[Zn++]=Nr,Qn[Zn++]=Si,Si=a;var h=Cr;a=Nr;var v=32-In(h)-1;h&=~(1<<v),u+=1;var _=32-In(s)+v;if(30<_){var A=v-v%5;_=(h&(1<<A)-1).toString(32),h>>=A,v-=A,Cr=1<<32-In(s)+v|u<<v|h,Nr=_+a}else Cr=1<<_|u<<v|h,Nr=a}function yh(a){a.return!==null&&(jr(a,1),i_(a,1,0))}function vh(a){for(;a===Du;)Du=ho[--po],ho[po]=null,qs=ho[--po],ho[po]=null;for(;a===Si;)Si=Qn[--Zn],Qn[Zn]=null,Nr=Qn[--Zn],Qn[Zn]=null,Cr=Qn[--Zn],Qn[Zn]=null}function a_(a,s){Qn[Zn++]=Cr,Qn[Zn++]=Nr,Qn[Zn++]=Si,Cr=s.id,Nr=s.overflow,Si=a}var rn=null,lt=null,Ge=!1,Ei=null,er=!1,bh=Error(r(519));function xi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw js(Xn(s,a)),bh}function o_(a){var s=a.stateNode,u=a.type,h=a.memoizedProps;switch(s[nn]=a,s[bn]=h,u){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(u=0;u<sl.length;u++)Le(sl[u],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),bb(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),wb(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||ES(s.textContent,u)?(h.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),h.onScroll!=null&&Le("scroll",s),h.onScrollEnd!=null&&Le("scrollend",s),h.onClick!=null&&(s.onclick=Ur),s=!0):s=!1,s||xi(a,!0)}function s_(a){for(rn=a.return;rn;)switch(rn.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:rn=rn.return}}function mo(a){if(a!==rn)return!1;if(!Ge)return s_(a),Ge=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Lp(a.type,a.memoizedProps)),u=!u),u&&lt&&xi(a),s_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));lt=PS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));lt=PS(a)}else s===27?(s=lt,qi(a.type)?(a=Gp,Gp=null,lt=a):lt=s):lt=rn?nr(a.stateNode.nextSibling):null;return!0}function ga(){lt=rn=null,Ge=!1}function _h(){var a=Ei;return a!==null&&(xn===null?xn=a:xn.push.apply(xn,a),Ei=null),a}function js(a){Ei===null?Ei=[a]:Ei.push(a)}var wh=j(null),ya=null,Br=null;function Ti(a,s,u){F(wh,s._currentValue),s._currentValue=u}function zr(a){a._currentValue=wh.current,U(wh)}function Sh(a,s,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===u)break;a=a.return}}function Eh(a,s,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var A=v.child;_=_.firstContext;e:for(;_!==null;){var M=_;_=v;for(var k=0;k<s.length;k++)if(M.context===s[k]){_.lanes|=u,M=_.alternate,M!==null&&(M.lanes|=u),Sh(_.return,u,a),h||(A=null);break e}_=M.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=u,_=A.alternate,_!==null&&(_.lanes|=u),Sh(A,u,a),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===a){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function go(a,s,u,h){a=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var M=v.type;Pn(v.pendingProps.value,A.value)||(a!==null?a.push(M):a=[M])}}else if(v===ue.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(dl):a=[dl])}v=v.return}a!==null&&Eh(s,a,u,h),s.flags|=262144}function ku(a){for(a=a.firstContext;a!==null;){if(!Pn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function va(a){ya=a,Br=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function an(a){return l_(ya,a)}function Uu(a,s){return ya===null&&va(a),l_(a,s)}function l_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Br===null){if(a===null)throw Error(r(308));Br=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Br=Br.next=s;return u}var r2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},i2=t.unstable_scheduleCallback,a2=t.unstable_NormalPriority,Rt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new r2,data:new Map,refCount:0}}function Bs(a){a.refCount--,a.refCount===0&&i2(a2,function(){a.controller.abort()})}var zs=null,Th=0,yo=0,vo=null;function o2(a,s){if(zs===null){var u=zs=[];Th=0,yo=Np(),vo={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Th++,s.then(u_,u_),s}function u_(){if(--Th===0&&zs!==null){vo!==null&&(vo.status="fulfilled");var a=zs;zs=null,yo=0,vo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function s2(a,s){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var c_=H.S;H.S=function(a,s){Kw=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&o2(a,s),c_!==null&&c_(a,s)};var ba=j(null);function Ah(){var a=ba.current;return a!==null?a:rt.pooledCache}function Lu(a,s){s===null?F(ba,ba.current):F(ba,s.pool)}function f_(){var a=Ah();return a===null?null:{parent:Rt._currentValue,pool:a}}var bo=Error(r(460)),Ch=Error(r(474)),qu=Error(r(542)),ju={then:function(){}};function d_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function h_(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ur,Ur),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,m_(a),a;default:if(typeof s.status=="string")s.then(Ur,Ur);else{if(a=rt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=h}},function(h){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,m_(a),a}throw wa=s,bo}}function _a(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(wa=u,bo):u}}var wa=null;function p_(){if(wa===null)throw Error(r(459));var a=wa;return wa=null,a}function m_(a){if(a===bo||a===qu)throw Error(r(483))}var _o=null,Gs=0;function Bu(a){var s=Gs;return Gs+=1,_o===null&&(_o=[]),h_(_o,a,s)}function Hs(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function zu(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function g_(a){function s(z,B){if(a){var V=z.deletions;V===null?(z.deletions=[B],z.flags|=16):V.push(B)}}function u(z,B){if(!a)return null;for(;B!==null;)s(z,B),B=B.sibling;return null}function h(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function v(z,B){return z=qr(z,B),z.index=0,z.sibling=null,z}function _(z,B,V){return z.index=V,a?(V=z.alternate,V!==null?(V=V.index,V<B?(z.flags|=67108866,B):V):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function A(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function M(z,B,V,ne){return B===null||B.tag!==6?(B=mh(V,z.mode,ne),B.return=z,B):(B=v(B,V),B.return=z,B)}function k(z,B,V,ne){var Se=V.type;return Se===T?te(z,B,V.props.children,ne,V.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Z&&_a(Se)===B.type)?(B=v(B,V.props),Hs(B,V),B.return=z,B):(B=Ou(V.type,V.key,V.props,null,z.mode,ne),Hs(B,V),B.return=z,B)}function $(z,B,V,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=gh(V,z.mode,ne),B.return=z,B):(B=v(B,V.children||[]),B.return=z,B)}function te(z,B,V,ne,Se){return B===null||B.tag!==7?(B=ma(V,z.mode,ne,Se),B.return=z,B):(B=v(B,V),B.return=z,B)}function re(z,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=mh(""+B,z.mode,V),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return V=Ou(B.type,B.key,B.props,null,z.mode,V),Hs(V,B),V.return=z,V;case S:return B=gh(B,z.mode,V),B.return=z,B;case Z:return B=_a(B),re(z,B,V)}if(Ee(B)||W(B))return B=ma(B,z.mode,V,null),B.return=z,B;if(typeof B.then=="function")return re(z,Bu(B),V);if(B.$$typeof===R)return re(z,Uu(z,B),V);zu(z,B)}return null}function K(z,B,V,ne){var Se=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Se!==null?null:M(z,B,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===Se?k(z,B,V,ne):null;case S:return V.key===Se?$(z,B,V,ne):null;case Z:return V=_a(V),K(z,B,V,ne)}if(Ee(V)||W(V))return Se!==null?null:te(z,B,V,ne,null);if(typeof V.then=="function")return K(z,B,Bu(V),ne);if(V.$$typeof===R)return K(z,B,Uu(z,V),ne);zu(z,V)}return null}function X(z,B,V,ne,Se){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(V)||null,M(B,z,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return z=z.get(ne.key===null?V:ne.key)||null,k(B,z,ne,Se);case S:return z=z.get(ne.key===null?V:ne.key)||null,$(B,z,ne,Se);case Z:return ne=_a(ne),X(z,B,V,ne,Se)}if(Ee(ne)||W(ne))return z=z.get(V)||null,te(B,z,ne,Se,null);if(typeof ne.then=="function")return X(z,B,V,Bu(ne),Se);if(ne.$$typeof===R)return X(z,B,V,Uu(B,ne),Se);zu(B,ne)}return null}function ge(z,B,V,ne){for(var Se=null,He=null,ve=B,Pe=B=0,je=null;ve!==null&&Pe<V.length;Pe++){ve.index>Pe?(je=ve,ve=null):je=ve.sibling;var Ve=K(z,ve,V[Pe],ne);if(Ve===null){ve===null&&(ve=je);break}a&&ve&&Ve.alternate===null&&s(z,ve),B=_(Ve,B,Pe),He===null?Se=Ve:He.sibling=Ve,He=Ve,ve=je}if(Pe===V.length)return u(z,ve),Ge&&jr(z,Pe),Se;if(ve===null){for(;Pe<V.length;Pe++)ve=re(z,V[Pe],ne),ve!==null&&(B=_(ve,B,Pe),He===null?Se=ve:He.sibling=ve,He=ve);return Ge&&jr(z,Pe),Se}for(ve=h(ve);Pe<V.length;Pe++)je=X(ve,z,Pe,V[Pe],ne),je!==null&&(a&&je.alternate!==null&&ve.delete(je.key===null?Pe:je.key),B=_(je,B,Pe),He===null?Se=je:He.sibling=je,He=je);return a&&ve.forEach(function(Hi){return s(z,Hi)}),Ge&&jr(z,Pe),Se}function xe(z,B,V,ne){if(V==null)throw Error(r(151));for(var Se=null,He=null,ve=B,Pe=B=0,je=null,Ve=V.next();ve!==null&&!Ve.done;Pe++,Ve=V.next()){ve.index>Pe?(je=ve,ve=null):je=ve.sibling;var Hi=K(z,ve,Ve.value,ne);if(Hi===null){ve===null&&(ve=je);break}a&&ve&&Hi.alternate===null&&s(z,ve),B=_(Hi,B,Pe),He===null?Se=Hi:He.sibling=Hi,He=Hi,ve=je}if(Ve.done)return u(z,ve),Ge&&jr(z,Pe),Se;if(ve===null){for(;!Ve.done;Pe++,Ve=V.next())Ve=re(z,Ve.value,ne),Ve!==null&&(B=_(Ve,B,Pe),He===null?Se=Ve:He.sibling=Ve,He=Ve);return Ge&&jr(z,Pe),Se}for(ve=h(ve);!Ve.done;Pe++,Ve=V.next())Ve=X(ve,z,Pe,Ve.value,ne),Ve!==null&&(a&&Ve.alternate!==null&&ve.delete(Ve.key===null?Pe:Ve.key),B=_(Ve,B,Pe),He===null?Se=Ve:He.sibling=Ve,He=Ve);return a&&ve.forEach(function(vk){return s(z,vk)}),Ge&&jr(z,Pe),Se}function et(z,B,V,ne){if(typeof V=="object"&&V!==null&&V.type===T&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:e:{for(var Se=V.key;B!==null;){if(B.key===Se){if(Se=V.type,Se===T){if(B.tag===7){u(z,B.sibling),ne=v(B,V.props.children),ne.return=z,z=ne;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Z&&_a(Se)===B.type){u(z,B.sibling),ne=v(B,V.props),Hs(ne,V),ne.return=z,z=ne;break e}u(z,B);break}else s(z,B);B=B.sibling}V.type===T?(ne=ma(V.props.children,z.mode,ne,V.key),ne.return=z,z=ne):(ne=Ou(V.type,V.key,V.props,null,z.mode,ne),Hs(ne,V),ne.return=z,z=ne)}return A(z);case S:e:{for(Se=V.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){u(z,B.sibling),ne=v(B,V.children||[]),ne.return=z,z=ne;break e}else{u(z,B);break}else s(z,B);B=B.sibling}ne=gh(V,z.mode,ne),ne.return=z,z=ne}return A(z);case Z:return V=_a(V),et(z,B,V,ne)}if(Ee(V))return ge(z,B,V,ne);if(W(V)){if(Se=W(V),typeof Se!="function")throw Error(r(150));return V=Se.call(V),xe(z,B,V,ne)}if(typeof V.then=="function")return et(z,B,Bu(V),ne);if(V.$$typeof===R)return et(z,B,Uu(z,V),ne);zu(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(u(z,B.sibling),ne=v(B,V),ne.return=z,z=ne):(u(z,B),ne=mh(V,z.mode,ne),ne.return=z,z=ne),A(z)):u(z,B)}return function(z,B,V,ne){try{Gs=0;var Se=et(z,B,V,ne);return _o=null,Se}catch(ve){if(ve===bo||ve===qu)throw ve;var He=On(29,ve,null,z.mode);return He.lanes=ne,He.return=z,He}finally{}}}var Sa=g_(!0),y_=g_(!1),Ai=!1;function Nh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ci(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ni(a,s,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,s=Pu(a),e_(a,null,u),s}return Iu(a,h,s,u),Pu(a)}function Vs(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,u|=h,s.lanes=u,lb(a,u)}}function Mh(a,s){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=A:_=_.next=A,u=u.next}while(u!==null);_===null?v=_=s:_=_.next=s}else v=_=s;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Ih=!1;function $s(){if(Ih){var a=vo;if(a!==null)throw a}}function Fs(a,s,u,h){Ih=!1;var v=a.updateQueue;Ai=!1;var _=v.firstBaseUpdate,A=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var k=M,$=k.next;k.next=null,A===null?_=$:A.next=$,A=k;var te=a.alternate;te!==null&&(te=te.updateQueue,M=te.lastBaseUpdate,M!==A&&(M===null?te.firstBaseUpdate=$:M.next=$,te.lastBaseUpdate=k))}if(_!==null){var re=v.baseState;A=0,te=$=k=null,M=_;do{var K=M.lane&-536870913,X=K!==M.lane;if(X?(qe&K)===K:(h&K)===K){K!==0&&K===yo&&(Ih=!0),te!==null&&(te=te.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ge=a,xe=M;K=s;var et=u;switch(xe.tag){case 1:if(ge=xe.payload,typeof ge=="function"){re=ge.call(et,re,K);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=xe.payload,K=typeof ge=="function"?ge.call(et,re,K):ge,K==null)break e;re=g({},re,K);break e;case 2:Ai=!0}}K=M.callback,K!==null&&(a.flags|=64,X&&(a.flags|=8192),X=v.callbacks,X===null?v.callbacks=[K]:X.push(K))}else X={lane:K,tag:M.tag,payload:M.payload,callback:M.callback,next:null},te===null?($=te=X,k=re):te=te.next=X,A|=K;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;X=M,M=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);te===null&&(k=re),v.baseState=k,v.firstBaseUpdate=$,v.lastBaseUpdate=te,_===null&&(v.shared.lanes=0),Oi|=A,a.lanes=A,a.memoizedState=re}}function v_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function b_(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)v_(u[a],s)}var wo=j(null),Gu=j(0);function __(a,s){a=Wr,F(Gu,a),F(wo,s),Wr=a|s.baseLanes}function Ph(){F(Gu,Wr),F(wo,wo.current)}function Oh(){Wr=Gu.current,U(wo),U(Gu)}var Dn=j(null),tr=null;function Ri(a){var s=a.alternate;F(xt,xt.current&1),F(Dn,a),tr===null&&(s===null||wo.current!==null||s.memoizedState!==null)&&(tr=a)}function Dh(a){F(xt,xt.current),F(Dn,a),tr===null&&(tr=a)}function w_(a){a.tag===22?(F(xt,xt.current),F(Dn,a),tr===null&&(tr=a)):Mi()}function Mi(){F(xt,xt.current),F(Dn,Dn.current)}function kn(a){U(Dn),tr===a&&(tr=null),U(xt)}var xt=j(0);function Hu(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Bp(u)||zp(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gr=0,Re=null,Qe=null,Mt=null,Vu=!1,So=!1,Ea=!1,$u=0,Ks=0,Eo=null,l2=0;function wt(){throw Error(r(321))}function kh(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Pn(a[u],s[u]))return!1;return!0}function Uh(a,s,u,h,v,_){return Gr=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=a===null||a.memoizedState===null?iw:Xh,Ea=!1,_=u(h,v),Ea=!1,So&&(_=E_(s,u,h,v)),S_(a),_}function S_(a){H.H=Ws;var s=Qe!==null&&Qe.next!==null;if(Gr=0,Mt=Qe=Re=null,Vu=!1,Ks=0,Eo=null,s)throw Error(r(300));a===null||It||(a=a.dependencies,a!==null&&ku(a)&&(It=!0))}function E_(a,s,u,h){Re=a;var v=0;do{if(So&&(Eo=null),Ks=0,So=!1,25<=v)throw Error(r(301));if(v+=1,Mt=Qe=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=aw,_=s(u,h)}while(So);return _}function u2(){var a=H.H,s=a.useState()[0];return s=typeof s.then=="function"?Ys(s):s,a=a.useState()[0],(Qe!==null?Qe.memoizedState:null)!==a&&(Re.flags|=1024),s}function Lh(){var a=$u!==0;return $u=0,a}function qh(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function jh(a){if(Vu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Vu=!1}Gr=0,Mt=Qe=Re=null,So=!1,Ks=$u=0,Eo=null}function pn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Re.memoizedState=Mt=a:Mt=Mt.next=a,Mt}function Tt(){if(Qe===null){var a=Re.alternate;a=a!==null?a.memoizedState:null}else a=Qe.next;var s=Mt===null?Re.memoizedState:Mt.next;if(s!==null)Mt=s,Qe=a;else{if(a===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Qe=a,a={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Mt===null?Re.memoizedState=Mt=a:Mt=Mt.next=a}return Mt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ys(a){var s=Ks;return Ks+=1,Eo===null&&(Eo=[]),a=h_(Eo,a,s),s=Re,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?iw:Xh),a}function Ku(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ys(a);if(a.$$typeof===R)return an(a)}throw Error(r(438,String(a)))}function Bh(a){var s=null,u=Re.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Fu(),Re.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),h=0;h<a;h++)u[h]=ie;return s.index++,u}function Hr(a,s){return typeof s=="function"?s(a):s}function Yu(a){var s=Tt();return zh(s,Qe,a)}function zh(a,s,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,_=h.pending;if(_!==null){if(v!==null){var A=v.next;v.next=_.next,_.next=A}s.baseQueue=v=_,h.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{s=v.next;var M=A=null,k=null,$=s,te=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(qe&re)===re:(Gr&re)===re){var K=$.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===yo&&(te=!0);else if((Gr&K)===K){$=$.next,K===yo&&(te=!0);continue}else re={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(M=k=re,A=_):k=k.next=re,Re.lanes|=K,Oi|=K;re=$.action,Ea&&u(_,re),_=$.hasEagerState?$.eagerState:u(_,re)}else K={lane:re,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(M=k=K,A=_):k=k.next=K,Re.lanes|=re,Oi|=re;$=$.next}while($!==null&&$!==s);if(k===null?A=_:k.next=M,!Pn(_,a.memoizedState)&&(It=!0,te&&(u=vo,u!==null)))throw u;a.memoizedState=_,a.baseState=A,a.baseQueue=k,h.lastRenderedState=_}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Gh(a){var s=Tt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,_=s.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do _=a(_,A.action),A=A.next;while(A!==v);Pn(_,s.memoizedState)||(It=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,h]}function x_(a,s,u){var h=Re,v=Tt(),_=Ge;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var A=!Pn((Qe||v).memoizedState,u);if(A&&(v.memoizedState=u,It=!0),v=v.queue,$h(C_.bind(null,h,v,a),[a]),v.getSnapshot!==s||A||Mt!==null&&Mt.memoizedState.tag&1){if(h.flags|=2048,xo(9,{destroy:void 0},A_.bind(null,h,v,u,s),null),rt===null)throw Error(r(349));_||(Gr&127)!==0||T_(h,s,u)}return u}function T_(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=Re.updateQueue,s===null?(s=Fu(),Re.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function A_(a,s,u,h){s.value=u,s.getSnapshot=h,N_(s)&&R_(a)}function C_(a,s,u){return u(function(){N_(s)&&R_(a)})}function N_(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Pn(a,u)}catch{return!0}}function R_(a){var s=pa(a,2);s!==null&&Tn(s,a,2)}function Hh(a){var s=pn();if(typeof a=="function"){var u=a;if(a=u(),Ea){bi(!0);try{u()}finally{bi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},s}function M_(a,s,u,h){return a.baseState=u,zh(a,Qe,typeof h=="function"?h:Hr)}function c2(a,s,u,h,v){if(Xu(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};H.T!==null?u(!0):_.isTransition=!1,h(_),u=s.pending,u===null?(_.next=s.pending=_,I_(s,_)):(_.next=u.next,s.pending=u.next=_)}}function I_(a,s){var u=s.action,h=s.payload,v=a.state;if(s.isTransition){var _=H.T,A={};H.T=A;try{var M=u(v,h),k=H.S;k!==null&&k(A,M),P_(a,s,M)}catch($){Vh(a,s,$)}finally{_!==null&&A.types!==null&&(_.types=A.types),H.T=_}}else try{_=u(v,h),P_(a,s,_)}catch($){Vh(a,s,$)}}function P_(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){O_(a,s,h)},function(h){return Vh(a,s,h)}):O_(a,s,u)}function O_(a,s,u){s.status="fulfilled",s.value=u,D_(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,I_(a,u)))}function Vh(a,s,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,D_(s),s=s.next;while(s!==h)}a.action=null}function D_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function k_(a,s){return s}function U_(a,s){if(Ge){var u=rt.formState;if(u!==null){e:{var h=Re;if(Ge){if(lt){t:{for(var v=lt,_=er;v.nodeType!==8;){if(!_){v=null;break t}if(v=nr(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){lt=nr(v.nextSibling),h=v.data==="F!";break e}}xi(h)}h=!1}h&&(s=u[0])}}return u=pn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:s},u.queue=h,u=tw.bind(null,Re,h),h.dispatch=u,h=Hh(!1),_=Wh.bind(null,Re,!1,h.queue),h=pn(),v={state:s,dispatch:null,action:a,pending:null},h.queue=v,u=c2.bind(null,Re,v,_,u),v.dispatch=u,h.memoizedState=a,[s,u,!1]}function L_(a){var s=Tt();return q_(s,Qe,a)}function q_(a,s,u){if(s=zh(a,s,k_)[0],a=Yu(Hr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ys(s)}catch(A){throw A===bo?qu:A}else h=s;s=Tt();var v=s.queue,_=v.dispatch;return u!==s.memoizedState&&(Re.flags|=2048,xo(9,{destroy:void 0},f2.bind(null,v,u),null)),[h,_,a]}function f2(a,s){a.action=s}function j_(a){var s=Tt(),u=Qe;if(u!==null)return q_(s,u,a);Tt(),s=s.memoizedState,u=Tt();var h=u.queue.dispatch;return u.memoizedState=a,[s,h,!1]}function xo(a,s,u,h){return a={tag:a,create:u,deps:h,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Fu(),Re.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,s.lastEffect=a),a}function B_(){return Tt().memoizedState}function Ju(a,s,u,h){var v=pn();Re.flags|=a,v.memoizedState=xo(1|s,{destroy:void 0},u,h===void 0?null:h)}function Wu(a,s,u,h){var v=Tt();h=h===void 0?null:h;var _=v.memoizedState.inst;Qe!==null&&h!==null&&kh(h,Qe.memoizedState.deps)?v.memoizedState=xo(s,_,u,h):(Re.flags|=a,v.memoizedState=xo(1|s,_,u,h))}function z_(a,s){Ju(8390656,8,a,s)}function $h(a,s){Wu(2048,8,a,s)}function d2(a){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Fu(),Re.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function G_(a){var s=Tt().memoizedState;return d2({ref:s,nextImpl:a}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function H_(a,s){return Wu(4,2,a,s)}function V_(a,s){return Wu(4,4,a,s)}function $_(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function F_(a,s,u){u=u!=null?u.concat([a]):null,Wu(4,4,$_.bind(null,s,a),u)}function Fh(){}function K_(a,s){var u=Tt();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&kh(s,h[1])?h[0]:(u.memoizedState=[a,s],a)}function Y_(a,s){var u=Tt();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&kh(s,h[1]))return h[0];if(h=a(),Ea){bi(!0);try{a()}finally{bi(!1)}}return u.memoizedState=[h,s],h}function Kh(a,s,u){return u===void 0||(Gr&1073741824)!==0&&(qe&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=Jw(),Re.lanes|=a,Oi|=a,u)}function J_(a,s,u,h){return Pn(u,s)?u:wo.current!==null?(a=Kh(a,u,h),Pn(a,s)||(It=!0),a):(Gr&42)===0||(Gr&1073741824)!==0&&(qe&261930)===0?(It=!0,a.memoizedState=u):(a=Jw(),Re.lanes|=a,Oi|=a,s)}function W_(a,s,u,h,v){var _=ae.p;ae.p=_!==0&&8>_?_:8;var A=H.T,M={};H.T=M,Wh(a,!1,s,u);try{var k=v(),$=H.S;if($!==null&&$(M,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=s2(k,h);Js(a,s,te,qn(a))}else Js(a,s,h,qn(a))}catch(re){Js(a,s,{then:function(){},status:"rejected",reason:re},qn())}finally{ae.p=_,A!==null&&M.types!==null&&(A.types=M.types),H.T=A}}function h2(){}function Yh(a,s,u,h){if(a.tag!==5)throw Error(r(476));var v=X_(a).queue;W_(a,v,s,de,u===null?h2:function(){return Q_(a),u(h)})}function X_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:de},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Q_(a){var s=X_(a);s.next===null&&(s=a.alternate.memoizedState),Js(a,s.next.queue,{},qn())}function Jh(){return an(dl)}function Z_(){return Tt().memoizedState}function ew(){return Tt().memoizedState}function p2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=qn();a=Ci(u);var h=Ni(s,a,u);h!==null&&(Tn(h,s,u),Vs(h,s,u)),s={cache:xh()},a.payload=s;return}s=s.return}}function m2(a,s,u){var h=qn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xu(a)?nw(s,u):(u=hh(a,s,u,h),u!==null&&(Tn(u,a,h),rw(u,s,h)))}function tw(a,s,u){var h=qn();Js(a,s,u,h)}function Js(a,s,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xu(a))nw(s,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var A=s.lastRenderedState,M=_(A,u);if(v.hasEagerState=!0,v.eagerState=M,Pn(M,A))return Iu(a,s,v,0),rt===null&&Mu(),!1}catch{}finally{}if(u=hh(a,s,v,h),u!==null)return Tn(u,a,h),rw(u,s,h),!0}return!1}function Wh(a,s,u,h){if(h={lane:2,revertLane:Np(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xu(a)){if(s)throw Error(r(479))}else s=hh(a,u,h,2),s!==null&&Tn(s,a,2)}function Xu(a){var s=a.alternate;return a===Re||s!==null&&s===Re}function nw(a,s){So=Vu=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function rw(a,s,u){if((u&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,u|=h,s.lanes=u,lb(a,u)}}var Ws={readContext:an,use:Ku,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Ws.useEffectEvent=wt;var iw={readContext:an,use:Ku,useCallback:function(a,s){return pn().memoizedState=[a,s===void 0?null:s],a},useContext:an,useEffect:z_,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Ju(4194308,4,$_.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Ju(4194308,4,a,s)},useInsertionEffect:function(a,s){Ju(4,2,a,s)},useMemo:function(a,s){var u=pn();s=s===void 0?null:s;var h=a();if(Ea){bi(!0);try{a()}finally{bi(!1)}}return u.memoizedState=[h,s],h},useReducer:function(a,s,u){var h=pn();if(u!==void 0){var v=u(s);if(Ea){bi(!0);try{u(s)}finally{bi(!1)}}}else v=s;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=m2.bind(null,Re,a),[h.memoizedState,a]},useRef:function(a){var s=pn();return a={current:a},s.memoizedState=a},useState:function(a){a=Hh(a);var s=a.queue,u=tw.bind(null,Re,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:Fh,useDeferredValue:function(a,s){var u=pn();return Kh(u,a,s)},useTransition:function(){var a=Hh(!1);return a=W_.bind(null,Re,a.queue,!0,!1),pn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var h=Re,v=pn();if(Ge){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),rt===null)throw Error(r(349));(qe&127)!==0||T_(h,s,u)}v.memoizedState=u;var _={value:u,getSnapshot:s};return v.queue=_,z_(C_.bind(null,h,_,a),[a]),h.flags|=2048,xo(9,{destroy:void 0},A_.bind(null,h,_,u,s),null),u},useId:function(){var a=pn(),s=rt.identifierPrefix;if(Ge){var u=Nr,h=Cr;u=(h&~(1<<32-In(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=$u++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=l2++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Jh,useFormState:U_,useActionState:U_,useOptimistic:function(a){var s=pn();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Wh.bind(null,Re,!0,u),u.dispatch=s,[a,s]},useMemoCache:Bh,useCacheRefresh:function(){return pn().memoizedState=p2.bind(null,Re)},useEffectEvent:function(a){var s=pn(),u={impl:a};return s.memoizedState=u,function(){if((Ke&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Xh={readContext:an,use:Ku,useCallback:K_,useContext:an,useEffect:$h,useImperativeHandle:F_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:Y_,useReducer:Yu,useRef:B_,useState:function(){return Yu(Hr)},useDebugValue:Fh,useDeferredValue:function(a,s){var u=Tt();return J_(u,Qe.memoizedState,a,s)},useTransition:function(){var a=Yu(Hr)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:Ys(a),s]},useSyncExternalStore:x_,useId:Z_,useHostTransitionStatus:Jh,useFormState:L_,useActionState:L_,useOptimistic:function(a,s){var u=Tt();return M_(u,Qe,a,s)},useMemoCache:Bh,useCacheRefresh:ew};Xh.useEffectEvent=G_;var aw={readContext:an,use:Ku,useCallback:K_,useContext:an,useEffect:$h,useImperativeHandle:F_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:Y_,useReducer:Gh,useRef:B_,useState:function(){return Gh(Hr)},useDebugValue:Fh,useDeferredValue:function(a,s){var u=Tt();return Qe===null?Kh(u,a,s):J_(u,Qe.memoizedState,a,s)},useTransition:function(){var a=Gh(Hr)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:Ys(a),s]},useSyncExternalStore:x_,useId:Z_,useHostTransitionStatus:Jh,useFormState:j_,useActionState:j_,useOptimistic:function(a,s){var u=Tt();return Qe!==null?M_(u,Qe,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:ew};aw.useEffectEvent=G_;function Qh(a,s,u,h){s=a.memoizedState,u=u(h,s),u=u==null?s:g({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Zh={enqueueSetState:function(a,s,u){a=a._reactInternals;var h=qn(),v=Ci(h);v.payload=s,u!=null&&(v.callback=u),s=Ni(a,v,h),s!==null&&(Tn(s,a,h),Vs(s,a,h))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var h=qn(),v=Ci(h);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Ni(a,v,h),s!==null&&(Tn(s,a,h),Vs(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=qn(),h=Ci(u);h.tag=2,s!=null&&(h.callback=s),s=Ni(a,h,u),s!==null&&(Tn(s,a,u),Vs(s,a,u))}};function ow(a,s,u,h,v,_,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,_,A):s.prototype&&s.prototype.isPureReactComponent?!Us(u,h)||!Us(v,_):!0}function sw(a,s,u,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==a&&Zh.enqueueReplaceState(s,s.state,null)}function xa(a,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(a=a.defaultProps){u===s&&(u=g({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function lw(a){Ru(a)}function uw(a){console.error(a)}function cw(a){Ru(a)}function Qu(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function fw(a,s,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ep(a,s,u){return u=Ci(u),u.tag=3,u.payload={element:null},u.callback=function(){Qu(a,s)},u}function dw(a){return a=Ci(a),a.tag=3,a}function hw(a,s,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;a.payload=function(){return v(_)},a.callback=function(){fw(s,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){fw(s,u,h),typeof v!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function g2(a,s,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&go(s,u,v,!0),u=Dn.current,u!==null){switch(u.tag){case 31:case 13:return tr===null?cc():u.alternate===null&&St===0&&(St=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===ju?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),Tp(a,h,v)),!1;case 22:return u.flags|=65536,h===ju?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),Tp(a,h,v)),!1}throw Error(r(435,u.tag))}return Tp(a,h,v),cc(),!1}if(Ge)return s=Dn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,h!==bh&&(a=Error(r(422),{cause:h}),js(Xn(a,u)))):(h!==bh&&(s=Error(r(423),{cause:h}),js(Xn(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Xn(h,u),v=ep(a.stateNode,h,v),Mh(a,v),St!==4&&(St=2)),!1;var _=Error(r(520),{cause:h});if(_=Xn(_,u),il===null?il=[_]:il.push(_),St!==4&&(St=2),s===null)return!0;h=Xn(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=ep(u.stateNode,h,a),Mh(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Di===null||!Di.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=dw(v),hw(v,a,u,h),Mh(u,v),!1}u=u.return}while(u!==null);return!1}var tp=Error(r(461)),It=!1;function on(a,s,u,h){s.child=a===null?y_(s,null,u,h):Sa(s,a.child,u,h)}function pw(a,s,u,h,v){u=u.render;var _=s.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return va(s),h=Uh(a,s,u,A,_,v),M=Lh(),a!==null&&!It?(qh(a,s,v),Vr(a,s,v)):(Ge&&M&&yh(s),s.flags|=1,on(a,s,h,v),s.child)}function mw(a,s,u,h,v){if(a===null){var _=u.type;return typeof _=="function"&&!ph(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,gw(a,s,_,h,v)):(a=Ou(u.type,null,h,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!up(a,v)){var A=_.memoizedProps;if(u=u.compare,u=u!==null?u:Us,u(A,h)&&a.ref===s.ref)return Vr(a,s,v)}return s.flags|=1,a=qr(_,h),a.ref=s.ref,a.return=s,s.child=a}function gw(a,s,u,h,v){if(a!==null){var _=a.memoizedProps;if(Us(_,h)&&a.ref===s.ref)if(It=!1,s.pendingProps=h=_,up(a,v))(a.flags&131072)!==0&&(It=!0);else return s.lanes=a.lanes,Vr(a,s,v)}return np(a,s,u,h,v)}function yw(a,s,u,h){var v=h.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(h=s.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,s.child=null;return vw(a,s,_,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lu(s,_!==null?_.cachePool:null),_!==null?__(s,_):Ph(),w_(s);else return h=s.lanes=536870912,vw(a,s,_!==null?_.baseLanes|u:u,u,h)}else _!==null?(Lu(s,_.cachePool),__(s,_),Mi(),s.memoizedState=null):(a!==null&&Lu(s,null),Ph(),Mi());return on(a,s,v,u),s.child}function Xs(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vw(a,s,u,h,v){var _=Ah();return _=_===null?null:{parent:Rt._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&Lu(s,null),Ph(),w_(s),a!==null&&go(a,s,h,!0),s.childLanes=v,null}function Zu(a,s){return s=tc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function bw(a,s,u){return Sa(s,a.child,null,u),a=Zu(s,s.pendingProps),a.flags|=2,kn(s),s.memoizedState=null,a}function y2(a,s,u){var h=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ge){if(h.mode==="hidden")return a=Zu(s,h),s.lanes=536870912,Xs(null,a);if(Dh(s),(a=lt)?(a=IS(a,er),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Si!==null?{id:Cr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},u=n_(a),u.return=s,s.child=u,rn=s,lt=null)):a=null,a===null)throw xi(s);return s.lanes=536870912,null}return Zu(s,h)}var _=a.memoizedState;if(_!==null){var A=_.dehydrated;if(Dh(s),v)if(s.flags&256)s.flags&=-257,s=bw(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(It||go(a,s,u,!1),v=(u&a.childLanes)!==0,It||v){if(h=rt,h!==null&&(A=ub(h,u),A!==0&&A!==_.retryLane))throw _.retryLane=A,pa(a,A),Tn(h,a,A),tp;cc(),s=bw(a,s,u)}else a=_.treeContext,lt=nr(A.nextSibling),rn=s,Ge=!0,Ei=null,er=!1,a!==null&&a_(s,a),s=Zu(s,h),s.flags|=4096;return s}return a=qr(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function ec(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function np(a,s,u,h,v){return va(s),u=Uh(a,s,u,h,void 0,v),h=Lh(),a!==null&&!It?(qh(a,s,v),Vr(a,s,v)):(Ge&&h&&yh(s),s.flags|=1,on(a,s,u,v),s.child)}function _w(a,s,u,h,v,_){return va(s),s.updateQueue=null,u=E_(s,h,u,v),S_(a),h=Lh(),a!==null&&!It?(qh(a,s,_),Vr(a,s,_)):(Ge&&h&&yh(s),s.flags|=1,on(a,s,u,_),s.child)}function ww(a,s,u,h,v){if(va(s),s.stateNode===null){var _=fo,A=u.contextType;typeof A=="object"&&A!==null&&(_=an(A)),_=new u(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Zh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Nh(s),A=u.contextType,_.context=typeof A=="object"&&A!==null?an(A):fo,_.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Qh(s,u,A,h),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Zh.enqueueReplaceState(_,_.state,null),Fs(s,h,_,v),$s(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){_=s.stateNode;var M=s.memoizedProps,k=xa(u,M);_.props=k;var $=_.context,te=u.contextType;A=fo,typeof te=="object"&&te!==null&&(A=an(te));var re=u.getDerivedStateFromProps;te=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||$!==A)&&sw(s,_,h,A),Ai=!1;var K=s.memoizedState;_.state=K,Fs(s,h,_,v),$s(),$=s.memoizedState,M||K!==$||Ai?(typeof re=="function"&&(Qh(s,u,re,h),$=s.memoizedState),(k=Ai||ow(s,u,k,h,K,$,A))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=$),_.props=h,_.state=$,_.context=A,h=k):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Rh(a,s),A=s.memoizedProps,te=xa(u,A),_.props=te,re=s.pendingProps,K=_.context,$=u.contextType,k=fo,typeof $=="object"&&$!==null&&(k=an($)),M=u.getDerivedStateFromProps,($=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==re||K!==k)&&sw(s,_,h,k),Ai=!1,K=s.memoizedState,_.state=K,Fs(s,h,_,v),$s();var X=s.memoizedState;A!==re||K!==X||Ai||a!==null&&a.dependencies!==null&&ku(a.dependencies)?(typeof M=="function"&&(Qh(s,u,M,h),X=s.memoizedState),(te=Ai||ow(s,u,te,h,K,X,k)||a!==null&&a.dependencies!==null&&ku(a.dependencies))?($||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,X,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,X,k)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=X),_.props=h,_.state=X,_.context=k,h=te):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),h=!1)}return _=h,ec(a,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&h?(s.child=Sa(s,a.child,null,v),s.child=Sa(s,null,u,v)):on(a,s,u,v),s.memoizedState=_.state,a=s.child):a=Vr(a,s,v),a}function Sw(a,s,u,h){return ga(),s.flags|=256,on(a,s,u,h),s.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(a){return{baseLanes:a,cachePool:f_()}}function ap(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Ln),a}function Ew(a,s,u){var h=s.pendingProps,v=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=a!==null&&a.memoizedState===null?!1:(xt.current&2)!==0),A&&(v=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ge){if(v?Ri(s):Mi(),(a=lt)?(a=IS(a,er),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Si!==null?{id:Cr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},u=n_(a),u.return=s,s.child=u,rn=s,lt=null)):a=null,a===null)throw xi(s);return zp(a)?s.lanes=32:s.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(Mi(),v=s.mode,M=tc({mode:"hidden",children:M},v),h=ma(h,v,u,null),M.return=s,h.return=s,M.sibling=h,s.child=M,h=s.child,h.memoizedState=ip(u),h.childLanes=ap(a,A,u),s.memoizedState=rp,Xs(null,h)):(Ri(s),op(s,M))}var k=a.memoizedState;if(k!==null&&(M=k.dehydrated,M!==null)){if(_)s.flags&256?(Ri(s),s.flags&=-257,s=sp(a,s,u)):s.memoizedState!==null?(Mi(),s.child=a.child,s.flags|=128,s=null):(Mi(),M=h.fallback,v=s.mode,h=tc({mode:"visible",children:h.children},v),M=ma(M,v,u,null),M.flags|=2,h.return=s,M.return=s,h.sibling=M,s.child=h,Sa(s,a.child,null,u),h=s.child,h.memoizedState=ip(u),h.childLanes=ap(a,A,u),s.memoizedState=rp,s=Xs(null,h));else if(Ri(s),zp(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var $=A.dgst;A=$,h=Error(r(419)),h.stack="",h.digest=A,js({value:h,source:null,stack:null}),s=sp(a,s,u)}else if(It||go(a,s,u,!1),A=(u&a.childLanes)!==0,It||A){if(A=rt,A!==null&&(h=ub(A,u),h!==0&&h!==k.retryLane))throw k.retryLane=h,pa(a,h),Tn(A,a,h),tp;Bp(M)||cc(),s=sp(a,s,u)}else Bp(M)?(s.flags|=192,s.child=a.child,s=null):(a=k.treeContext,lt=nr(M.nextSibling),rn=s,Ge=!0,Ei=null,er=!1,a!==null&&a_(s,a),s=op(s,h.children),s.flags|=4096);return s}return v?(Mi(),M=h.fallback,v=s.mode,k=a.child,$=k.sibling,h=qr(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&65011712,$!==null?M=qr($,M):(M=ma(M,v,u,null),M.flags|=2),M.return=s,h.return=s,h.sibling=M,s.child=h,Xs(null,h),h=s.child,M=a.child.memoizedState,M===null?M=ip(u):(v=M.cachePool,v!==null?(k=Rt._currentValue,v=v.parent!==k?{parent:k,pool:k}:v):v=f_(),M={baseLanes:M.baseLanes|u,cachePool:v}),h.memoizedState=M,h.childLanes=ap(a,A,u),s.memoizedState=rp,Xs(a.child,h)):(Ri(s),u=a.child,a=u.sibling,u=qr(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,a!==null&&(A=s.deletions,A===null?(s.deletions=[a],s.flags|=16):A.push(a)),s.child=u,s.memoizedState=null,u)}function op(a,s){return s=tc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function tc(a,s){return a=On(22,a,null,s),a.lanes=0,a}function sp(a,s,u){return Sa(s,a.child,null,u),a=op(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function xw(a,s,u){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Sh(a.return,s,u)}function lp(a,s,u,h,v,_){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:_}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=v,A.treeForkCount=_)}function Tw(a,s,u){var h=s.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var A=xt.current,M=(A&2)!==0;if(M?(A=A&1|2,s.flags|=128):A&=1,F(xt,A),on(a,s,h,u),h=Ge?qs:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xw(a,u,s);else if(a.tag===19)xw(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&Hu(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),lp(s,!1,v,u,_,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&Hu(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}lp(s,!0,u,null,_,h);break;case"together":lp(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Vr(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Oi|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(go(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=qr(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=qr(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function up(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&ku(a)))}function v2(a,s,u){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),Ti(s,Rt,a.memoizedState.cache),ga();break;case 27:case 5:ee(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:Ti(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dh(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Ri(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Ew(a,s,u):(Ri(s),a=Vr(a,s,u),a!==null?a.sibling:null);Ri(s);break;case 19:var v=(a.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(go(a,s,u,!1),h=(u&s.childLanes)!==0),v){if(h)return Tw(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),F(xt,xt.current),h)break;return null;case 22:return s.lanes=0,yw(a,s,u,s.pendingProps);case 24:Ti(s,Rt,a.memoizedState.cache)}return Vr(a,s,u)}function Aw(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)It=!0;else{if(!up(a,u)&&(s.flags&128)===0)return It=!1,v2(a,s,u);It=(a.flags&131072)!==0}else It=!1,Ge&&(s.flags&1048576)!==0&&i_(s,qs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=_a(s.elementType),s.type=a,typeof a=="function")ph(a)?(h=xa(a,h),s.tag=1,s=ww(null,s,a,h,u)):(s.tag=0,s=np(null,s,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===O){s.tag=11,s=pw(null,s,a,h,u);break e}else if(v===q){s.tag=14,s=mw(null,s,a,h,u);break e}}throw s=ye(a)||a,Error(r(306,s,""))}}return s;case 0:return np(a,s,s.type,s.pendingProps,u);case 1:return h=s.type,v=xa(h,s.pendingProps),ww(a,s,h,v,u);case 3:e:{if(pe(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;v=_.element,Rh(a,s),Fs(s,h,null,u);var A=s.memoizedState;if(h=A.cache,Ti(s,Rt,h),h!==_.cache&&Eh(s,[Rt],u,!0),$s(),h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Sw(a,s,h,u);break e}else if(h!==v){v=Xn(Error(r(424)),s),js(v),s=Sw(a,s,h,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(lt=nr(a.firstChild),rn=s,Ge=!0,Ei=null,er=!0,u=y_(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ga(),h===v){s=Vr(a,s,u);break e}on(a,s,h,u)}s=s.child}return s;case 26:return ec(a,s),a===null?(u=LS(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ge||(u=s.type,a=s.pendingProps,h=yc(le.current).createElement(u),h[nn]=s,h[bn]=a,sn(h,u,a),Kt(h),s.stateNode=h):s.memoizedState=LS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ee(s),a===null&&Ge&&(h=s.stateNode=DS(s.type,s.pendingProps,le.current),rn=s,er=!0,v=lt,qi(s.type)?(Gp=v,lt=nr(h.firstChild)):lt=v),on(a,s,s.pendingProps.children,u),ec(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ge&&((v=h=lt)&&(h=Y2(h,s.type,s.pendingProps,er),h!==null?(s.stateNode=h,rn=s,lt=nr(h.firstChild),er=!1,v=!0):v=!1),v||xi(s)),ee(s),v=s.type,_=s.pendingProps,A=a!==null?a.memoizedProps:null,h=_.children,Lp(v,_)?h=null:A!==null&&Lp(v,A)&&(s.flags|=32),s.memoizedState!==null&&(v=Uh(a,s,u2,null,null,u),dl._currentValue=v),ec(a,s),on(a,s,h,u),s.child;case 6:return a===null&&Ge&&((a=u=lt)&&(u=J2(u,s.pendingProps,er),u!==null?(s.stateNode=u,rn=s,lt=null,a=!0):a=!1),a||xi(s)),null;case 13:return Ew(a,s,u);case 4:return pe(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Sa(s,null,h,u):on(a,s,h,u),s.child;case 11:return pw(a,s,s.type,s.pendingProps,u);case 7:return on(a,s,s.pendingProps,u),s.child;case 8:return on(a,s,s.pendingProps.children,u),s.child;case 12:return on(a,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Ti(s,s.type,h.value),on(a,s,h.children,u),s.child;case 9:return v=s.type._context,h=s.pendingProps.children,va(s),v=an(v),h=h(v),s.flags|=1,on(a,s,h,u),s.child;case 14:return mw(a,s,s.type,s.pendingProps,u);case 15:return gw(a,s,s.type,s.pendingProps,u);case 19:return Tw(a,s,u);case 31:return y2(a,s,u);case 22:return yw(a,s,u,s.pendingProps);case 24:return va(s),h=an(Rt),a===null?(v=Ah(),v===null&&(v=rt,_=xh(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),s.memoizedState={parent:h,cache:v},Nh(s),Ti(s,Rt,v)):((a.lanes&u)!==0&&(Rh(a,s),Fs(s,null,null,u),$s()),v=a.memoizedState,_=s.memoizedState,v.parent!==h?(v={parent:h,cache:h},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ti(s,Rt,h)):(h=_.cache,Ti(s,Rt,h),h!==v.cache&&Eh(s,[Rt],u,!0))),on(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $r(a){a.flags|=4}function cp(a,s,u,h,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Zw())a.flags|=8192;else throw wa=ju,Ch}else a.flags&=-16777217}function Cw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!GS(s))if(Zw())a.flags|=8192;else throw wa=ju,Ch}function nc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ob():536870912,a.lanes|=s,No|=s)}function Qs(a,s){if(!Ge)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function ut(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,s}function b2(a,s,u){var h=s.pendingProps;switch(vh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return u=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),zr(Rt),Q(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(mo(s)?$r(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_h())),ut(s),null;case 26:var v=s.type,_=s.memoizedState;return a===null?($r(s),_!==null?(ut(s),Cw(s,_)):(ut(s),cp(s,v,null,h,u))):_?_!==a.memoizedState?($r(s),ut(s),Cw(s,_)):(ut(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&$r(s),ut(s),cp(s,v,a,h,u)),null;case 27:if(ce(s),u=le.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&$r(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return ut(s),null}a=G.current,mo(s)?o_(s):(a=DS(v,h,u),s.stateNode=a,$r(s))}return ut(s),null;case 5:if(ce(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&$r(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(_=G.current,mo(s))o_(s);else{var A=yc(le.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?A.createElement(v,{is:h.is}):A.createElement(v)}}_[nn]=s,_[bn]=h;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=_;e:switch(sn(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&$r(s)}}return ut(s),cp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&$r(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=le.current,mo(s)){if(a=s.stateNode,u=s.memoizedProps,h=null,v=rn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[nn]=s,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||ES(a.nodeValue,u)),a||xi(s,!0)}else a=yc(a).createTextNode(h),a[nn]=s,s.stateNode=a}return ut(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(h=mo(s),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[nn]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),a=!1}else u=_h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(kn(s),s):(kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ut(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=mo(s),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[nn]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),v=!1}else v=_h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(kn(s),s):(kn(s),null)}return kn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=s.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),nc(s,s.updateQueue),ut(s),null);case 4:return Q(),a===null&&Pp(s.stateNode.containerInfo),ut(s),null;case 10:return zr(s.type),ut(s),null;case 19:if(U(xt),h=s.memoizedState,h===null)return ut(s),null;if(v=(s.flags&128)!==0,_=h.rendering,_===null)if(v)Qs(h,!1);else{if(St!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=Hu(a),_!==null){for(s.flags|=128,Qs(h,!1),a=_.updateQueue,s.updateQueue=a,nc(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)t_(u,a),u=u.sibling;return F(xt,xt.current&1|2),Ge&&jr(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Nt()>sc&&(s.flags|=128,v=!0,Qs(h,!1),s.lanes=4194304)}else{if(!v)if(a=Hu(_),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,nc(s,a),Qs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Ge)return ut(s),null}else 2*Nt()-h.renderingStartTime>sc&&u!==536870912&&(s.flags|=128,v=!0,Qs(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(a=h.last,a!==null?a.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Nt(),a.sibling=null,u=xt.current,F(xt,v?u&1|2:u&1),Ge&&jr(s,h.treeForkCount),a):(ut(s),null);case 22:case 23:return kn(s),Oh(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),u=s.updateQueue,u!==null&&nc(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),a!==null&&U(ba),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zr(Rt),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _2(a,s){switch(vh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return zr(Rt),Q(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(kn(s),s.alternate===null)throw Error(r(340));ga()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(kn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ga()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return U(xt),null;case 4:return Q(),null;case 10:return zr(s.type),null;case 22:case 23:return kn(s),Oh(),a!==null&&U(ba),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return zr(Rt),null;case 25:return null;default:return null}}function Nw(a,s){switch(vh(s),s.tag){case 3:zr(Rt),Q();break;case 26:case 27:case 5:ce(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&kn(s);break;case 13:kn(s);break;case 19:U(xt);break;case 10:zr(s.type);break;case 22:case 23:kn(s),Oh(),a!==null&&U(ba);break;case 24:zr(Rt)}}function Zs(a,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var _=u.create,A=u.inst;h=_(),A.destroy=h}u=u.next}while(u!==v)}}catch(M){Je(s,s.return,M)}}function Ii(a,s,u){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&a)===a){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,v=s;var k=u,$=M;try{$()}catch(te){Je(v,k,te)}}}h=h.next}while(h!==_)}}catch(te){Je(s,s.return,te)}}function Rw(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{b_(s,u)}catch(h){Je(a,a.return,h)}}}function Mw(a,s,u){u.props=xa(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){Je(a,s,h)}}function el(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){Je(a,s,v)}}function Rr(a,s){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Je(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Je(a,s,v)}else u.current=null}function Iw(a){var s=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Je(a,a.return,v)}}function fp(a,s,u){try{var h=a.stateNode;G2(h,a.type,u,s),h[bn]=s}catch(v){Je(a,a.return,v)}}function Pw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qi(a.type)||a.tag===4}function dp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Pw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hp(a,s,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ur));else if(h!==4&&(h===27&&qi(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(hp(a,s,u),a=a.sibling;a!==null;)hp(a,s,u),a=a.sibling}function rc(a,s,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(h!==4&&(h===27&&qi(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(rc(a,s,u),a=a.sibling;a!==null;)rc(a,s,u),a=a.sibling}function Ow(a){var s=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);sn(s,h,u),s[nn]=a,s[bn]=u}catch(_){Je(a,a.return,_)}}var Fr=!1,Pt=!1,pp=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function w2(a,s){if(a=a.containerInfo,kp=xc,a=Fb(a),sh(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var A=0,M=-1,k=-1,$=0,te=0,re=a,K=null;t:for(;;){for(var X;re!==u||v!==0&&re.nodeType!==3||(M=A+v),re!==_||h!==0&&re.nodeType!==3||(k=A+h),re.nodeType===3&&(A+=re.nodeValue.length),(X=re.firstChild)!==null;)K=re,re=X;for(;;){if(re===a)break t;if(K===u&&++$===v&&(M=A),K===_&&++te===h&&(k=A),(X=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=X}u=M===-1||k===-1?null:{start:M,end:k}}else u=null}u=u||{start:0,end:0}}else u=null;for(Up={focusedElem:a,selectionRange:u},xc=!1,Yt=s;Yt!==null;)if(s=Yt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Yt=a;else for(;Yt!==null;){switch(s=Yt,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,v=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var ge=xa(u.type,v);a=h.getSnapshotBeforeUpdate(ge,_),h.__reactInternalSnapshotBeforeUpdate=a}catch(xe){Je(u,u.return,xe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)jp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":jp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Yt=a;break}Yt=s.return}}function kw(a,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Yr(a,u),h&4&&Zs(5,u);break;case 1:if(Yr(a,u),h&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(A){Je(u,u.return,A)}else{var v=xa(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Je(u,u.return,A)}}h&64&&Rw(u),h&512&&el(u,u.return);break;case 3:if(Yr(a,u),h&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{b_(a,s)}catch(A){Je(u,u.return,A)}}break;case 27:s===null&&h&4&&Ow(u);case 26:case 5:Yr(a,u),s===null&&h&4&&Iw(u),h&512&&el(u,u.return);break;case 12:Yr(a,u);break;case 31:Yr(a,u),h&4&&qw(a,u);break;case 13:Yr(a,u),h&4&&jw(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=M2.bind(null,u),W2(a,u))));break;case 22:if(h=u.memoizedState!==null||Fr,!h){s=s!==null&&s.memoizedState!==null||Pt,v=Fr;var _=Pt;Fr=h,(Pt=s)&&!_?Jr(a,u,(u.subtreeFlags&8772)!==0):Yr(a,u),Fr=v,Pt=_}break;case 30:break;default:Yr(a,u)}}function Uw(a){var s=a.alternate;s!==null&&(a.alternate=null,Uw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Vd(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ht=null,wn=!1;function Kr(a,s,u){for(u=u.child;u!==null;)Lw(a,s,u),u=u.sibling}function Lw(a,s,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(xs,u)}catch{}switch(u.tag){case 26:Pt||Rr(u,s),Kr(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pt||Rr(u,s);var h=ht,v=wn;qi(u.type)&&(ht=u.stateNode,wn=!1),Kr(a,s,u),ul(u.stateNode),ht=h,wn=v;break;case 5:Pt||Rr(u,s);case 6:if(h=ht,v=wn,ht=null,Kr(a,s,u),ht=h,wn=v,ht!==null)if(wn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(u.stateNode)}catch(_){Je(u,s,_)}else try{ht.removeChild(u.stateNode)}catch(_){Je(u,s,_)}break;case 18:ht!==null&&(wn?(a=ht,RS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Uo(a)):RS(ht,u.stateNode));break;case 4:h=ht,v=wn,ht=u.stateNode.containerInfo,wn=!0,Kr(a,s,u),ht=h,wn=v;break;case 0:case 11:case 14:case 15:Ii(2,u,s),Pt||Ii(4,u,s),Kr(a,s,u);break;case 1:Pt||(Rr(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Mw(u,s,h)),Kr(a,s,u);break;case 21:Kr(a,s,u);break;case 22:Pt=(h=Pt)||u.memoizedState!==null,Kr(a,s,u),Pt=h;break;default:Kr(a,s,u)}}function qw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Uo(a)}catch(u){Je(s,s.return,u)}}}function jw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Uo(a)}catch(u){Je(s,s.return,u)}}function S2(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Dw),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Dw),s;default:throw Error(r(435,a.tag))}}function ic(a,s){var u=S2(a);s.forEach(function(h){if(!u.has(h)){u.add(h);var v=I2.bind(null,a,h);h.then(v,v)}})}function Sn(a,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],_=a,A=s,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(qi(M.type)){ht=M.stateNode,wn=!1;break e}break;case 5:ht=M.stateNode,wn=!1;break e;case 3:case 4:ht=M.stateNode.containerInfo,wn=!0;break e}M=M.return}if(ht===null)throw Error(r(160));Lw(_,A,v),ht=null,wn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Bw(s,a),s=s.sibling}var pr=null;function Bw(a,s){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Sn(s,a),En(a),h&4&&(Ii(3,a,a.return),Zs(3,a),Ii(5,a,a.return));break;case 1:Sn(s,a),En(a),h&512&&(Pt||u===null||Rr(u,u.return)),h&64&&Fr&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=pr;if(Sn(s,a),En(a),h&512&&(Pt||u===null||Rr(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Cs]||_[nn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),sn(_,h,u),_[nn]=a,Kt(_),h=_;break e;case"link":var A=BS("link","href",v).get(h+(u.href||""));if(A){for(var M=0;M<A.length;M++)if(_=A[M],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(M,1);break t}}_=v.createElement(h),sn(_,h,u),v.head.appendChild(_);break;case"meta":if(A=BS("meta","content",v).get(h+(u.content||""))){for(M=0;M<A.length;M++)if(_=A[M],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(M,1);break t}}_=v.createElement(h),sn(_,h,u),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[nn]=a,Kt(_),h=_}a.stateNode=h}else zS(v,a.type,a.stateNode);else a.stateNode=jS(v,h,a.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?zS(v,a.type,a.stateNode):jS(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&fp(a,a.memoizedProps,u.memoizedProps)}break;case 27:Sn(s,a),En(a),h&512&&(Pt||u===null||Rr(u,u.return)),u!==null&&h&4&&fp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Sn(s,a),En(a),h&512&&(Pt||u===null||Rr(u,u.return)),a.flags&32){v=a.stateNode;try{io(v,"")}catch(ge){Je(a,a.return,ge)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,fp(a,v,u!==null?u.memoizedProps:v)),h&1024&&(pp=!0);break;case 6:if(Sn(s,a),En(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(ge){Je(a,a.return,ge)}}break;case 3:if(_c=null,v=pr,pr=vc(s.containerInfo),Sn(s,a),pr=v,En(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Uo(s.containerInfo)}catch(ge){Je(a,a.return,ge)}pp&&(pp=!1,zw(a));break;case 4:h=pr,pr=vc(a.stateNode.containerInfo),Sn(s,a),En(a),pr=h;break;case 12:Sn(s,a),En(a);break;case 31:Sn(s,a),En(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ic(a,h)));break;case 13:Sn(s,a),En(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(oc=Nt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ic(a,h)));break;case 22:v=a.memoizedState!==null;var k=u!==null&&u.memoizedState!==null,$=Fr,te=Pt;if(Fr=$||v,Pt=te||k,Sn(s,a),Pt=te,Fr=$,En(a),h&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||k||Fr||Pt||Ta(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){k=u=s;try{if(_=k.stateNode,v)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=k.stateNode;var re=k.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;M.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){Je(k,k.return,ge)}}}else if(s.tag===6){if(u===null){k=s;try{k.stateNode.nodeValue=v?"":k.memoizedProps}catch(ge){Je(k,k.return,ge)}}}else if(s.tag===18){if(u===null){k=s;try{var X=k.stateNode;v?MS(X,!0):MS(k.stateNode,!1)}catch(ge){Je(k,k.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ic(a,u))));break;case 19:Sn(s,a),En(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ic(a,h)));break;case 30:break;case 21:break;default:Sn(s,a),En(a)}}function En(a){var s=a.flags;if(s&2){try{for(var u,h=a.return;h!==null;){if(Pw(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=dp(a);rc(a,_,v);break;case 5:var A=u.stateNode;u.flags&32&&(io(A,""),u.flags&=-33);var M=dp(a);rc(a,M,A);break;case 3:case 4:var k=u.stateNode.containerInfo,$=dp(a);hp(a,$,k);break;default:throw Error(r(161))}}catch(te){Je(a,a.return,te)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function zw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;zw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Yr(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kw(a,s.alternate,s),s=s.sibling}function Ta(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ii(4,s,s.return),Ta(s);break;case 1:Rr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Mw(s,s.return,u),Ta(s);break;case 27:ul(s.stateNode);case 26:case 5:Rr(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}a=a.sibling}}function Jr(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,v=a,_=s,A=_.flags;switch(_.tag){case 0:case 11:case 15:Jr(v,_,u),Zs(4,_);break;case 1:if(Jr(v,_,u),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch($){Je(h,h.return,$)}if(h=_,v=h.updateQueue,v!==null){var M=h.stateNode;try{var k=v.shared.hiddenCallbacks;if(k!==null)for(v.shared.hiddenCallbacks=null,v=0;v<k.length;v++)v_(k[v],M)}catch($){Je(h,h.return,$)}}u&&A&64&&Rw(_),el(_,_.return);break;case 27:Ow(_);case 26:case 5:Jr(v,_,u),u&&h===null&&A&4&&Iw(_),el(_,_.return);break;case 12:Jr(v,_,u);break;case 31:Jr(v,_,u),u&&A&4&&qw(v,_);break;case 13:Jr(v,_,u),u&&A&4&&jw(v,_);break;case 22:_.memoizedState===null&&Jr(v,_,u),el(_,_.return);break;case 30:break;default:Jr(v,_,u)}s=s.sibling}}function mp(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Bs(u))}function gp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bs(a))}function mr(a,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gw(a,s,u,h),s=s.sibling}function Gw(a,s,u,h){var v=s.flags;switch(s.tag){case 0:case 11:case 15:mr(a,s,u,h),v&2048&&Zs(9,s);break;case 1:mr(a,s,u,h);break;case 3:mr(a,s,u,h),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bs(a)));break;case 12:if(v&2048){mr(a,s,u,h),a=s.stateNode;try{var _=s.memoizedProps,A=_.id,M=_.onPostCommit;typeof M=="function"&&M(A,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(k){Je(s,s.return,k)}}else mr(a,s,u,h);break;case 31:mr(a,s,u,h);break;case 13:mr(a,s,u,h);break;case 23:break;case 22:_=s.stateNode,A=s.alternate,s.memoizedState!==null?_._visibility&2?mr(a,s,u,h):tl(a,s):_._visibility&2?mr(a,s,u,h):(_._visibility|=2,To(a,s,u,h,(s.subtreeFlags&10256)!==0||!1)),v&2048&&mp(A,s);break;case 24:mr(a,s,u,h),v&2048&&gp(s.alternate,s);break;default:mr(a,s,u,h)}}function To(a,s,u,h,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,A=s,M=u,k=h,$=A.flags;switch(A.tag){case 0:case 11:case 15:To(_,A,M,k,v),Zs(8,A);break;case 23:break;case 22:var te=A.stateNode;A.memoizedState!==null?te._visibility&2?To(_,A,M,k,v):tl(_,A):(te._visibility|=2,To(_,A,M,k,v)),v&&$&2048&&mp(A.alternate,A);break;case 24:To(_,A,M,k,v),v&&$&2048&&gp(A.alternate,A);break;default:To(_,A,M,k,v)}s=s.sibling}}function tl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,h=s,v=h.flags;switch(h.tag){case 22:tl(u,h),v&2048&&mp(h.alternate,h);break;case 24:tl(u,h),v&2048&&gp(h.alternate,h);break;default:tl(u,h)}s=s.sibling}}var nl=8192;function Ao(a,s,u){if(a.subtreeFlags&nl)for(a=a.child;a!==null;)Hw(a,s,u),a=a.sibling}function Hw(a,s,u){switch(a.tag){case 26:Ao(a,s,u),a.flags&nl&&a.memoizedState!==null&&lk(u,pr,a.memoizedState,a.memoizedProps);break;case 5:Ao(a,s,u);break;case 3:case 4:var h=pr;pr=vc(a.stateNode.containerInfo),Ao(a,s,u),pr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=nl,nl=16777216,Ao(a,s,u),nl=h):Ao(a,s,u));break;default:Ao(a,s,u)}}function Vw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function rl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yt=h,Fw(h,a)}Vw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$w(a),a=a.sibling}function $w(a){switch(a.tag){case 0:case 11:case 15:rl(a),a.flags&2048&&Ii(9,a,a.return);break;case 3:rl(a);break;case 12:rl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,ac(a)):rl(a);break;default:rl(a)}}function ac(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yt=h,Fw(h,a)}Vw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ii(8,s,s.return),ac(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ac(s));break;default:ac(s)}a=a.sibling}}function Fw(a,s){for(;Yt!==null;){var u=Yt;switch(u.tag){case 0:case 11:case 15:Ii(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Bs(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Yt=h;else e:for(u=a;Yt!==null;){h=Yt;var v=h.sibling,_=h.return;if(Uw(h),h===u){Yt=null;break e}if(v!==null){v.return=_,Yt=v;break e}Yt=_}}}var E2={getCacheForType:function(a){var s=an(Rt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return an(Rt).controller.signal}},x2=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Ue=null,qe=0,Ye=0,Un=null,Pi=!1,Co=!1,yp=!1,Wr=0,St=0,Oi=0,Aa=0,vp=0,Ln=0,No=0,il=null,xn=null,bp=!1,oc=0,Kw=0,sc=1/0,lc=null,Di=null,qt=0,ki=null,Ro=null,Xr=0,_p=0,wp=null,Yw=null,al=0,Sp=null;function qn(){return(Ke&2)!==0&&qe!==0?qe&-qe:H.T!==null?Np():cb()}function Jw(){if(Ln===0)if((qe&536870912)===0||Ge){var a=gu;gu<<=1,(gu&3932160)===0&&(gu=262144),Ln=a}else Ln=536870912;return a=Dn.current,a!==null&&(a.flags|=32),Ln}function Tn(a,s,u){(a===rt&&(Ye===2||Ye===9)||a.cancelPendingCommit!==null)&&(Mo(a,0),Ui(a,qe,Ln,!1)),As(a,u),((Ke&2)===0||a!==rt)&&(a===rt&&((Ke&2)===0&&(Aa|=u),St===4&&Ui(a,qe,Ln,!1)),Mr(a))}function Ww(a,s,u){if((Ke&6)!==0)throw Error(r(327));var h=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Ts(a,s),v=h?C2(a,s):xp(a,s,!0),_=h;do{if(v===0){Co&&!h&&Ui(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!T2(u)){v=xp(a,s,!1),_=!1;continue}if(v===2){if(_=s,a.errorRecoveryDisabledLanes&_)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var M=a;v=il;var k=M.current.memoizedState.isDehydrated;if(k&&(Mo(M,A).flags|=256),A=xp(M,A,!1),A!==2){if(yp&&!k){M.errorRecoveryDisabledLanes|=_,Aa|=_,v=4;break e}_=xn,xn=v,_!==null&&(xn===null?xn=_:xn.push.apply(xn,_))}v=A}if(_=!1,v!==2)continue}}if(v===1){Mo(a,0),Ui(a,s,0,!0);break}e:{switch(h=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ui(h,s,Ln,!Pi);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=oc+300-Nt(),10<v)){if(Ui(h,s,Ln,!Pi),vu(h,0,!0)!==0)break e;Xr=s,h.timeoutHandle=CS(Xw.bind(null,h,u,xn,lc,bp,s,Ln,Aa,No,Pi,_,"Throttled",-0,0),v);break e}Xw(h,u,xn,lc,bp,s,Ln,Aa,No,Pi,_,null,-0,0)}}break}while(!0);Mr(a)}function Xw(a,s,u,h,v,_,A,M,k,$,te,re,K,X){if(a.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},Hw(s,_,re);var ge=(_&62914560)===_?oc-Nt():(_&4194048)===_?Kw-Nt():0;if(ge=uk(re,ge),ge!==null){Xr=_,a.cancelPendingCommit=ge(aS.bind(null,a,s,_,u,h,v,A,M,k,te,re,null,K,X)),Ui(a,_,A,!$);return}}aS(a,s,_,u,h,v,A,M,k)}function T2(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],_=v.getSnapshot;v=v.value;try{if(!Pn(_(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(a,s,u,h){s&=~vp,s&=~Aa,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var v=s;0<v;){var _=31-In(v),A=1<<_;h[_]=-1,v&=~A}u!==0&&sb(a,u,s)}function uc(){return(Ke&6)===0?(ol(0),!1):!0}function Ep(){if(Ue!==null){if(Ye===0)var a=Ue.return;else a=Ue,Br=ya=null,jh(a),_o=null,Gs=0,a=Ue;for(;a!==null;)Nw(a.alternate,a),a=a.return;Ue=null}}function Mo(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,$2(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Xr=0,Ep(),rt=a,Ue=u=qr(a.current,null),qe=s,Ye=0,Un=null,Pi=!1,Co=Ts(a,s),yp=!1,No=Ln=vp=Aa=Oi=St=0,xn=il=null,bp=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var v=31-In(h),_=1<<v;s|=a[v],h&=~_}return Wr=s,Mu(),u}function Qw(a,s){Re=null,H.H=Ws,s===bo||s===qu?(s=p_(),Ye=3):s===Ch?(s=p_(),Ye=4):Ye=s===tp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Ue===null&&(St=1,Qu(a,Xn(s,a.current)))}function Zw(){var a=Dn.current;return a===null?!0:(qe&4194048)===qe?tr===null:(qe&62914560)===qe||(qe&536870912)!==0?a===tr:!1}function eS(){var a=H.H;return H.H=Ws,a===null?Ws:a}function tS(){var a=H.A;return H.A=E2,a}function cc(){St=4,Pi||(qe&4194048)!==qe&&Dn.current!==null||(Co=!0),(Oi&134217727)===0&&(Aa&134217727)===0||rt===null||Ui(rt,qe,Ln,!1)}function xp(a,s,u){var h=Ke;Ke|=2;var v=eS(),_=tS();(rt!==a||qe!==s)&&(lc=null,Mo(a,s)),s=!1;var A=St;e:do try{if(Ye!==0&&Ue!==null){var M=Ue,k=Un;switch(Ye){case 8:Ep(),A=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(s=!0);var $=Ye;if(Ye=0,Un=null,Io(a,M,k,$),u&&Co){A=0;break e}break;default:$=Ye,Ye=0,Un=null,Io(a,M,k,$)}}A2(),A=St;break}catch(te){Qw(a,te)}while(!0);return s&&a.shellSuspendCounter++,Br=ya=null,Ke=h,H.H=v,H.A=_,Ue===null&&(rt=null,qe=0,Mu()),A}function A2(){for(;Ue!==null;)nS(Ue)}function C2(a,s){var u=Ke;Ke|=2;var h=eS(),v=tS();rt!==a||qe!==s?(lc=null,sc=Nt()+500,Mo(a,s)):Co=Ts(a,s);e:do try{if(Ye!==0&&Ue!==null){s=Ue;var _=Un;t:switch(Ye){case 1:Ye=0,Un=null,Io(a,s,_,1);break;case 2:case 9:if(d_(_)){Ye=0,Un=null,rS(s);break}s=function(){Ye!==2&&Ye!==9||rt!==a||(Ye=7),Mr(a)},_.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:d_(_)?(Ye=0,Un=null,rS(s)):(Ye=0,Un=null,Io(a,s,_,7));break;case 5:var A=null;switch(Ue.tag){case 26:A=Ue.memoizedState;case 5:case 27:var M=Ue;if(A?GS(A):M.stateNode.complete){Ye=0,Un=null;var k=M.sibling;if(k!==null)Ue=k;else{var $=M.return;$!==null?(Ue=$,fc($)):Ue=null}break t}}Ye=0,Un=null,Io(a,s,_,5);break;case 6:Ye=0,Un=null,Io(a,s,_,6);break;case 8:Ep(),St=6;break e;default:throw Error(r(462))}}N2();break}catch(te){Qw(a,te)}while(!0);return Br=ya=null,H.H=h,H.A=v,Ke=u,Ue!==null?0:(rt=null,qe=0,Mu(),St)}function N2(){for(;Ue!==null&&!Ct();)nS(Ue)}function nS(a){var s=Aw(a.alternate,a,Wr);a.memoizedProps=a.pendingProps,s===null?fc(a):Ue=s}function rS(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=_w(u,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=_w(u,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:jh(s);default:Nw(u,s),s=Ue=t_(s,Wr),s=Aw(u,s,Wr)}a.memoizedProps=a.pendingProps,s===null?fc(a):Ue=s}function Io(a,s,u,h){Br=ya=null,jh(s),_o=null,Gs=0;var v=s.return;try{if(g2(a,v,s,u,qe)){St=1,Qu(a,Xn(u,a.current)),Ue=null;return}}catch(_){if(v!==null)throw Ue=v,_;St=1,Qu(a,Xn(u,a.current)),Ue=null;return}s.flags&32768?(Ge||h===1?a=!0:Co||(qe&536870912)!==0?a=!1:(Pi=a=!0,(h===2||h===9||h===3||h===6)&&(h=Dn.current,h!==null&&h.tag===13&&(h.flags|=16384))),iS(s,a)):fc(s)}function fc(a){var s=a;do{if((s.flags&32768)!==0){iS(s,Pi);return}a=s.return;var u=b2(s.alternate,s,Wr);if(u!==null){Ue=u;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=a}while(s!==null);St===0&&(St=5)}function iS(a,s){do{var u=_2(a.alternate,a);if(u!==null){u.flags&=32767,Ue=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=u}while(a!==null);St=6,Ue=null}function aS(a,s,u,h,v,_,A,M,k){a.cancelPendingCommit=null;do dc();while(qt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=dh,sD(a,u,_,A,M,k),a===rt&&(Ue=rt=null,qe=0),Ro=s,ki=a,Xr=u,_p=_,wp=v,Yw=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,P2(pu,function(){return cS(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,v=ae.p,ae.p=2,A=Ke,Ke|=4;try{w2(a,s,u)}finally{Ke=A,ae.p=v,H.T=h}}qt=1,oS(),sS(),lS()}}function oS(){if(qt===1){qt=0;var a=ki,s=Ro,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var h=ae.p;ae.p=2;var v=Ke;Ke|=4;try{Bw(s,a);var _=Up,A=Fb(a.containerInfo),M=_.focusedElem,k=_.selectionRange;if(A!==M&&M&&M.ownerDocument&&$b(M.ownerDocument.documentElement,M)){if(k!==null&&sh(M)){var $=k.start,te=k.end;if(te===void 0&&(te=$),"selectionStart"in M)M.selectionStart=$,M.selectionEnd=Math.min(te,M.value.length);else{var re=M.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var X=K.getSelection(),ge=M.textContent.length,xe=Math.min(k.start,ge),et=k.end===void 0?xe:Math.min(k.end,ge);!X.extend&&xe>et&&(A=et,et=xe,xe=A);var z=Vb(M,xe),B=Vb(M,et);if(z&&B&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var V=re.createRange();V.setStart(z.node,z.offset),X.removeAllRanges(),xe>et?(X.addRange(V),X.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),X.addRange(V))}}}}for(re=[],X=M;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<re.length;M++){var ne=re[M];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}xc=!!kp,Up=kp=null}finally{Ke=v,ae.p=h,H.T=u}}a.current=s,qt=2}}function sS(){if(qt===2){qt=0;var a=ki,s=Ro,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var h=ae.p;ae.p=2;var v=Ke;Ke|=4;try{kw(a,s.alternate,s)}finally{Ke=v,ae.p=h,H.T=u}}qt=3}}function lS(){if(qt===4||qt===3){qt=0,tn();var a=ki,s=Ro,u=Xr,h=Yw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,Ro=ki=null,uS(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Di=null),Gd(u),s=s.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(xs,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=H.T,v=ae.p,ae.p=2,H.T=null;try{for(var _=a.onRecoverableError,A=0;A<h.length;A++){var M=h[A];_(M.value,{componentStack:M.stack})}}finally{H.T=s,ae.p=v}}(Xr&3)!==0&&dc(),Mr(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Sp?al++:(al=0,Sp=a):al=0,ol(0)}}function uS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bs(s)))}function dc(){return oS(),sS(),lS(),cS()}function cS(){if(qt!==5)return!1;var a=ki,s=_p;_p=0;var u=Gd(Xr),h=H.T,v=ae.p;try{ae.p=32>u?32:u,H.T=null,u=wp,wp=null;var _=ki,A=Xr;if(qt=0,Ro=ki=null,Xr=0,(Ke&6)!==0)throw Error(r(331));var M=Ke;if(Ke|=4,$w(_.current),Gw(_,_.current,A,u),Ke=M,ol(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(xs,_)}catch{}return!0}finally{ae.p=v,H.T=h,uS(a,s)}}function fS(a,s,u){s=Xn(u,s),s=ep(a.stateNode,s,2),a=Ni(a,s,2),a!==null&&(As(a,2),Mr(a))}function Je(a,s,u){if(a.tag===3)fS(a,a,u);else for(;s!==null;){if(s.tag===3){fS(s,a,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Di===null||!Di.has(h))){a=Xn(u,a),u=dw(2),h=Ni(s,u,2),h!==null&&(hw(u,h,s,a),As(h,2),Mr(h));break}}s=s.return}}function Tp(a,s,u){var h=a.pingCache;if(h===null){h=a.pingCache=new x2;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(u)||(yp=!0,v.add(u),a=R2.bind(null,a,s,u),s.then(a,a))}function R2(a,s,u){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,rt===a&&(qe&u)===u&&(St===4||St===3&&(qe&62914560)===qe&&300>Nt()-oc?(Ke&2)===0&&Mo(a,0):vp|=u,No===qe&&(No=0)),Mr(a)}function dS(a,s){s===0&&(s=ob()),a=pa(a,s),a!==null&&(As(a,s),Mr(a))}function M2(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),dS(a,u)}function I2(a,s){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),dS(a,u)}function P2(a,s){return yn(a,s)}var hc=null,Po=null,Ap=!1,pc=!1,Cp=!1,Li=0;function Mr(a){a!==Po&&a.next===null&&(Po===null?hc=Po=a:Po=Po.next=a),pc=!0,Ap||(Ap=!0,D2())}function ol(a,s){if(!Cp&&pc){Cp=!0;do for(var u=!1,h=hc;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var A=h.suspendedLanes,M=h.pingedLanes;_=(1<<31-In(42|a)+1)-1,_&=v&~(A&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,gS(h,_))}else _=qe,_=vu(h,h===rt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Ts(h,_)||(u=!0,gS(h,_));h=h.next}while(u);Cp=!1}}function O2(){hS()}function hS(){pc=Ap=!1;var a=0;Li!==0&&V2()&&(a=Li);for(var s=Nt(),u=null,h=hc;h!==null;){var v=h.next,_=pS(h,s);_===0?(h.next=null,u===null?hc=v:u.next=v,v===null&&(Po=u)):(u=h,(a!==0||(_&3)!==0)&&(pc=!0)),h=v}qt!==0&&qt!==5||ol(a),Li!==0&&(Li=0)}function pS(a,s){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var A=31-In(_),M=1<<A,k=v[A];k===-1?((M&u)===0||(M&h)!==0)&&(v[A]=oD(M,s)):k<=s&&(a.expiredLanes|=M),_&=~M}if(s=rt,u=qe,u=vu(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===s&&(Ye===2||Ye===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&vn(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ts(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(h!==null&&vn(h),Gd(u)){case 2:case 8:u=Xa;break;case 32:u=pu;break;case 268435456:u=ab;break;default:u=pu}return h=mS.bind(null,a),u=yn(u,h),a.callbackPriority=s,a.callbackNode=u,s}return h!==null&&h!==null&&vn(h),a.callbackPriority=2,a.callbackNode=null,2}function mS(a,s){if(qt!==0&&qt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(dc()&&a.callbackNode!==u)return null;var h=qe;return h=vu(a,a===rt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(Ww(a,h,s),pS(a,Nt()),a.callbackNode!=null&&a.callbackNode===u?mS.bind(null,a):null)}function gS(a,s){if(dc())return null;Ww(a,s,!0)}function D2(){F2(function(){(Ke&6)!==0?yn(Ft,O2):hS()})}function Np(){if(Li===0){var a=yo;a===0&&(a=mu,mu<<=1,(mu&261888)===0&&(mu=256)),Li=a}return Li}function yS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Su(""+a)}function vS(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function k2(a,s,u,h,v){if(s==="submit"&&u&&u.stateNode===v){var _=yS((v[bn]||null).action),A=h.submitter;A&&(s=(s=A[bn]||null)?yS(s.formAction):A.getAttribute("formAction"),s!==null&&(_=s,A=null));var M=new Au("action","action",null,h,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Li!==0){var k=A?vS(v,A):new FormData(v);Yh(u,{pending:!0,data:k,method:v.method,action:_},null,k)}}else typeof _=="function"&&(M.preventDefault(),k=A?vS(v,A):new FormData(v),Yh(u,{pending:!0,data:k,method:v.method,action:_},_,k))},currentTarget:v}]})}}for(var Rp=0;Rp<fh.length;Rp++){var Mp=fh[Rp],U2=Mp.toLowerCase(),L2=Mp[0].toUpperCase()+Mp.slice(1);hr(U2,"on"+L2)}hr(Jb,"onAnimationEnd"),hr(Wb,"onAnimationIteration"),hr(Xb,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(ZD,"onTransitionRun"),hr(e2,"onTransitionStart"),hr(t2,"onTransitionCancel"),hr(Qb,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function bS(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var A=h.length-1;0<=A;A--){var M=h[A],k=M.instance,$=M.currentTarget;if(M=M.listener,k!==_&&v.isPropagationStopped())break e;_=M,v.currentTarget=$;try{_(v)}catch(te){Ru(te)}v.currentTarget=null,_=k}else for(A=0;A<h.length;A++){if(M=h[A],k=M.instance,$=M.currentTarget,M=M.listener,k!==_&&v.isPropagationStopped())break e;_=M,v.currentTarget=$;try{_(v)}catch(te){Ru(te)}v.currentTarget=null,_=k}}}}function Le(a,s){var u=s[Hd];u===void 0&&(u=s[Hd]=new Set);var h=a+"__bubble";u.has(h)||(_S(s,a,2,!1),u.add(h))}function Ip(a,s,u){var h=0;s&&(h|=4),_S(u,a,h,s)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Pp(a){if(!a[mc]){a[mc]=!0,hb.forEach(function(u){u!=="selectionchange"&&(q2.has(u)||Ip(u,!1,a),Ip(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[mc]||(s[mc]=!0,Ip("selectionchange",!1,s))}}function _S(a,s,u,h){switch(JS(s)){case 2:var v=dk;break;case 8:v=hk;break;default:v=Kp}u=v.bind(null,s,u,a),v=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function Op(a,s,u,h,v){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===v)break;if(A===4)for(A=h.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;M!==null;){if(A=Za(M),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){h=_=A;continue e}M=M.parentNode}}h=h.return}Tb(function(){var $=_,te=Wd(u),re=[];e:{var K=Zb.get(a);if(K!==void 0){var X=Au,ge=a;switch(a){case"keypress":if(xu(u)===0)break e;case"keydown":case"keyup":X=ID;break;case"focusin":ge="focus",X=nh;break;case"focusout":ge="blur",X=nh;break;case"beforeblur":case"afterblur":X=nh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=DD;break;case Jb:case Wb:case Xb:X=SD;break;case Qb:X=UD;break;case"scroll":case"scrollend":X=yD;break;case"wheel":X=qD;break;case"copy":case"cut":case"paste":X=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Mb;break;case"toggle":case"beforetoggle":X=BD}var xe=(s&4)!==0,et=!xe&&(a==="scroll"||a==="scrollend"),z=xe?K!==null?K+"Capture":null:K;xe=[];for(var B=$,V;B!==null;){var ne=B;if(V=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||V===null||z===null||(ne=Rs(B,z),ne!=null&&xe.push(ll(B,ne,V))),et)break;B=B.return}0<xe.length&&(K=new X(K,ge,null,u,te),re.push({event:K,listeners:xe}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",K&&u!==Jd&&(ge=u.relatedTarget||u.fromElement)&&(Za(ge)||ge[Qa]))break e;if((X||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,X?(ge=u.relatedTarget||u.toElement,X=$,ge=ge?Za(ge):null,ge!==null&&(et=o(ge),xe=ge.tag,ge!==et||xe!==5&&xe!==27&&xe!==6)&&(ge=null)):(X=null,ge=$),X!==ge)){if(xe=Nb,ne="onMouseLeave",z="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(xe=Mb,ne="onPointerLeave",z="onPointerEnter",B="pointer"),et=X==null?K:Ns(X),V=ge==null?K:Ns(ge),K=new xe(ne,B+"leave",X,u,te),K.target=et,K.relatedTarget=V,ne=null,Za(te)===$&&(xe=new xe(z,B+"enter",ge,u,te),xe.target=V,xe.relatedTarget=et,ne=xe),et=ne,X&&ge)t:{for(xe=j2,z=X,B=ge,V=0,ne=z;ne;ne=xe(ne))V++;ne=0;for(var Se=B;Se;Se=xe(Se))ne++;for(;0<V-ne;)z=xe(z),V--;for(;0<ne-V;)B=xe(B),ne--;for(;V--;){if(z===B||B!==null&&z===B.alternate){xe=z;break t}z=xe(z),B=xe(B)}xe=null}else xe=null;X!==null&&wS(re,K,X,xe,!1),ge!==null&&et!==null&&wS(re,et,ge,xe,!0)}}e:{if(K=$?Ns($):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var He=qb;else if(Ub(K))if(jb)He=WD;else{He=YD;var ve=KD}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Yd($.elementType)&&(He=qb):He=JD;if(He&&(He=He(a,$))){Lb(re,He,u,te);break e}ve&&ve(a,K,$),a==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Kd(K,"number",K.value)}switch(ve=$?Ns($):window,a){case"focusin":(Ub(ve)||ve.contentEditable==="true")&&(lo=ve,lh=$,Ls=null);break;case"focusout":Ls=lh=lo=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Kb(re,u,te);break;case"selectionchange":if(QD)break;case"keydown":case"keyup":Kb(re,u,te)}var Pe;if(ih)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else so?Db(a,u)&&(je="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(Ib&&u.locale!=="ko"&&(so||je!=="onCompositionStart"?je==="onCompositionEnd"&&so&&(Pe=Ab()):(wi=te,Zd="value"in wi?wi.value:wi.textContent,so=!0)),ve=gc($,je),0<ve.length&&(je=new Rb(je,a,null,u,te),re.push({event:je,listeners:ve}),Pe?je.data=Pe:(Pe=kb(u),Pe!==null&&(je.data=Pe)))),(Pe=GD?HD(a,u):VD(a,u))&&(je=gc($,"onBeforeInput"),0<je.length&&(ve=new Rb("onBeforeInput","beforeinput",null,u,te),re.push({event:ve,listeners:je}),ve.data=Pe)),k2(re,a,$,u,te)}bS(re,s)})}function ll(a,s,u){return{instance:a,listener:s,currentTarget:u}}function gc(a,s){for(var u=s+"Capture",h=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Rs(a,u),v!=null&&h.unshift(ll(a,v,_)),v=Rs(a,s),v!=null&&h.push(ll(a,v,_))),a.tag===3)return h;a=a.return}return[]}function j2(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function wS(a,s,u,h,v){for(var _=s._reactName,A=[];u!==null&&u!==h;){var M=u,k=M.alternate,$=M.stateNode;if(M=M.tag,k!==null&&k===h)break;M!==5&&M!==26&&M!==27||$===null||(k=$,v?($=Rs(u,_),$!=null&&A.unshift(ll(u,$,k))):v||($=Rs(u,_),$!=null&&A.push(ll(u,$,k)))),u=u.return}A.length!==0&&a.push({event:s,listeners:A})}var B2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function SS(a){return(typeof a=="string"?a:""+a).replace(B2,`
`).replace(z2,"")}function ES(a,s){return s=SS(s),SS(a)===s}function Ze(a,s,u,h,v,_){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||io(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&io(a,""+h);break;case"className":_u(a,"class",h);break;case"tabIndex":_u(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":_u(a,u,h);break;case"style":Eb(a,h,_);break;case"data":if(s!=="object"){_u(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Su(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&Ze(a,s,"name",v.name,v,null),Ze(a,s,"formEncType",v.formEncType,v,null),Ze(a,s,"formMethod",v.formMethod,v,null),Ze(a,s,"formTarget",v.formTarget,v,null)):(Ze(a,s,"encType",v.encType,v,null),Ze(a,s,"method",v.method,v,null),Ze(a,s,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Su(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Ur);break;case"onScroll":h!=null&&Le("scroll",a);break;case"onScrollEnd":h!=null&&Le("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Su(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":Le("beforetoggle",a),Le("toggle",a),bu(a,"popover",h);break;case"xlinkActuate":kr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":kr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":kr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":kr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":kr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":kr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":kr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":kr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":kr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":bu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mD.get(u)||u,bu(a,u,h))}}function Dp(a,s,u,h,v,_){switch(u){case"style":Eb(a,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?io(a,h):(typeof h=="number"||typeof h=="bigint")&&io(a,""+h);break;case"onScroll":h!=null&&Le("scroll",a);break;case"onScrollEnd":h!=null&&Le("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),_=a[bn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):bu(a,u,h)}}}function sn(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",a),Le("load",a);var h=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var A=u[_];if(A!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(a,s,_,A,u,null)}}v&&Ze(a,s,"srcSet",u.srcSet,u,null),h&&Ze(a,s,"src",u.src,u,null);return;case"input":Le("invalid",a);var M=_=A=v=null,k=null,$=null;for(h in u)if(u.hasOwnProperty(h)){var te=u[h];if(te!=null)switch(h){case"name":v=te;break;case"type":A=te;break;case"checked":k=te;break;case"defaultChecked":$=te;break;case"value":_=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:Ze(a,s,h,te,u,null)}}bb(a,_,M,k,$,A,v,!1);return;case"select":Le("invalid",a),h=A=_=null;for(v in u)if(u.hasOwnProperty(v)&&(M=u[v],M!=null))switch(v){case"value":_=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Ze(a,s,v,M,u,null)}s=_,u=A,a.multiple=!!h,s!=null?ro(a,!!h,s,!1):u!=null&&ro(a,!!h,u,!0);return;case"textarea":Le("invalid",a),_=v=h=null;for(A in u)if(u.hasOwnProperty(A)&&(M=u[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":v=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Ze(a,s,A,M,u,null)}wb(a,h,v,_);return;case"option":for(k in u)if(u.hasOwnProperty(k)&&(h=u[k],h!=null))switch(k){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ze(a,s,k,h,u,null)}return;case"dialog":Le("beforetoggle",a),Le("toggle",a),Le("cancel",a),Le("close",a);break;case"iframe":case"object":Le("load",a);break;case"video":case"audio":for(h=0;h<sl.length;h++)Le(sl[h],a);break;case"image":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"embed":case"source":case"link":Le("error",a),Le("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in u)if(u.hasOwnProperty($)&&(h=u[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(a,s,$,h,u,null)}return;default:if(Yd(s)){for(te in u)u.hasOwnProperty(te)&&(h=u[te],h!==void 0&&Dp(a,s,te,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&Ze(a,s,M,h,u,null))}function G2(a,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,A=null,M=null,k=null,$=null,te=null;for(X in u){var re=u[X];if(u.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=re;default:h.hasOwnProperty(X)||Ze(a,s,X,null,h,re)}}for(var K in h){var X=h[K];if(re=u[K],h.hasOwnProperty(K)&&(X!=null||re!=null))switch(K){case"type":_=X;break;case"name":v=X;break;case"checked":$=X;break;case"defaultChecked":te=X;break;case"value":A=X;break;case"defaultValue":M=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==re&&Ze(a,s,K,X,h,re)}}Fd(a,A,M,k,$,te,_,v);return;case"select":X=A=M=K=null;for(_ in u)if(k=u[_],u.hasOwnProperty(_)&&k!=null)switch(_){case"value":break;case"multiple":X=k;default:h.hasOwnProperty(_)||Ze(a,s,_,null,h,k)}for(v in h)if(_=h[v],k=u[v],h.hasOwnProperty(v)&&(_!=null||k!=null))switch(v){case"value":K=_;break;case"defaultValue":M=_;break;case"multiple":A=_;default:_!==k&&Ze(a,s,v,_,h,k)}s=M,u=A,h=X,K!=null?ro(a,!!u,K,!1):!!h!=!!u&&(s!=null?ro(a,!!u,s,!0):ro(a,!!u,u?[]:"",!1));return;case"textarea":X=K=null;for(M in u)if(v=u[M],u.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ze(a,s,M,null,h,v)}for(A in h)if(v=h[A],_=u[A],h.hasOwnProperty(A)&&(v!=null||_!=null))switch(A){case"value":K=v;break;case"defaultValue":X=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&Ze(a,s,A,v,h,_)}_b(a,K,X);return;case"option":for(var ge in u)if(K=u[ge],u.hasOwnProperty(ge)&&K!=null&&!h.hasOwnProperty(ge))switch(ge){case"selected":a.selected=!1;break;default:Ze(a,s,ge,null,h,K)}for(k in h)if(K=h[k],X=u[k],h.hasOwnProperty(k)&&K!==X&&(K!=null||X!=null))switch(k){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(a,s,k,K,h,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in u)K=u[xe],u.hasOwnProperty(xe)&&K!=null&&!h.hasOwnProperty(xe)&&Ze(a,s,xe,null,h,K);for($ in h)if(K=h[$],X=u[$],h.hasOwnProperty($)&&K!==X&&(K!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Ze(a,s,$,K,h,X)}return;default:if(Yd(s)){for(var et in u)K=u[et],u.hasOwnProperty(et)&&K!==void 0&&!h.hasOwnProperty(et)&&Dp(a,s,et,void 0,h,K);for(te in h)K=h[te],X=u[te],!h.hasOwnProperty(te)||K===X||K===void 0&&X===void 0||Dp(a,s,te,K,h,X);return}}for(var z in u)K=u[z],u.hasOwnProperty(z)&&K!=null&&!h.hasOwnProperty(z)&&Ze(a,s,z,null,h,K);for(re in h)K=h[re],X=u[re],!h.hasOwnProperty(re)||K===X||K==null&&X==null||Ze(a,s,re,K,h,X)}function xS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H2(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],_=v.transferSize,A=v.initiatorType,M=v.duration;if(_&&M&&xS(A)){for(A=0,M=v.responseEnd,h+=1;h<u.length;h++){var k=u[h],$=k.startTime;if($>M)break;var te=k.transferSize,re=k.initiatorType;te&&xS(re)&&(k=k.responseEnd,A+=te*(k<M?1:(M-$)/(k-$)))}if(--h,s+=8*(_+A)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kp=null,Up=null;function yc(a){return a.nodeType===9?a:a.ownerDocument}function TS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Lp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qp=null;function V2(){var a=window.event;return a&&a.type==="popstate"?a===qp?!1:(qp=a,!0):(qp=null,!1)}var CS=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(a){return NS.resolve(null).then(a).catch(K2)}:CS;function K2(a){setTimeout(function(){throw a})}function qi(a){return a==="head"}function RS(a,s){var u=s,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Uo(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")ul(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,ul(u);for(var _=u.firstChild;_;){var A=_.nextSibling,M=_.nodeName;_[Cs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=A}}else u==="body"&&ul(a.ownerDocument.body);u=v}while(u);Uo(s)}function MS(a,s){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function jp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jp(u),Vd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Y2(a,s,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Cs])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=nr(a.nextSibling),a===null)break}return null}function J2(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=nr(a.nextSibling),a===null))return null;return a}function IS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=nr(a.nextSibling),a===null))return null;return a}function Bp(a){return a.data==="$?"||a.data==="$~"}function zp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function W2(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function nr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Gp=null;function PS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return nr(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function OS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function DS(a,s,u){switch(s=yc(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ul(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Vd(a)}var rr=new Map,kS=new Set;function vc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Qr=ae.d;ae.d={f:X2,r:Q2,D:Z2,C:ek,L:tk,m:nk,X:ik,S:rk,M:ak};function X2(){var a=Qr.f(),s=uc();return a||s}function Q2(a){var s=eo(a);s!==null&&s.tag===5&&s.type==="form"?Q_(s):Qr.r(a)}var Oo=typeof document>"u"?null:document;function US(a,s,u){var h=Oo;if(h&&typeof s=="string"&&s){var v=Jn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),kS.has(v)||(kS.add(v),a={rel:a,crossOrigin:u,href:s},h.querySelector(v)===null&&(s=h.createElement("link"),sn(s,"link",a),Kt(s),h.head.appendChild(s)))}}function Z2(a){Qr.D(a),US("dns-prefetch",a,null)}function ek(a,s){Qr.C(a,s),US("preconnect",a,s)}function tk(a,s,u){Qr.L(a,s,u);var h=Oo;if(h&&a&&s){var v='link[rel="preload"][as="'+Jn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Jn(u.imageSizes)+'"]')):v+='[href="'+Jn(a)+'"]';var _=v;switch(s){case"style":_=Do(a);break;case"script":_=ko(a)}rr.has(_)||(a=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),rr.set(_,a),h.querySelector(v)!==null||s==="style"&&h.querySelector(cl(_))||s==="script"&&h.querySelector(fl(_))||(s=h.createElement("link"),sn(s,"link",a),Kt(s),h.head.appendChild(s)))}}function nk(a,s){Qr.m(a,s);var u=Oo;if(u&&a){var h=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Jn(h)+'"][href="'+Jn(a)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ko(a)}if(!rr.has(_)&&(a=g({rel:"modulepreload",href:a},s),rr.set(_,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fl(_)))return}h=u.createElement("link"),sn(h,"link",a),Kt(h),u.head.appendChild(h)}}}function rk(a,s,u){Qr.S(a,s,u);var h=Oo;if(h&&a){var v=to(h).hoistableStyles,_=Do(a);s=s||"default";var A=v.get(_);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(cl(_)))M.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},u),(u=rr.get(_))&&Hp(a,u);var k=A=h.createElement("link");Kt(k),sn(k,"link",a),k._p=new Promise(function($,te){k.onload=$,k.onerror=te}),k.addEventListener("load",function(){M.loading|=1}),k.addEventListener("error",function(){M.loading|=2}),M.loading|=4,bc(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:M},v.set(_,A)}}}function ik(a,s){Qr.X(a,s);var u=Oo;if(u&&a){var h=to(u).hoistableScripts,v=ko(a),_=h.get(v);_||(_=u.querySelector(fl(v)),_||(a=g({src:a,async:!0},s),(s=rr.get(v))&&Vp(a,s),_=u.createElement("script"),Kt(_),sn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function ak(a,s){Qr.M(a,s);var u=Oo;if(u&&a){var h=to(u).hoistableScripts,v=ko(a),_=h.get(v);_||(_=u.querySelector(fl(v)),_||(a=g({src:a,async:!0,type:"module"},s),(s=rr.get(v))&&Vp(a,s),_=u.createElement("script"),Kt(_),sn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function LS(a,s,u,h){var v=(v=le.current)?vc(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Do(u.href),u=to(v).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Do(u.href);var _=to(v).hoistableStyles,A=_.get(a);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,A),(_=v.querySelector(cl(a)))&&!_._p&&(A.instance=_,A.state.loading=5),rr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},rr.set(a,u),_||ok(v,a,u,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(u),u=to(v).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Do(a){return'href="'+Jn(a)+'"'}function cl(a){return'link[rel="stylesheet"]['+a+"]"}function qS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function ok(a,s,u,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),sn(s,"link",u),Kt(s),a.head.appendChild(s))}function ko(a){return'[src="'+Jn(a)+'"]'}function fl(a){return"script[async]"+a}function jS(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+Jn(u.href)+'"]');if(h)return s.instance=h,Kt(h),h;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Kt(h),sn(h,"style",v),bc(h,u.precedence,a),s.instance=h;case"stylesheet":v=Do(u.href);var _=a.querySelector(cl(v));if(_)return s.state.loading|=4,s.instance=_,Kt(_),_;h=qS(u),(v=rr.get(v))&&Hp(h,v),_=(a.ownerDocument||a).createElement("link"),Kt(_);var A=_;return A._p=new Promise(function(M,k){A.onload=M,A.onerror=k}),sn(_,"link",h),s.state.loading|=4,bc(_,u.precedence,a),s.instance=_;case"script":return _=ko(u.src),(v=a.querySelector(fl(_)))?(s.instance=v,Kt(v),v):(h=u,(v=rr.get(_))&&(h=g({},u),Vp(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),Kt(v),sn(v,"link",h),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,bc(h,u.precedence,a));return s.instance}function bc(a,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===s)_=M;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function Hp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Vp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var _c=null;function BS(a,s,u){if(_c===null){var h=new Map,v=_c=new Map;v.set(u,h)}else v=_c,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[Cs]||_[nn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(s)||"";A=a+A;var M=h.get(A);M?M.push(_):h.set(A,[_])}}return h}function zS(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function sk(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function GS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function lk(a,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Do(h.href),_=s.querySelector(cl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=wc.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,Kt(_);return}_=s.ownerDocument||s,h=qS(h),(v=rr.get(v))&&Hp(h,v),_=_.createElement("link"),Kt(_);var A=_;A._p=new Promise(function(M,k){A.onload=M,A.onerror=k}),sn(_,"link",h),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=wc.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var $p=0;function uk(a,s){return a.stylesheets&&a.count===0&&Ec(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Ec(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&$p===0&&($p=62500*H2());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ec(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>$p?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Sc=null;function Ec(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Sc=new Map,s.forEach(ck,a),Sc=null,wc.call(a))}function ck(a,s){if(!(s.state.loading&4)){var u=Sc.get(a);if(u)var h=u.get(null);else{u=new Map,Sc.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var A=v[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}v=s.instance,A=v.getAttribute("data-precedence"),_=u.get(A)||h,_===h&&u.set(null,v),u.set(A,v),this.count++,h=wc.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var dl={$$typeof:R,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function fk(a,s,u,h,v,_,A,M,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.hiddenUpdates=Bd(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function HS(a,s,u,h,v,_,A,M,k,$,te,re){return a=new fk(a,s,u,A,k,$,te,re,M),s=1,_===!0&&(s|=24),_=On(3,null,null,s),a.current=_,_.stateNode=a,s=xh(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:s},Nh(_),a}function VS(a){return a?(a=fo,a):fo}function $S(a,s,u,h,v,_){v=VS(v),h.context===null?h.context=v:h.pendingContext=v,h=Ci(s),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=Ni(a,h,s),u!==null&&(Tn(u,a,s),Vs(u,a,s))}function FS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function Fp(a,s){FS(a,s),(a=a.alternate)&&FS(a,s)}function KS(a){if(a.tag===13||a.tag===31){var s=pa(a,67108864);s!==null&&Tn(s,a,67108864),Fp(a,67108864)}}function YS(a){if(a.tag===13||a.tag===31){var s=qn();s=zd(s);var u=pa(a,s);u!==null&&Tn(u,a,s),Fp(a,s)}}var xc=!0;function dk(a,s,u,h){var v=H.T;H.T=null;var _=ae.p;try{ae.p=2,Kp(a,s,u,h)}finally{ae.p=_,H.T=v}}function hk(a,s,u,h){var v=H.T;H.T=null;var _=ae.p;try{ae.p=8,Kp(a,s,u,h)}finally{ae.p=_,H.T=v}}function Kp(a,s,u,h){if(xc){var v=Yp(h);if(v===null)Op(a,s,h,Tc,u),WS(a,h);else if(mk(v,a,s,u,h))h.stopPropagation();else if(WS(a,h),s&4&&-1<pk.indexOf(a)){for(;v!==null;){var _=eo(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ua(_.pendingLanes);if(A!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var k=1<<31-In(A);M.entanglements[1]|=k,A&=~k}Mr(_),(Ke&6)===0&&(sc=Nt()+500,ol(0))}}break;case 31:case 13:M=pa(_,2),M!==null&&Tn(M,_,2),uc(),Fp(_,2)}if(_=Yp(h),_===null&&Op(a,s,h,Tc,u),_===v)break;v=_}v!==null&&h.stopPropagation()}else Op(a,s,h,null,u)}}function Yp(a){return a=Wd(a),Jp(a)}var Tc=null;function Jp(a){if(Tc=null,a=Za(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Tc=a,null}function JS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case Ft:return 2;case Xa:return 8;case pu:case eD:return 32;case ab:return 268435456;default:return 32}default:return 32}}var Wp=!1,ji=null,Bi=null,zi=null,hl=new Map,pl=new Map,Gi=[],pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WS(a,s){switch(a){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(s.pointerId)}}function ml(a,s,u,h,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},s!==null&&(s=eo(s),s!==null&&KS(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function mk(a,s,u,h,v){switch(s){case"focusin":return ji=ml(ji,a,s,u,h,v),!0;case"dragenter":return Bi=ml(Bi,a,s,u,h,v),!0;case"mouseover":return zi=ml(zi,a,s,u,h,v),!0;case"pointerover":var _=v.pointerId;return hl.set(_,ml(hl.get(_)||null,a,s,u,h,v)),!0;case"gotpointercapture":return _=v.pointerId,pl.set(_,ml(pl.get(_)||null,a,s,u,h,v)),!0}return!1}function XS(a){var s=Za(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,fb(a.priority,function(){YS(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,fb(a.priority,function(){YS(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ac(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=Yp(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Jd=h,u.target.dispatchEvent(h),Jd=null}else return s=eo(u),s!==null&&KS(s),a.blockedOn=u,!1;s.shift()}return!0}function QS(a,s,u){Ac(a)&&u.delete(s)}function gk(){Wp=!1,ji!==null&&Ac(ji)&&(ji=null),Bi!==null&&Ac(Bi)&&(Bi=null),zi!==null&&Ac(zi)&&(zi=null),hl.forEach(QS),pl.forEach(QS)}function Cc(a,s){a.blockedOn===s&&(a.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gk)))}var Nc=null;function ZS(a){Nc!==a&&(Nc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nc===a&&(Nc=null);for(var s=0;s<a.length;s+=3){var u=a[s],h=a[s+1],v=a[s+2];if(typeof h!="function"){if(Jp(h||u)===null)continue;break}var _=eo(u);_!==null&&(a.splice(s,3),s-=3,Yh(_,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Uo(a){function s(k){return Cc(k,a)}ji!==null&&Cc(ji,a),Bi!==null&&Cc(Bi,a),zi!==null&&Cc(zi,a),hl.forEach(s),pl.forEach(s);for(var u=0;u<Gi.length;u++){var h=Gi[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Gi.length&&(u=Gi[0],u.blockedOn===null);)XS(u),u.blockedOn===null&&Gi.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],_=u[h+1],A=v[bn]||null;if(typeof _=="function")A||ZS(u);else if(A){var M=null;if(_&&_.hasAttribute("formAction")){if(v=_,A=_[bn]||null)M=A.formAction;else if(Jp(v)!==null)continue}else M=A.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),ZS(u)}}}function eE(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Xp(a){this._internalRoot=a}Rc.prototype.render=Xp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=qn();$S(u,h,a,s,null,null)},Rc.prototype.unmount=Xp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;$S(a.current,2,null,a,null,null),uc(),s[Qa]=null}};function Rc(a){this._internalRoot=a}Rc.prototype.unstable_scheduleHydration=function(a){if(a){var s=cb();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Gi.length&&s!==0&&s<Gi[u].priority;u++);Gi.splice(u,0,a),u===0&&XS(a)}};var tE=e.version;if(tE!=="19.2.0")throw Error(r(527,tE,"19.2.0"));ae.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var yk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{xs=Mc.inject(yk),Mn=Mc}catch{}}return yl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,h="",v=lw,_=uw,A=cw;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=HS(a,1,!1,null,null,u,h,null,v,_,A,eE),a[Qa]=s.current,Pp(a),new Xp(s)},yl.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var h=!1,v="",_=lw,A=uw,M=cw,k=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(k=u.formState)),s=HS(a,1,!0,s,u??null,h,v,k,_,A,M,eE),s.context=VS(null),u=s.current,h=qn(),h=zd(h),v=Ci(h),v.callback=null,Ni(u,v,h),u=h,s.current.lanes=u,As(s,u),Mr(s),a[Qa]=s.current,Pp(a),new Rc(s)},yl.version="19.2.0",yl}var fE;function Mk(){if(fE)return tm.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tm.exports=Rk(),tm.exports}var Ik=Mk();const Pk=xr(Ik);var mn=(t=>(t.OPERATING="OPERATING",t.INVESTING="INVESTING",t.FINANCING="FINANCING",t))(mn||{}),vt=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t))(vt||{}),ct=(t=>(t.CASH="CASH",t.RECEIVABLE="RECEIVABLE",t.PAYABLE="PAYABLE",t))(ct||{}),Wt=(t=>(t.PENDING="PENDING",t.PAID="PAID",t))(Wt||{}),cn=(t=>(t.ADMIN="ADMIN",t.ACCOUNTANT="ACCOUNTANT",t.VIEWER="VIEWER",t))(cn||{}),Yi=(t=>(t.BALANCE_SHEET="Balance General",t.INCOME_STATEMENT="Estado de Resultados",t.CASH_FLOW="Flujo de Efectivo",t))(Yi||{});cn.ADMIN,cn.ACCOUNTANT,cn.VIEWER;const dE={EN:{dashboard:"Dashboard",movements:"Movements",reports:"Financial Reports",settings:"Settings",notifications:"Notifications",signOut:"Sign Out",welcomeBack:"Welcome Back",signInTo:"Sign in to your account",email:"Email Address / Username",password:"Password",loginButton:"Sign In",loggingIn:"Signing in...",invalidCredentials:"Invalid username or password.",demoHint:"Default Admin:",passwordPlaceholder:"Enter your password",emailPlaceholder:"admin@email.com",haveCode:"I have an invitation code",enterCode:"Enter 4-digit Code",verifyCode:"Verify Code",backToLogin:"Back to Login",codeExpired:"This code has expired.",codeInvalid:"Invalid or expired code.",registerWithCode:"Register with Code",verifying:"Verifying...",codeVerified:"Code Verified!",financialOverview:"Financial Overview",realTimeStatus:"Real-time financial status of your business",netCashBalance:"Net Cash Balance",totalIncome:"Total Income",totalExpenses:"Total Expenses",pendingReceivables:"Pending Receivables",activityDistribution:"Activity Distribution",pendingNotifications:"Pending Notifications",noNotifications:"No pending alerts.",recentTransactions:"Recent Transactions",date:"Date",desc:"Desc",amount:"Amount",markAsRead:"Mark as Read",financialMovements:"Financial Movements",manageMovements:"Manage operational expenses, investments, and debt.",allMovements:"All Movements",accountsReceivable:"Accounts Receivable",accountsPayable:"Accounts Payable",recordMovement:"Record Movement",analyzing:"Analyzing Receipt...",scanReceipt:"Scan Receipt / Invoice",autoDetect:"Auto-detects Amount, Date & Due Date",description:"Description",movementDate:"Movement Date",accountType:"Account Type",flowType:"Flow Type",paymentDetails:"Payment Details",dueDate:"Due Date",status:"Status",activityGroup:"Activity Group",saveMovement:"Save Movement",details:"Details",action:"Action",paid:"Paid",pending:"Pending",due:"Due",noTransactions:"No transactions found in this category/range.",invoicePlaceholder:"e.g. Invoice #1024",amountOption:"Amount Type",netAmount:"Net Amount",addTax:"Add Tax (+VAT)",finalAmount:"Final Amount",financialStatements:"Financial Statements",generateReportsDesc:"Generate AI-analyzed reports based on specific periods.",periodSelection:"Period Selection",startDate:"Start Date",endDate:"End Date",generate:"Generate Reports",reportHistory:"Report History",noReports:"No reports generated.",loadingAI:"Gemini AI is calculating ratios and analyzing data...",selectRangePrompt:"Select a date range and generate a report to view details.",printPdf:"Print / PDF",statementDetails:"Statement Details",keyRatios:"Key Financial Ratios",cfoSummary:"CFO Executive Summary",generatedBy:"Generated By",generationDate:"Generation Date",authorizedSignature:"Authorized Signature",view:"View",folio:"Folio",period:"Period",type:"Type",confirmGenerateTitle:"Confirm Generation",confirmGenerateMsg:"Are you sure you want to generate this financial statement? This will record a snapshot of the current data.",cancel:"Cancel",confirm:"Confirm",transactionBreakdown:"Transaction Breakdown",r_revenues:"Revenues",r_total_revenue:"Total Revenue",r_expenses:"Expenses",r_total_expenses:"Total Expenses",r_income_before_tax:"Income Before Taxes",r_tax_provision:"Tax Provision",r_net_income:"Net Income",r_assets:"Assets",r_cash_equivalents:"Cash & Equivalents",r_accounts_receivable:"Accounts Receivable",r_fixed_assets:"Fixed Assets",r_total_assets:"Total Assets",r_liabilities:"Liabilities",r_accounts_payable:"Accounts Payable",r_long_term_debt:"Long Term Debt",r_total_liabilities:"Total Liabilities",r_equity:"Equity",r_total_equity:"Total Equity",r_total_liab_equity:"Total Liabilities + Equity",r_op_activities:"Net Cash from Operating Activities",r_inv_activities:"Net Cash from Investing Activities",r_fin_activities:"Net Cash from Financing Activities",r_net_cash_flow:"Net Increase/Decrease in Cash",ratio_gross_margin:"Gross Margin",ratio_op_margin:"Operating Margin",ratio_net_profit_margin:"Net Profit Margin",ratio_exp_revenue:"Expense-to-Revenue",ratio_tax_burden:"Tax Burden",ratio_current_ratio:"Current Ratio",ratio_debt_ratio:"Debt Ratio",ratio_debt_equity:"Debt-to-Equity",ratio_working_capital:"Working Capital",ratio_cash_ratio:"Cash Ratio",ratio_op_cash_flow:"Operating Cash Flow Ratio",ratio_free_cash_flow:"Free Cash Flow",ratio_cash_flow_cov:"Cash Flow Coverage",ratio_cash_flow_margin:"Cash Flow Margin",ratio_net_cash_change:"Net Cash Change",appSettings:"Application Settings",managePreferences:"Manage your company details and preferences.",companyInfo:"Company Information",configuration:"Configuration",uploadLogo:"Upload Logo",companyName:"Company Name",taxId:"Tax ID / RFC",businessAddress:"Business Address",taxRate:"Applicable Tax Rate (%)",taxRateDesc:"Used for income tax calculations in reports.",localization:"Localization",language:"Language",myProfile:"My Profile",saveChanges:"Save Changes",settingsSaved:"Settings saved successfully!",fullName:"Full Name",phone:"Phone Number",bio:"Bio / Position",security:"Security",changePassword:"Change Password",changePasswordDesc:"We will send a 6-digit verification code to your email to verify your identity.",sendCode:"Send Verification Code",verificationCode:"Verification Code",newPassword:"New Password",codeSent:"Verification code sent!",codeSentDesc:"Please check your email (simulated in alert) for the 6-digit code.",passwordChanged:"Password changed successfully!",invalidCode:"Invalid verification code.",verifyAndSave:"Verify & Change Password",users:"Users",manageUsers:"Manage company users",addUser:"Add User",role:"Role",actions:"Actions",userCreated:"User added successfully",userCreateError:"Failed to add user",active:"Active",inactive:"Inactive",activate:"Activate",deactivate:"Deactivate",accountInactive:"Your account is inactive. Please contact the administrator.",sendInvitation:"Generate Invitation Code",invitationSent:"Invitation Code Generated!",invitationDesc:"Share this 4-digit code with the new user. They can use it to sign up directly (Valid for 6 hours).",copyLink:"Copy Code",copied:"Copied!",close:"Close",invitationCode:"Invitation Code"},ES:{dashboard:"Panel Principal",movements:"Movimientos",reports:"Estados Financieros",settings:"Ajustes",notifications:"Notificaciones",signOut:"Cerrar Sesin",welcomeBack:"Bienvenido",signInTo:"Inicia sesin en tu cuenta",email:"Usuario / Correo",password:"Contrasea",loginButton:"Iniciar Sesin",loggingIn:"Entrando...",invalidCredentials:"Usuario o contrasea incorrectos.",demoHint:"Admin por defecto:",passwordPlaceholder:"Ingresa tu contrasea",emailPlaceholder:"admin@email.com",haveCode:"Tengo un cdigo de invitacin",enterCode:"Ingresa Cdigo de 4 Dgitos",verifyCode:"Verificar Cdigo",backToLogin:"Volver al Login",codeExpired:"Este cdigo ha expirado.",codeInvalid:"Cdigo invlido o expirado.",registerWithCode:"Registrarse con Cdigo",verifying:"Verificando...",codeVerified:"Cdigo Verificado!",financialOverview:"Resumen Financiero",realTimeStatus:"Estado financiero en tiempo real de tu negocio",netCashBalance:"Balance de Efectivo",totalIncome:"Ingresos Totales",totalExpenses:"Egresos Totales",pendingReceivables:"Cuentas por Cobrar",activityDistribution:"Distribucin de Actividad",pendingNotifications:"Notificaciones Pendientes",noNotifications:"No hay alertas pendientes.",recentTransactions:"Transacciones Recientes",date:"Fecha",desc:"Desc",amount:"Importe",markAsRead:"Marcar como Ledo",financialMovements:"Movimientos Financieros",manageMovements:"Gestiona gastos operativos, inversiones y deudas.",allMovements:"Todos",accountsReceivable:"Cuentas por Cobrar",accountsPayable:"Cuentas por Pagar",recordMovement:"Registrar Movimiento",analyzing:"Analizando Recibo...",scanReceipt:"Escanear Recibo / Factura",autoDetect:"Detecta Importe, Fecha y Vencimiento",description:"Descripcin",movementDate:"Fecha del Movimiento",accountType:"Tipo de Cuenta",flowType:"Tipo de Flujo",paymentDetails:"Detalles de Pago",dueDate:"Fecha Vencimiento",status:"Estado",activityGroup:"Grupo de Actividad",saveMovement:"Guardar Movimiento",details:"Detalles",action:"Accin",paid:"Pagado",pending:"Pendiente",due:"Vence",noTransactions:"No se encontraron movimientos en esta categora/rango.",invoicePlaceholder:"ej. Factura #1024",amountOption:"Tipo de Importe",netAmount:"Importe Neto",addTax:"Agregar IVA",finalAmount:"Importe Final",financialStatements:"Estados Financieros",generateReportsDesc:"Genera reportes analizados por IA para periodos especficos.",periodSelection:"Seleccin de Periodo",startDate:"Fecha Inicio",endDate:"Fecha Fin",generate:"Generar Reportes",reportHistory:"Historial de Reportes",noReports:"No hay reportes generados.",loadingAI:"Gemini AI est calculando ratios y analizando datos...",selectRangePrompt:"Selecciona un rango de fechas y genera un reporte para ver detalles.",printPdf:"Imprimir / PDF",statementDetails:"Detalles del Estado",keyRatios:"Ratios Financieros Clave",cfoSummary:"Resumen Ejecutivo del CFO",generatedBy:"Generado Por",generationDate:"Fecha de Generacin",authorizedSignature:"Firma Autorizada",view:"Ver",folio:"Folio",period:"Periodo",type:"Tipo",confirmGenerateTitle:"Confirmar Generacin",confirmGenerateMsg:'Ests seguro de que deseas generar este estado financiero? Esto registrar una "foto" de los datos actuales.',cancel:"Cancelar",confirm:"Confirmar",transactionBreakdown:"Desglose de Movimientos",r_revenues:"Ingresos",r_total_revenue:"Ingresos Totales",r_expenses:"Egresos",r_total_expenses:"Egresos Totales",r_income_before_tax:"Utilidad Antes de Impuestos",r_tax_provision:"Impuestos",r_net_income:"Utilidad Neta",r_assets:"Activos",r_cash_equivalents:"Efectivo y Equivalentes",r_accounts_receivable:"Cuentas por Cobrar",r_fixed_assets:"Activos Fijos",r_total_assets:"Total Activos",r_liabilities:"Pasivos",r_accounts_payable:"Cuentas por Pagar",r_long_term_debt:"Deuda a Largo Plazo",r_total_liabilities:"Total Pasivos",r_equity:"Patrimonio",r_total_equity:"Total Patrimonio",r_total_liab_equity:"Total Pasivos + Patrimonio",r_op_activities:"Flujo Neto de Actividades Operativas",r_inv_activities:"Flujo Neto de Actividades de Inversin",r_fin_activities:"Flujo Neto de Actividades Financieras",r_net_cash_flow:"Incremento/Disminucin Neto de Efectivo",ratio_gross_margin:"Margen Bruto",ratio_op_margin:"Margen Operativo",ratio_net_profit_margin:"Margen de Utilidad Neta",ratio_exp_revenue:"Gasto-Ingreso",ratio_tax_burden:"Carga Fiscal",ratio_current_ratio:"Ratio Corriente",ratio_debt_ratio:"Ratio de Endeudamiento",ratio_debt_equity:"Deuda-Patrimonio",ratio_working_capital:"Capital de Trabajo",ratio_cash_ratio:"Ratio de Efectivo",ratio_op_cash_flow:"Ratio Flujo Operativo",ratio_free_cash_flow:"Flujo de Caja Libre",ratio_cash_flow_cov:"Cobertura de Flujo",ratio_cash_flow_margin:"Margen de Flujo",ratio_net_cash_change:"Cambio Neto de Efectivo",appSettings:"Ajustes de la Aplicacin",managePreferences:"Gestiona los detalles de tu empresa y preferencias.",companyInfo:"Informacin de la Empresa",configuration:"Configuracin",uploadLogo:"Subir Logotipo",companyName:"Nombre de la Empresa",taxId:"RFC / Tax ID",businessAddress:"Direccin Comercial",taxRate:"Tasa de Impuesto Aplicable (%)",taxRateDesc:"Usado para clculos de impuestos en los reportes.",localization:"Localizacin",language:"Idioma",myProfile:"Mi Perfil",saveChanges:"Guardar Cambios",settingsSaved:"Ajustes guardados exitosamente!",fullName:"Nombre Completo",phone:"Telfono",bio:"Bio / Cargo",security:"Seguridad",changePassword:"Cambiar Contrasea",changePasswordDesc:"Enviaremos un cdigo de verificacin de 6 dgitos para verificar tu identidad.",sendCode:"Enviar Cdigo de Verificacin",verificationCode:"Cdigo de Verificacin",newPassword:"Nueva Contrasea",codeSent:"Cdigo enviado!",codeSentDesc:"Por favor revisa tu correo (simulado en alerta) para obtener el cdigo de 6 dgitos.",passwordChanged:"Contrasea actualizada exitosamente!",invalidCode:"Cdigo de verificacin invlido.",verifyAndSave:"Verificar y Cambiar",users:"Usuarios",manageUsers:"Administrar usuarios de la empresa",addUser:"Agregar Usuario",role:"Rol",actions:"Acciones",userCreated:"Usuario creado exitosamente",userCreateError:"Error al crear usuario",active:"Activo",inactive:"Inactivo",activate:"Activar",deactivate:"Desactivar",accountInactive:"Tu cuenta est inactiva. Contacta al administrador.",sendInvitation:"Generar Cdigo de Invitacin",invitationSent:"Cdigo de Invitacin Generado!",invitationDesc:"Comparte este cdigo de 4 dgitos con el nuevo usuario. Podr usarlo para registrarse directamente (Vlido por 6 horas).",copyLink:"Copiar Cdigo",copied:"Copiado!",close:"Cerrar",invitationCode:"Cdigo de Invitacin"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ok,Dk;function kk(){return{geminiUrl:Ok,vertexUrl:Dk}}function Uk(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=kk();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi{}function he(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];y(p,e.slice(o+1),n[d])}else for(const d of f)y(d,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];y(f[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Lk(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&o.length>c)for(let f=c;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Fg(t,i,o,0,l)}}function Fg(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Fg(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,p]of Object.entries(f)){const g=[];for(const b of n.slice(r))b==="*"?g.push(d):g.push(b);y(l,g,p)}for(const d of c)delete l[d]}}else{const l=t;o in l&&Fg(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ov(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qk(t){const e={},n=m(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function jk(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],zk(l)),e}function Bk(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],Gk(l)),e}function zk(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Hk(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Gk(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Vk(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Hk(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],Wk(n)),e}function Vk(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],Xk(n)),e}function $k(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Fk(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Kk(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],Yk(l)),e}function Yk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function vN(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],Jk(l)),e}function Jk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Wk(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],ov(r));const i=m(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Xk(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],ov(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hE||(hE={}));var pE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(pE||(pE={}));var mE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(mE||(mE={}));var bt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(bt||(bt={}));var gE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gE||(gE={}));var yE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yE||(yE={}));var vE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(vE||(vE={}));var bE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(bE||(bE={}));var _E;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(_E||(_E={}));var wE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(wE||(wE={}));var SE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(SE||(SE={}));var EE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(EE||(EE={}));var xE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xE||(xE={}));var TE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(TE||(TE={}));var AE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(AE||(AE={}));var CE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(CE||(CE={}));var NE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(NE||(NE={}));var RE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(RE||(RE={}));var ME;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ME||(ME={}));var lf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(lf||(lf={}));var IE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(IE||(IE={}));var PE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(PE||(PE={}));var OE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OE||(OE={}));var Kg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Kg||(Kg={}));var DE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(DE||(DE={}));var kE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kE||(kE={}));var UE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(UE||(UE={}));var LE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(LE||(LE={}));var qE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qE||(qE={}));var jE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(jE||(jE={}));var BE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(BE||(BE={}));var zE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zE||(zE={}));var GE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(GE||(GE={}));var HE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(HE||(HE={}));var VE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(VE||(VE={}));var $E;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($E||($E={}));var FE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FE||(FE={}));var KE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(KE||(KE={}));var YE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(YE||(YE={}));var JE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(JE||(JE={}));var WE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(WE||(WE={}));var XE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(XE||(XE={}));var QE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(QE||(QE={}));var ZE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ZE||(ZE={}));var ex;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ex||(ex={}));var tx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(tx||(tx={}));var nx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nx||(nx={}));var rx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(rx||(rx={}));var ix;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ix||(ix={}));var ax;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ax||(ax={}));var ox;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ox||(ox={}));var sx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sx||(sx={}));var lx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lx||(lx={}));var ux;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ux||(ux={}));var Ko;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ko||(Ko={}));class Yg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class vl{get text(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const g=[];for(const b of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[w,S]of Object.entries(b))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(w);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;p=!0,d+=b.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const g of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[b,w]of Object.entries(g))b!=="inlineData"&&(w!==null||w!==void 0)&&p.push(b);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class cx{}class fx{}class Qk{}class Zk{}class eU{}class tU{}class dx{}class hx{}class px{}class nU{}class uf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new uf;let i;const o=e;return n?i=Bk(o):i=jk(o),Object.assign(r,i),r}}class mx{}class gx{}class yx{}class rU{}class iU{}class aU{}class sv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sv,o=Kk(e);return Object.assign(r,o),r}}class oU{}class sU{}class lU{}class vx{}class uU{get text(){var e,n,r;let i="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class cU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class lv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lv,o=vN(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bN(t,e){const n=$e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function _N(t){return Array.isArray(t)?t.map(e=>cf(e)):[cf(t)]}function cf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function wN(t){const e=cf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SN(t){const e=cf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function EN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>bx(e)):[bx(t)]}function Jg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function _x(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function wx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function hn(t){if(t==null)throw new Error("ContentUnion is required");return Jg(t)?t:{role:"user",parts:EN(t)}}function uv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=hn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=hn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>hn(n)):[hn(e)]}function lr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(_x(t)||wx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(t)]}const e=[],n=[],r=Jg(t[0]);for(const i of t){const o=Jg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(_x(i)||wx(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:EN(n)}),e}function fU(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(bt).includes(n[0].toUpperCase())?n[0].toUpperCase():bt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(bt).includes(r.toUpperCase())?r.toUpperCase():bt.TYPE_UNSPECIFIED})}}function Wo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&fU(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(bt).includes(c.toUpperCase())?c.toUpperCase():bt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Wo(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Wo(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,p]of Object.entries(c))f[d]=Wo(p);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function cv(t){return Wo(t)}function fv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wo(e.response));return t}function fs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function dU(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function pi(t,e){if(typeof e!="string")throw new Error("name must be a string");return dU(t,e,"cachedContents")}function xN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ea(t){return ov(t)}function hU(t){return t!=null&&typeof t=="object"&&"name"in t}function pU(t){return t!=null&&typeof t=="object"&&"video"in t}function mU(t){return t!=null&&typeof t=="object"&&"uri"in t}function TN(t){var e;let n;if(hU(t)&&(n=t.name),!(mU(t)&&(n=t.uri,n===void 0))&&!(pU(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function AN(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function CN(t){for(const e of["models","tunedModels","publisherModels"])if(gU(t,e))return t[e];return[]}function gU(t,e){return t!==null&&typeof t=="object"&&e in t}function yU(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function vU(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=yU(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function NN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function RN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ds(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function MN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _U(t){const e={},n=m(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>eL(l))),y(e,["inlinedResponses"],o)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["inlinedEmbedContentResponses"],o)}return e}function wU(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function SU(t){const e={},n=m(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nf(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&y(e,["state"],MN(i));const o=m(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const l=m(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const c=m(t,["metadata","updateTime"]);c!=null&&y(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&y(e,["dest"],_U(RN(d))),e}function Wg(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["state"]);i!=null&&y(e,["state"],MN(i));const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["createTime"]);l!=null&&y(e,["createTime"],l);const c=m(t,["startTime"]);c!=null&&y(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const p=m(t,["model"]);p!=null&&y(e,["model"],p);const g=m(t,["inputConfig"]);g!=null&&y(e,["src"],EU(g));const b=m(t,["outputConfig"]);b!=null&&y(e,["dest"],wU(RN(b)));const w=m(t,["completionStats"]);return w!=null&&y(e,["completionStats"],w),e}function EU(t){const e={},n=m(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function xU(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ZU(t,l))),y(n,["requests","requests"],o)}return n}function TU(t){const e={},n=m(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function AU(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function CU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function NU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function RU(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],MU(r));const i=m(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=m(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=m(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&y(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const p=m(t,["safetyRatings"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>w)),y(e,["safetyRatings"],b)}const g=m(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function MU(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function IN(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sL(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function IU(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function PU(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],SU(bU(i))),n}function Sx(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["src"]);i!=null&&y(n,["batch","inputConfig"],xU(t,NN(t,i)));const o=m(e,["config"]);return o!=null&&IU(o,n),n}function OU(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],$e(t,r));const i=m(e,["src"]);i!=null&&y(n,["inputConfig"],TU(NN(t,i)));const o=m(e,["config"]);return o!=null&&PU(o,n),n}function DU(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function kU(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["src"]);i!=null&&y(n,["batch","inputConfig"],GU(t,i));const o=m(e,["config"]);return o!=null&&DU(o,n),n}function UU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function LU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function qU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);return o!=null&&y(e,["error"],o),e}function jU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);return o!=null&&y(e,["error"],o),e}function BU(t,e){const n={},r=m(e,["contents"]);if(r!=null){let o=uv(t,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=m(e,["config"]);return i!=null&&(y(n,["_self"],zU(i,n)),Lk(n,{"requests[].*":"requests[].request.*"})),n}function zU(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GU(t,e){const n={},r=m(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],BU(t,i)),n}function HU(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function VU(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $U(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function FU(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],IN(hn(i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const S=m(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=m(e,["seed"]);T!=null&&y(r,["seed"],T);const x=m(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const C=m(e,["responseSchema"]);C!=null&&y(r,["responseSchema"],cv(C));const I=m(e,["responseJsonSchema"]);if(I!=null&&y(r,["responseJsonSchema"],I),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=m(e,["safetySettings"]);if(n!==void 0&&R!=null){let W=R;Array.isArray(W)&&(W=W.map(fe=>lL(fe))),y(n,["safetySettings"],W)}const O=m(e,["tools"]);if(n!==void 0&&O!=null){let W=fs(O);Array.isArray(W)&&(W=W.map(fe=>cL(cs(fe)))),y(n,["tools"],W)}const P=m(e,["toolConfig"]);if(n!==void 0&&P!=null&&y(n,["toolConfig"],uL(P)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=m(e,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],pi(t,D));const q=m(e,["responseModalities"]);q!=null&&y(r,["responseModalities"],q);const Z=m(e,["mediaResolution"]);Z!=null&&y(r,["mediaResolution"],Z);const L=m(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],fv(L)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=m(e,["thinkingConfig"]);ie!=null&&y(r,["thinkingConfig"],ie);const J=m(e,["imageConfig"]);return J!=null&&y(r,["imageConfig"],QU(J)),r}function KU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>RU(d))),y(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=m(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=m(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function YU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function JU(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function WU(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function XU(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function QU(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ZU(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["request","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let c=lr(i);Array.isArray(c)&&(c=c.map(f=>IN(f))),y(n,["request","contents"],c)}const o=m(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=m(e,["config"]);return l!=null&&y(n,["request","generationConfig"],FU(t,l,m(n,["request"],{}))),n}function eL(t){const e={},n=m(t,["response"]);n!=null&&y(e,["response"],KU(n));const r=m(t,["error"]);return r!=null&&y(e,["error"],r),e}function tL(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function nL(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=m(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function rL(t){const e={},n=m(t,["config"]);return n!=null&&tL(n,e),e}function iL(t){const e={},n=m(t,["config"]);return n!=null&&nL(n,e),e}function aL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>nf(l))),y(e,["batchJobs"],o)}return e}function oL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Wg(l))),y(e,["batchJobs"],o)}return e}function sL(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],HU(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],VU(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],AU(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const p=m(t,["thought"]);p!=null&&y(e,["thought"],p);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function lL(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function uL(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],$U(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function cL(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],WU(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],XU(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ii;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ii||(ii={}));class Ka{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fL extends hi{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ka(ii.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Sx(this.apiClient,e),r=n._url,i=he("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const p of f){const g=Object.assign({},p);if(g.systemInstruction){const b=g.systemInstruction;delete g.systemInstruction;const w=g.request;w.systemInstruction=b,g.request=w}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=OU(this.apiClient,e);return c=he("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Wg(p))}else{const d=Sx(this.apiClient,e);return c=he("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>nf(p))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kU(this.apiClient,e);return o=he("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>nf(f))}}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=JU(this.apiClient,e);return c=he("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Wg(p))}else{const d=YU(this.apiClient,e);return c=he("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>nf(p))}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=NU(this.apiClient,e);l=he("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=CU(this.apiClient,e);l=he("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=iL(e);return c=he("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=oL(p),b=new vx;return Object.assign(b,g),b})}else{const d=rL(e);return c=he("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=aL(p),b=new vx;return Object.assign(b,g),b})}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=LU(this.apiClient,e);return c=he("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>jU(p))}else{const d=UU(this.apiClient,e);return c=he("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>qU(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dL(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ex(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kL(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function hL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=m(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let p=lr(l);Array.isArray(p)&&(p=p.map(g=>Ex(g))),y(e,["contents"],p)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],Ex(hn(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>LL(g))),y(e,["tools"],p)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],UL(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function pL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=m(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let g=lr(l);Array.isArray(g)&&(g=g.map(b=>b)),y(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],hn(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>qL(b))),y(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const p=m(t,["kmsKeyName"]);return e!==void 0&&p!=null&&y(e,["encryption_spec","kmsKeyName"],p),n}function mL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],bN(t,r));const i=m(e,["config"]);return i!=null&&hL(i,n),n}function gL(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],bN(t,r));const i=m(e,["config"]);return i!=null&&pL(i,n),n}function yL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],pi(t,r)),n}function vL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],pi(t,r)),n}function bL(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function _L(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function wL(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function SL(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function EL(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xL(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function TL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],pi(t,r)),n}function AL(t,e){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],pi(t,r)),n}function CL(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function NL(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function RL(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function ML(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function IL(t){const e={},n=m(t,["config"]);return n!=null&&RL(n,e),e}function PL(t){const e={},n=m(t,["config"]);return n!=null&&ML(n,e),e}function OL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function DL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function kL(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],wL(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],SL(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],dL(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const p=m(t,["thought"]);p!=null&&y(e,["thought"],p);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function UL(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],EL(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function LL(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],CL(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],NL(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function qL(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>xL(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function jL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function BL(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function zL(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],pi(t,r));const i=m(e,["config"]);return i!=null&&jL(i,n),n}function GL(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],pi(t,r));const i=m(e,["config"]);return i!=null&&BL(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HL extends hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ka(ii.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=gL(this.apiClient,e);return c=he("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=mL(this.apiClient,e);return c=he("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=AL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=TL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=vL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=_L(p),b=new gx;return Object.assign(b,g),b})}else{const d=yL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=bL(p),b=new gx;return Object.assign(b,g),b})}}async update(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=GL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=zL(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=PL(e);return c=he("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=DL(p),b=new yx;return Object.assign(b,g),b})}else{const d=IL(e);return c=he("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=OL(p),b=new yx;return Object.assign(b,g),b})}}}function xx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(t){return this instanceof ft?(this.v=t,this):new ft(t)}function Xo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(S){return Promise.resolve(S).then(w,g)}}function c(w,S){r[w]&&(i[w]=function(T){return new Promise(function(x,C){o.push([w,T,x,C])>1||f(w,T)})},S&&(i[w]=S(i[w])))}function f(w,S){try{d(r[w](S))}catch(T){b(o[0][3],T)}}function d(w){w.value instanceof ft?Promise.resolve(w.value.v).then(p,g):b(o[0][2],w)}function p(w){f("next",w)}function g(w){f("throw",w)}function b(w,S){w(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Rl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xx=="function"?xx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,f){l=t[o](l),i(c,f,l.done,l.value)})}}function i(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VL(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:PN(n)}function PN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $L(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Tx(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!PN(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class FL{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new KL(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class KL{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),$L(o)}async sendMessage(e){var n;await this.sendPromise;const r=hn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,p=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let b=[];p!=null&&(b=(c=p.slice(g))!==null&&c!==void 0?c:[]);const w=d?[d]:[];this.recordHistory(r,w,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=hn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Tx(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Xo(this,arguments,function*(){var l,c,f,d;const p=[];try{for(var g=!0,b=Rl(e),w;w=yield ft(b.next()),l=w.done,!l;g=!0){d=w.value,g=!1;const S=d;if(VL(S)){const T=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&p.push(T)}yield yield ft(S)}}catch(S){c={error:S}}finally{try{!g&&!l&&(f=b.return)&&(yield ft(f.call(b)))}finally{if(c)throw c.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Tx(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YL(t){const e={},n=m(t,["file"]);return n!=null&&y(e,["file"],n),e}function JL(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function WL(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],TN(n)),e}function XL(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function QL(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],TN(n)),e}function ZL(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function eq(t){const e={},n=m(t,["config"]);return n!=null&&ZL(n,e),e}function tq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nq extends hi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ka(ii.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eq(e);return o=he("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=tq(f),p=new oU;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YL(e);return o=he("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=JL(f),p=new sU;return Object.assign(p,d),p})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QL(e);return o=he("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WL(e);return o=he("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=XL(f),p=new lU;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rf(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function rq(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bq(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function iq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function aq(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oq(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function sq(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=m(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=m(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const p=m(t,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const g=m(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=m(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&y(e,["responseMimeType"],w);const S=m(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const T=m(t,["responseSchema"]);T!=null&&y(e,["responseSchema"],T);const x=m(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const C=m(t,["seed"]);C!=null&&y(e,["seed"],C);const I=m(t,["speechConfig"]);I!=null&&y(e,["speechConfig"],ON(I));const R=m(t,["stopSequences"]);R!=null&&y(e,["stopSequences"],R);const O=m(t,["temperature"]);O!=null&&y(e,["temperature"],O);const P=m(t,["thinkingConfig"]);P!=null&&y(e,["thinkingConfig"],P);const D=m(t,["topK"]);D!=null&&y(e,["topK"],D);const q=m(t,["topP"]);if(q!=null&&y(e,["topP"],q),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lq(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function uq(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function cq(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],dv(g));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],rq(hn(S)));const T=m(t,["tools"]);if(e!==void 0&&T!=null){let D=fs(T);Array.isArray(D)&&(D=D.map(q=>wq(cs(q)))),y(e,["setup","tools"],D)}const x=m(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],_q(x));const C=m(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","inputAudioTranscription"],C);const I=m(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","outputAudioTranscription"],I);const R=m(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&y(e,["setup","realtimeInputConfig"],R);const O=m(t,["contextWindowCompression"]);e!==void 0&&O!=null&&y(e,["setup","contextWindowCompression"],O);const P=m(t,["proactivity"]);return e!==void 0&&P!=null&&y(e,["setup","proactivity"],P),n}function fq(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],sq(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],ON(dv(g)));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],hn(S));const T=m(t,["tools"]);if(e!==void 0&&T!=null){let D=fs(T);Array.isArray(D)&&(D=D.map(q=>Sq(cs(q)))),y(e,["setup","tools"],D)}const x=m(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],x);const C=m(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","inputAudioTranscription"],C);const I=m(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","outputAudioTranscription"],I);const R=m(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&y(e,["setup","realtimeInputConfig"],R);const O=m(t,["contextWindowCompression"]);e!==void 0&&O!=null&&y(e,["setup","contextWindowCompression"],O);const P=m(t,["proactivity"]);return e!==void 0&&P!=null&&y(e,["setup","proactivity"],P),n}function dq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],cq(i,n)),n}function hq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],fq(i,n)),n}function pq(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function mq(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function gq(t){const e={},n=m(t,["media"]);if(n!=null){let d=_N(n);Array.isArray(d)&&(d=d.map(p=>rf(p))),y(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&y(e,["audio"],rf(SN(r)));const i=m(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=m(t,["video"]);o!=null&&y(e,["video"],rf(wN(o)));const l=m(t,["text"]);l!=null&&y(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function yq(t){const e={},n=m(t,["media"]);if(n!=null){let d=_N(n);Array.isArray(d)&&(d=d.map(p=>p)),y(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&y(e,["audio"],SN(r));const i=m(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=m(t,["video"]);o!=null&&y(e,["video"],wN(o));const l=m(t,["text"]);l!=null&&y(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function vq(t){const e={},n=m(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=m(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const l=m(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],Eq(l));const c=m(t,["goAway"]);c!=null&&y(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function bq(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],iq(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],aq(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],rf(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const p=m(t,["thought"]);p!=null&&y(e,["thought"],p);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function _q(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ON(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=m(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function wq(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],lq(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],uq(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function Sq(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>oq(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function Eq(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=m(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const l=m(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const c=m(t,["totalTokenCount"]);c!=null&&y(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(S=>S)),y(e,["promptTokensDetails"],w)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>S)),y(e,["cacheTokensDetails"],w)}const p=m(t,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>S)),y(e,["responseTokensDetails"],w)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(S=>S)),y(e,["toolUsePromptTokensDetails"],w)}const b=m(t,["trafficType"]);return b!=null&&y(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xq(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Tq(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Aq(r));const i=m(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=m(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=m(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&y(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const p=m(t,["safetyRatings"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>w)),y(e,["safetyRatings"],b)}const g=m(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function Aq(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Cq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let o=lr(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function Nq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function Rq(t){const e={},n=m(t,["values"]);n!=null&&y(e,["values"],n);const r=m(t,["statistics"]);return r!=null&&y(e,["statistics"],Mq(r)),e}function Mq(t){const e={},n=m(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=m(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function ed(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jj(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function Iq(t){const e={},n=m(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=m(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function Pq(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Oq(t,e){const n={},r=m(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],hn(r));const i=m(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>qN(c))),y(e,["tools"],l)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],xj(o)),n}function Dq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(c=>ed(c))),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&Pq(o),n}function kq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&Oq(o,n),n}function Uq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=m(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function Lq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function qq(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function jq(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function Bq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function zq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Gq(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const p=m(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=m(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&y(e,["parameters","language"],w);const S=m(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const T=m(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T);const x=m(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const C=m(t,["labels"]);e!==void 0&&C!=null&&y(e,["labels"],C);const I=m(t,["editMode"]);e!==void 0&&I!=null&&y(e,["parameters","editMode"],I);const R=m(t,["baseSteps"]);return e!==void 0&&R!=null&&y(e,["parameters","editConfig","baseSteps"],R),n}function Hq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>$j(f))),y(n,["instances[0]","referenceImages"],c)}const l=m(e,["config"]);return l!=null&&Gq(l,n),n}function Vq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>td(o))),y(e,["generatedImages"],i)}return e}function $q(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fq(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const l=m(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const c=m(t,["autoTruncate"]);return e!==void 0&&c!=null&&y(e,["parameters","autoTruncate"],c),n}function Kq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let c=uv(t,i);Array.isArray(c)&&(c=c.map(f=>f)),y(n,["requests[]","content"],c)}const o=m(e,["config"]);o!=null&&$q(o,n);const l=m(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],$e(t,l)),n}function Yq(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let l=uv(t,i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const o=m(e,["config"]);return o!=null&&Fq(o,n),n}function Jq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Wq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Rq(l))),y(e,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Xq(t){const e={},n=m(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=m(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function Qq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Zq(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ej(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tj(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const r=m(t,["name"]);r!=null&&y(e,["name"],r);const i=m(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=m(t,["response"]);l!=null&&y(e,["response"],l);const c=m(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function nj(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],ed(hn(i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const S=m(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=m(e,["seed"]);T!=null&&y(r,["seed"],T);const x=m(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const C=m(e,["responseSchema"]);C!=null&&y(r,["responseSchema"],cv(C));const I=m(e,["responseJsonSchema"]);if(I!=null&&y(r,["responseJsonSchema"],I),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=m(e,["safetySettings"]);if(n!==void 0&&R!=null){let W=R;Array.isArray(W)&&(W=W.map(fe=>Fj(fe))),y(n,["safetySettings"],W)}const O=m(e,["tools"]);if(n!==void 0&&O!=null){let W=fs(O);Array.isArray(W)&&(W=W.map(fe=>Zj(cs(fe)))),y(n,["tools"],W)}const P=m(e,["toolConfig"]);if(n!==void 0&&P!=null&&y(n,["toolConfig"],Qj(P)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=m(e,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],pi(t,D));const q=m(e,["responseModalities"]);q!=null&&y(r,["responseModalities"],q);const Z=m(e,["mediaResolution"]);Z!=null&&y(r,["mediaResolution"],Z);const L=m(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],fv(L)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=m(e,["thinkingConfig"]);ie!=null&&y(r,["thinkingConfig"],ie);const J=m(e,["imageConfig"]);return J!=null&&y(r,["imageConfig"],Rj(J)),r}function rj(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],hn(i));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&y(r,["topP"],l);const c=m(e,["topK"]);c!=null&&y(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=m(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const w=m(e,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const S=m(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=m(e,["seed"]);T!=null&&y(r,["seed"],T);const x=m(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const C=m(e,["responseSchema"]);C!=null&&y(r,["responseSchema"],cv(C));const I=m(e,["responseJsonSchema"]);I!=null&&y(r,["responseJsonSchema"],I);const R=m(e,["routingConfig"]);R!=null&&y(r,["routingConfig"],R);const O=m(e,["modelSelectionConfig"]);O!=null&&y(r,["modelConfig"],O);const P=m(e,["safetySettings"]);if(n!==void 0&&P!=null){let H=P;Array.isArray(H)&&(H=H.map(ae=>ae)),y(n,["safetySettings"],H)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let H=fs(D);Array.isArray(H)&&(H=H.map(ae=>qN(cs(ae)))),y(n,["tools"],H)}const q=m(e,["toolConfig"]);n!==void 0&&q!=null&&y(n,["toolConfig"],q);const Z=m(e,["labels"]);n!==void 0&&Z!=null&&y(n,["labels"],Z);const L=m(e,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],pi(t,L));const ie=m(e,["responseModalities"]);ie!=null&&y(r,["responseModalities"],ie);const J=m(e,["mediaResolution"]);J!=null&&y(r,["mediaResolution"],J);const W=m(e,["speechConfig"]);W!=null&&y(r,["speechConfig"],LN(fv(W)));const fe=m(e,["audioTimestamp"]);fe!=null&&y(r,["audioTimestamp"],fe);const ye=m(e,["thinkingConfig"]);ye!=null&&y(r,["thinkingConfig"],ye);const Ee=m(e,["imageConfig"]);return Ee!=null&&y(r,["imageConfig"],Mj(Ee)),r}function Ax(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(c=>ed(c))),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],nj(t,o,n)),n}function Cx(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],rj(t,o,n)),n}function Nx(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Tq(d))),y(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=m(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=m(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function Rx(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),y(e,["candidates"],d)}const i=m(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=m(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const l=m(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const c=m(t,["responseId"]);c!=null&&y(e,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function ij(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const c=m(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=m(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=m(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const p=m(t,["language"]);e!==void 0&&p!=null&&y(e,["parameters","language"],p);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const b=m(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&y(e,["parameters","outputOptions","compressionQuality"],b),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=m(t,["imageSize"]);if(e!==void 0&&w!=null&&y(e,["parameters","sampleImageSize"],w),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function aj(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const p=m(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=m(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=m(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const w=m(t,["language"]);e!==void 0&&w!=null&&y(e,["parameters","language"],w);const S=m(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const T=m(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T);const x=m(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const C=m(t,["labels"]);e!==void 0&&C!=null&&y(e,["labels"],C);const I=m(t,["imageSize"]);e!==void 0&&I!=null&&y(e,["parameters","sampleImageSize"],I);const R=m(t,["enhancePrompt"]);return e!==void 0&&R!=null&&y(e,["parameters","enhancePrompt"],R),n}function oj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&ij(o,n),n}function sj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&aj(o,n),n}function lj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>_j(l))),y(e,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],kN(i)),e}function uj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>td(l))),y(e,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],UN(i)),e}function cj(t,e){const n={},r=m(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=m(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const l=m(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const c=m(t,["personGeneration"]);if(e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=m(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=m(t,["lastFrame"]);e!==void 0&&p!=null&&y(e,["instances[0]","lastFrame"],nd(p));const g=m(t,["referenceImages"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>dB(w))),y(e,["instances[0]","referenceImages"],b)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function fj(t,e){const n={},r=m(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=m(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const l=m(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const c=m(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=m(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=m(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const p=m(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=m(t,["pubsubTopic"]);e!==void 0&&g!=null&&y(e,["parameters","pubsubTopic"],g);const b=m(t,["negativePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","negativePrompt"],b);const w=m(t,["enhancePrompt"]);e!==void 0&&w!=null&&y(e,["parameters","enhancePrompt"],w);const S=m(t,["generateAudio"]);e!==void 0&&S!=null&&y(e,["parameters","generateAudio"],S);const T=m(t,["lastFrame"]);e!==void 0&&T!=null&&y(e,["instances[0]","lastFrame"],Tr(T));const x=m(t,["referenceImages"]);if(e!==void 0&&x!=null){let R=x;Array.isArray(R)&&(R=R.map(O=>hB(O))),y(e,["instances[0]","referenceImages"],R)}const C=m(t,["mask"]);e!==void 0&&C!=null&&y(e,["instances[0]","mask"],fB(C));const I=m(t,["compressionQuality"]);return e!==void 0&&I!=null&&y(e,["parameters","compressionQuality"],I),n}function dj(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],gj(l)),e}function hj(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],yj(l)),e}function pj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],nd(o));const l=m(e,["video"]);l!=null&&y(n,["instances[0]","video"],jN(l));const c=m(e,["source"]);c!=null&&vj(c,n);const f=m(e,["config"]);return f!=null&&cj(f,n),n}function mj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],Tr(o));const l=m(e,["video"]);l!=null&&y(n,["instances[0]","video"],BN(l));const c=m(e,["source"]);c!=null&&bj(c,n);const f=m(e,["config"]);return f!=null&&fj(f,n),n}function gj(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Sj(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function yj(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ej(l))),y(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function vj(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],nd(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],jN(o)),n}function bj(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Tr(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],BN(o)),n}function _j(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],Ij(n));const r=m(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=m(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],kN(i)),e}function td(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],DN(n));const r=m(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=m(t,["_self"]);i!=null&&y(e,["safetyAttributes"],UN(i));const o=m(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function wj(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["mask"],DN(n));const r=m(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function Sj(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],uB(n)),e}function Ej(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],cB(n)),e}function xj(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=m(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=m(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const p=m(t,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const g=m(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=m(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const w=m(t,["responseMimeType"]);w!=null&&y(e,["responseMimeType"],w);const S=m(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const T=m(t,["responseSchema"]);T!=null&&y(e,["responseSchema"],T);const x=m(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const C=m(t,["seed"]);C!=null&&y(e,["seed"],C);const I=m(t,["speechConfig"]);I!=null&&y(e,["speechConfig"],LN(I));const R=m(t,["stopSequences"]);R!=null&&y(e,["stopSequences"],R);const O=m(t,["temperature"]);O!=null&&y(e,["temperature"],O);const P=m(t,["thinkingConfig"]);P!=null&&y(e,["thinkingConfig"],P);const D=m(t,["topK"]);D!=null&&y(e,["topK"],D);const q=m(t,["topP"]);if(q!=null&&y(e,["topP"],q),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Tj(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function Aj(t,e){const n={},r=m(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function Cj(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Nj(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Rj(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Mj(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=m(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=m(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=m(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function Ij(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],ea(n));const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function DN(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],ea(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function nd(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],ea(n));const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Tr(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],ea(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Pj(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=m(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],AN(t,c)),r}function Oj(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=m(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],AN(t,c)),r}function Dj(t,e){const n={},r=m(e,["config"]);return r!=null&&Pj(t,r,n),n}function kj(t,e){const n={},r=m(e,["config"]);return r!=null&&Oj(t,r,n),n}function Uj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["_self"]);if(i!=null){let o=CN(i);Array.isArray(o)&&(o=o.map(l=>Xg(l))),y(e,["models"],o)}return e}function Lj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["_self"]);if(i!=null){let o=CN(i);Array.isArray(o)&&(o=o.map(l=>Qg(l))),y(e,["models"],o)}return e}function qj(t){const e={},n=m(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=m(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=m(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function Xg(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);i!=null&&y(e,["description"],i);const o=m(t,["version"]);o!=null&&y(e,["version"],o);const l=m(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],eB(l));const c=m(t,["inputTokenLimit"]);c!=null&&y(e,["inputTokenLimit"],c);const f=m(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=m(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const p=m(t,["temperature"]);p!=null&&y(e,["temperature"],p);const g=m(t,["maxTemperature"]);g!=null&&y(e,["maxTemperature"],g);const b=m(t,["topP"]);b!=null&&y(e,["topP"],b);const w=m(t,["topK"]);w!=null&&y(e,["topK"],w);const S=m(t,["thinking"]);return S!=null&&y(e,["thinking"],S),e}function Qg(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);i!=null&&y(e,["description"],i);const o=m(t,["versionId"]);o!=null&&y(e,["version"],o);const l=m(t,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>Xq(b))),y(e,["endpoints"],g)}const c=m(t,["labels"]);c!=null&&y(e,["labels"],c);const f=m(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],tB(f));const d=m(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const p=m(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["checkpoints"],g)}return e}function jj(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],Qq(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],Zq(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],xq(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const p=m(t,["thought"]);p!=null&&y(e,["thought"],p);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function Bj(t){const e={},n=m(t,["productImage"]);return n!=null&&y(e,["image"],Tr(n)),e}function zj(t,e){const n={},r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=m(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const l=m(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=m(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const p=m(t,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const g=m(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g);const b=m(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const w=m(t,["labels"]);return e!==void 0&&w!=null&&y(e,["labels"],w),n}function Gj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["source"]);i!=null&&Vj(i,n);const o=m(e,["config"]);return o!=null&&zj(o,n),n}function Hj(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>td(i))),y(e,["generatedImages"],r)}return e}function Vj(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Tr(i));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Bj(c))),y(e,["instances[0]","productImages"],l)}return n}function $j(t){const e={},n=m(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Tr(n));const r=m(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=m(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=m(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],qj(o));const l=m(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],Iq(l));const c=m(t,["styleImageConfig"]);c!=null&&y(e,["styleImageConfig"],c);const f=m(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function kN(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=m(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function UN(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=m(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function Fj(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Kj(t){const e={},n=m(t,["image"]);return n!=null&&y(e,["image"],Tr(n)),e}function Yj(t,e){const n={},r=m(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=m(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const l=m(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const c=m(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&y(e,["parameters","binaryColorThreshold"],c);const f=m(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function Jj(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["source"]);i!=null&&Xj(i,n);const o=m(e,["config"]);return o!=null&&Yj(o,n),n}function Wj(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wj(i))),y(e,["generatedMasks"],r)}return e}function Xj(t,e){const n={},r=m(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=m(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Tr(i));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],Kj(o)),n}function LN(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=m(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Qj(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],ej(n));const r=m(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Zj(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],Cj(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Nj(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function qN(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>tj(b))),y(e,["functionDeclarations"],g)}const r=m(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=m(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=m(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(t,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function eB(t){const e={},n=m(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=m(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function tB(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=m(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function nB(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function rB(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=m(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function iB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],$e(t,r));const i=m(e,["config"]);return i!=null&&nB(i,n),n}function aB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["config"]);return i!=null&&rB(i,n),n}function oB(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=m(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const l=m(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const c=m(t,["outputMimeType"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","mimeType"],c);const f=m(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=m(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=m(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=m(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=m(t,["numberOfImages"]);e!==void 0&&b!=null&&y(e,["parameters","sampleCount"],b);const w=m(t,["mode"]);return e!==void 0&&w!=null&&y(e,["parameters","mode"],w),n}function sB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const i=m(e,["image"]);i!=null&&y(n,["instances[0]","image"],Tr(i));const o=m(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=m(e,["config"]);return l!=null&&oB(l,n),n}function lB(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>td(o))),y(e,["generatedImages"],i)}return e}function uB(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],ea(r));const i=m(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function cB(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],ea(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function fB(t){const e={},n=m(t,["image"]);n!=null&&y(e,["_self"],Tr(n));const r=m(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function dB(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],nd(n));const r=m(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function hB(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],Tr(n));const r=m(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function jN(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const r=m(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],ea(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function BN(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=m(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],ea(r));const i=m(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pB="Content-Type",mB="X-Server-Timeout",gB="User-Agent",Zg="x-goog-api-client",yB="1.30.0",vB=`google-genai-sdk/${yB}`,bB="v1beta1",_B="v1beta",Mx=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class wB{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:bB,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:_B,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&SB(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ix(i),new Yg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ix(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Xo(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield ft(i.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const b=JSON.parse(JSON.stringify(g.error)),w=b.status,S=b.code,T=`got status: ${w}. ${JSON.stringify(g)}`;if(S>=400&&S<600)throw new Zf({message:T,status:S})}}catch(g){if(g.name==="ApiError")throw g}l+=d;let p=l.match(Mx);for(;p;){const g=p[1];try{const b=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ft(new Yg(b)),l=l.slice(p[0].length),p=l.match(Mx)}catch(b){throw new Error(`exception parsing stream chunk ${g}. ${b}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=vB+" "+this.clientOptions.userAgentExtra;return e[gB]=n,e[Zg]=n,e[pB]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(mB,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),p=he("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&r.customMetadata&&(g.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(g.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(d,c,f,p,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Ix(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Zf({message:i,status:n}):new Error(i)}}function SB(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],p=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?c[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EB="mcp_used/unknown";let xB=!1;function zN(t){for(const e of t)if(TB(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xB}function GN(t){var e;const n=(e=t[Zg])!==null&&e!==void 0?e:"";t[Zg]=(n+` ${EB}`).trimStart()}function TB(t){return t!==null&&typeof t=="object"&&t instanceof hv}function AB(t,e=100){return Xo(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield ft(t.listTools({cursor:r}));for(const l of o.tools)yield yield ft(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class hv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new hv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const p of this.mcpClients)try{for(var c=!0,f=(n=void 0,Rl(AB(p))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;l.push(g);const b=g.name;if(o[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);o[b]=p}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),vU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CB(t,e,n){const r=new cU;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class NB{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=IB(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const p=new Promise(R=>{d=R}),g=e.callbacks,b=function(){d({})},w=this.apiClient,S={onopen:b,onmessage:R=>{CB(w,g.onmessage,R)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(R){}},T=this.webSocketFactory.create(f,MB(l),S);T.connect(),await p;const I={setup:{model:$e(this.apiClient,e.model)}};return T.send(JSON.stringify(I)),new RB(T,this.apiClient)}}class RB{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=mq(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=pq(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ko.PLAY)}pause(){this.sendPlaybackControl(Ko.PAUSE)}stop(){this.sendPlaybackControl(Ko.STOP)}resetContext(){this.sendPlaybackControl(Ko.RESET_CONTEXT)}close(){this.conn.close()}}function MB(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function IB(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PB="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OB(t,e,n){const r=new uU;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=vq(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class DB{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new NB(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&zN(e.config.tools)&&GN(g);const b=qB(g);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,p);else{const L=this.apiClient.getApiKey();let ie="BidiGenerateContent",J="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",J="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ie}?${J}=${L}`}let w=()=>{};const S=new Promise(L=>{w=L}),T=e.callbacks,x=function(){var L;(L=T==null?void 0:T.onopen)===null||L===void 0||L.call(T),w({})},C=this.apiClient,I={onopen:x,onmessage:L=>{OB(C,T.onmessage,L)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(L){}},R=this.webSocketFactory.create(p,LB(b),I);R.connect(),await S;let O=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const L=this.apiClient.getProject(),ie=this.apiClient.getLocation();O=`projects/${L}/locations/${ie}/`+O}let P={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[lf.AUDIO]}:e.config.responseModalities=[lf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],q=[];for(const L of D)if(this.isCallableTool(L)){const ie=L;q.push(await ie.tool())}else q.push(L);q.length>0&&(e.config.tools=q);const Z={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=hq(this.apiClient,Z):P=dq(this.apiClient,Z),delete P.config,R.send(JSON.stringify(P)),new UB(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const kB={turnComplete:!0};class UB{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=lr(n.turns),e.isVertexAI()||(r=r.map(i=>ed(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(PB)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},kB),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:yq(e)}:n={realtimeInput:gq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function LB(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qB(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Px=10;function Ox(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qo(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Qo(t){return"callTool"in t&&typeof t.callTool=="function"}function jB(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Qo(i)))!==null&&r!==void 0?r:!1}function Dx(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Qo(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function kx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BB extends hi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!jB(n)||Ox(n.config))return await this.generateContentInternal(f);const d=Dx(n);if(d.length>0){const T=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let p,g;const b=lr(f.contents),w=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Px;let S=0;for(;S<w&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const T=p.candidates[0].content,x=[];for(const C of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Qo(C)){const R=await C.callTool(p.functionCalls);x.push(...R)}S++,g={role:"user",parts:x},f.contents=lr(f.contents),f.contents.push(T),f.contents.push(g),kx(f.config)&&(b.push(T),b.push(g))}return kx(f.config)&&(p.automaticFunctionCallingHistory=b),p},this.generateContentStream=async n=>{var r,i,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),Ox(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=Dx(n);if(f.length>0){const g=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ka(ii.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>Qo(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&zN(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),GN(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Qo(l)){const c=l,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,c)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Px;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,p,g){var b,w;return Xo(this,arguments,function*(){for(var S,T,x,C;c<o;){l&&(c++,l=!1);const P=yield ft(d.processParamsMaybeAddMcpUsage(g)),D=yield ft(d.generateContentStreamInternal(P)),q=[],Z=[];try{for(var I=!0,R=(T=void 0,Rl(D)),O;O=yield ft(R.next()),S=O.done,!S;I=!0){C=O.value,I=!1;const L=C;if(yield yield ft(L),L.candidates&&(!((b=L.candidates[0])===null||b===void 0)&&b.content)){Z.push(L.candidates[0].content);for(const ie of(w=L.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<o&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(ie.functionCall.name)){const J=yield ft(p.get(ie.functionCall.name).callTool([ie.functionCall]));q.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(L){T={error:L}}finally{try{!I&&!S&&(x=R.return)&&(yield ft(x.call(R)))}finally{if(T)throw T.error}}if(q.length>0){l=!0;const L=new vl;L.candidates=[{content:{role:"user",parts:q}}],yield yield ft(L);const ie=[];ie.push(...Z),ie.push({role:"user",parts:q});const J=lr(g.contents).concat(ie);g.contents=J}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Cx(this.apiClient,e);return c=he("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Rx(p),b=new vl;return Object.assign(b,g),b})}else{const d=Ax(this.apiClient,e);return c=he("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Nx(p),b=new vl;return Object.assign(b,g),b})}}async generateContentStreamInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Cx(this.apiClient,e);return c=he("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Xo(this,arguments,function*(){var b,w,S,T;try{for(var x=!0,C=Rl(g),I;I=yield ft(C.next()),b=I.done,!b;x=!0){T=I.value,x=!1;const R=T,O=Rx(yield ft(R.json()));O.sdkHttpResponse={headers:R.headers};const P=new vl;Object.assign(P,O),yield yield ft(P)}}catch(R){w={error:R}}finally{try{!x&&!b&&(S=C.return)&&(yield ft(S.call(C)))}finally{if(w)throw w.error}}})})}else{const d=Ax(this.apiClient,e);return c=he("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(g){return Xo(this,arguments,function*(){var b,w,S,T;try{for(var x=!0,C=Rl(g),I;I=yield ft(C.next()),b=I.done,!b;x=!0){T=I.value,x=!1;const R=T,O=Nx(yield ft(R.json()));O.sdkHttpResponse={headers:R.headers};const P=new vl;Object.assign(P,O),yield yield ft(P)}}catch(R){w={error:R}}finally{try{!x&&!b&&(S=C.return)&&(yield ft(S.call(C)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Yq(this.apiClient,e);return c=he("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Wq(p),b=new cx;return Object.assign(b,g),b})}else{const d=Kq(this.apiClient,e);return c=he("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Jq(p),b=new cx;return Object.assign(b,g),b})}}async generateImagesInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=sj(this.apiClient,e);return c=he("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=uj(p),b=new fx;return Object.assign(b,g),b})}else{const d=oj(this.apiClient,e);return c=he("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=lj(p),b=new fx;return Object.assign(b,g),b})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Hq(this.apiClient,e);return o=he("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=Vq(f),p=new Qk;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=sB(this.apiClient,e);return o=he("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=lB(f),p=new Zk;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Gj(this.apiClient,e);return o=he("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Hj(f),p=new eU;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Jj(this.apiClient,e);return o=he("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Wj(f),p=new tU;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Aj(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Qg(p))}else{const d=Tj(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Xg(p))}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=kj(this.apiClient,e);return c=he("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Lj(p),b=new dx;return Object.assign(b,g),b})}else{const d=Dj(this.apiClient,e);return c=he("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Uj(p),b=new dx;return Object.assign(b,g),b})}}async update(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=aB(this.apiClient,e);return c=he("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Qg(p))}else{const d=iB(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Xg(p))}}async delete(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=jq(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=zq(p),b=new hx;return Object.assign(b,g),b})}else{const d=qq(this.apiClient,e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Bq(p),b=new hx;return Object.assign(b,g),b})}}async countTokens(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=kq(this.apiClient,e);return c=he("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Lq(p),b=new px;return Object.assign(b,g),b})}else{const d=Dq(this.apiClient,e);return c=he("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=Uq(p),b=new px;return Object.assign(b,g),b})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Cq(this.apiClient,e);return o=he("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=Nq(f),p=new nU;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=mj(this.apiClient,e);return c=he("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const g=hj(p),b=new uf;return Object.assign(b,g),b})}else{const d=pj(this.apiClient,e);return c=he("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>{const g=dj(p),b=new uf;return Object.assign(b,g),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zB extends hi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Fk(e);return c=he("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const d=$k(e);return c=he("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=qk(e);return o=he("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GB(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function HB(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>QB(o))),y(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&y(e,["role"],r),e}function VB(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=m(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=m(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],XB(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function $B(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],VB(t,r,n)),n}function FB(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function KB(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const r=m(t,["args"]);r!=null&&y(e,["args"],r);const i=m(t,["name"]);if(i!=null&&y(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YB(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function JB(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function WB(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=m(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=m(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],dv(g));const b=m(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const w=m(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],HB(hn(S)));const T=m(t,["tools"]);if(e!==void 0&&T!=null){let D=fs(T);Array.isArray(D)&&(D=D.map(q=>e4(cs(q)))),y(e,["setup","tools"],D)}const x=m(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],ZB(x));const C=m(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","inputAudioTranscription"],C);const I=m(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","outputAudioTranscription"],I);const R=m(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&y(e,["setup","realtimeInputConfig"],R);const O=m(t,["contextWindowCompression"]);e!==void 0&&O!=null&&y(e,["setup","contextWindowCompression"],O);const P=m(t,["proactivity"]);return e!==void 0&&P!=null&&y(e,["setup","proactivity"],P),n}function XB(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],WB(i,n)),n}function QB(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&y(e,["fileData"],FB(o));const l=m(t,["functionCall"]);l!=null&&y(e,["functionCall"],KB(l));const c=m(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&y(e,["inlineData"],GB(f));const d=m(t,["text"]);d!=null&&y(e,["text"],d);const p=m(t,["thought"]);p!=null&&y(e,["thought"],p);const g=m(t,["thoughtSignature"]);g!=null&&y(e,["thoughtSignature"],g);const b=m(t,["videoMetadata"]);return b!=null&&y(e,["videoMetadata"],b),e}function ZB(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function e4(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=m(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=m(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=m(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],YB(c));const f=m(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],JB(f));const d=m(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t4(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function n4(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=t4(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class r4 extends hi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=$B(this.apiClient,e);o=he("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=n4(c,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i4(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function a4(t){const e={},n=m(t,["config"]);return n!=null&&i4(n,e),e}function o4(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function s4(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&o4(r,e),e}function l4(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function u4(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["customMetadata"],o)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function c4(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const r=m(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=m(t,["done"]);i!=null&&y(e,["done"],i);const o=m(t,["error"]);o!=null&&y(e,["error"],o);const l=m(t,["response"]);return l!=null&&y(e,["response"],d4(l)),e}function f4(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&u4(i,e),e}function d4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&y(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function h4(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function p4(t){const e={},n=m(t,["config"]);return n!=null&&h4(n,e),e}function m4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["fileSearchStores"],o)}return e}function g4(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=m(t,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["customMetadata"],c)}const l=m(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function y4(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&g4(r,e),e}function v4(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b4(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function _4(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&b4(r,e),e}function w4(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function S4(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function E4(t){const e={},n=m(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&S4(r,e),e}function x4(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T4 extends hi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ka(ii.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=w4(e);return o=he("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_4(e);i=he("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=E4(e);return o=he("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=x4(f),p=new rU;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A4 extends hi{constructor(e,n=new T4(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ka(ii.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a4(e);return o=he("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l4(e);return o=he("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=s4(e);i=he("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=p4(e);return o=he("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=m4(f),p=new iU;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=y4(e);return o=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=v4(f),p=new aU;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=f4(e);return o=he("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=c4(f),p=new sv;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C4(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function N4(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function R4(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const l=m(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function M4(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec"],Ux(w))}else if(i==="PREFERENCE_TUNING"){const w=m(t,["validationDataset"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec"],Ux(w))}const o=m(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const l=m(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(c==="PREFERENCE_TUNING"){const w=m(t,["epochCount"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(f==="PREFERENCE_TUNING"){const w=m(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(d==="PREFERENCE_TUNING"){const w=m(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(p==="PREFERENCE_TUNING"){const w=m(t,["adapterSize"]);e!==void 0&&w!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=m(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=m(t,["beta"]);return e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function I4(t,e){const n={},r=m(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=m(t,["trainingDataset"]);o!=null&&G4(o);const l=m(t,["config"]);return l!=null&&R4(l,n),n}function P4(t,e){const n={},r=m(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=m(t,["trainingDataset"]);o!=null&&H4(o,n,e);const l=m(t,["config"]);return l!=null&&M4(l,n,e),n}function O4(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function D4(t,e){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function k4(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=m(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function U4(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=m(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function L4(t,e){const n={},r=m(t,["config"]);return r!=null&&k4(r,n),n}function q4(t,e){const n={},r=m(t,["config"]);return r!=null&&U4(r,n),n}function j4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=m(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>HN(c))),y(n,["tuningJobs"],l)}return n}function B4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=m(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ey(c))),y(n,["tuningJobs"],l)}return n}function z4(t,e){const n={},r=m(t,["name"]);r!=null&&y(n,["model"],r);const i=m(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function G4(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function H4(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function HN(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["state"]);o!=null&&y(n,["state"],xN(o));const l=m(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(t,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const p=m(t,["description"]);p!=null&&y(n,["description"],p);const g=m(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=m(t,["_self"]);return b!=null&&y(n,["tunedModel"],z4(b)),n}function ey(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["state"]);o!=null&&y(n,["state"],xN(o));const l=m(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(t,["startTime"]);c!=null&&y(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const p=m(t,["error"]);p!=null&&y(n,["error"],p);const g=m(t,["description"]);g!=null&&y(n,["description"],g);const b=m(t,["baseModel"]);b!=null&&y(n,["baseModel"],b);const w=m(t,["tunedModel"]);w!=null&&y(n,["tunedModel"],w);const S=m(t,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const T=m(t,["supervisedTuningSpec"]);T!=null&&y(n,["supervisedTuningSpec"],T);const x=m(t,["preferenceOptimizationSpec"]);x!=null&&y(n,["preferenceOptimizationSpec"],x);const C=m(t,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const I=m(t,["encryptionSpec"]);I!=null&&y(n,["encryptionSpec"],I);const R=m(t,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const O=m(t,["customBaseModel"]);O!=null&&y(n,["customBaseModel"],O);const P=m(t,["experiment"]);P!=null&&y(n,["experiment"],P);const D=m(t,["labels"]);D!=null&&y(n,["labels"],D);const q=m(t,["outputUri"]);q!=null&&y(n,["outputUri"],q);const Z=m(t,["pipelineJob"]);Z!=null&&y(n,["pipelineJob"],Z);const L=m(t,["serviceAccount"]);L!=null&&y(n,["serviceAccount"],L);const ie=m(t,["tunedModelDisplayName"]);ie!=null&&y(n,["tunedModelDisplayName"],ie);const J=m(t,["veoTuningSpec"]);return J!=null&&y(n,["veoTuningSpec"],J),n}function V4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&y(n,["name"],i);const o=m(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=m(t,["done"]);l!=null&&y(n,["done"],l);const c=m(t,["error"]);return c!=null&&y(n,["error"],c),n}function Ux(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $4 extends hi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ka(ii.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Kg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=D4(e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>ey(p))}else{const d=O4(e);return c=he("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>HN(p))}}async listInternal(e){var n,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=q4(e);return c=he("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=B4(p),b=new mx;return Object.assign(b,g),b})}else{const d=L4(e);return c=he("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),l.then(p=>{const g=j4(p),b=new mx;return Object.assign(b,g),b})}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=N4(e);l=he("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=C4(e);l=he("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=P4(e,e);return o=he("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>ey(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=I4(e);return o=he("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>V4(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F4{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const K4=1024*1024*8,Y4=3,J4=1e3,W4=2,ff="x-goog-upload-status";async function X4(t,e,n){var r;const i=await VN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ff])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Q4(t,e,n){var r;const i=await VN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ff])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=vN(o),c=new lv;return Object.assign(c,l),c}async function VN(t,e,n){var r,i;let o=0,l=0,c=new Yg(new Response),f="upload";for(o=t.size;l<o;){const d=Math.min(K4,o-l),p=t.slice(l,l+d);l+d>=o&&(f+=", finalize");let g=0,b=J4;for(;g<Y4&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[ff]));)g++,await e3(b),b=b*W4;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[ff])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function Z4(t){return{size:t.size,type:t.type}}function e3(t){return new Promise(e=>setTimeout(e,t))}class t3{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await X4(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Q4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Z4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n3{create(e,n,r){return new r3(e,n,r)}}class r3{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="x-goog-api-key";class i3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Lx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Lx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a3="gl-node/";class o3{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Uk(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new i3(this.apiKey);this.apiClient=new wB({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:a3+"web",uploader:new t3,downloader:new F4}),this.models=new BB(this.apiClient),this.live=new DB(this.apiClient,i,new n3),this.batches=new fL(this.apiClient),this.chats=new FL(this.models,this.apiClient),this.caches=new HL(this.apiClient),this.files=new nq(this.apiClient),this.operations=new zB(this.apiClient),this.authTokens=new r4(this.apiClient),this.tunings=new $4(this.apiClient),this.fileSearchStores=new A4(this.apiClient)}}const $N=new o3({apiKey:"AIzaSyA_34YRlB002g91Fk359J0JOqR8Xx9hrOY"}),s3=async t=>{try{const r=await $N.models.generateContent({model:"gemini-3-pro-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:`
      Analyze this image of a financial receipt or invoice. 
      Extract the following information:
      1. Total Amount (number only)
      2. Date (ISO 8601 format YYYY-MM-DD)
      3. Due Date (ISO 8601 format YYYY-MM-DD) - if visible, otherwise null.
      4. Description (Brief summary of items)
      5. Suggest the Activity Group (OPERATING, INVESTING, FINANCING).
      6. Suggest Account Type: 
         - 'RECEIVABLE' if it's an invoice sent to a client.
         - 'PAYABLE' if it's a bill to be paid later.
         - 'CASH' if it's a receipt for immediate payment.
      
      Return JSON.
    `}]},config:{responseMimeType:"application/json",responseSchema:{type:bt.OBJECT,properties:{amount:{type:bt.NUMBER},date:{type:bt.STRING},dueDate:{type:bt.STRING,nullable:!0},description:{type:bt.STRING},group:{type:bt.STRING,enum:["OPERATING","INVESTING","FINANCING"]},type:{type:bt.STRING,enum:["INCOME","EXPENSE"]},accountType:{type:bt.STRING,enum:["CASH","PAYABLE","RECEIVABLE"]}}}}});if(r.text){const i=JSON.parse(r.text);return{amount:i.amount,date:i.date,dueDate:i.dueDate||void 0,description:i.description,group:i.group,type:i.type||vt.EXPENSE,accountType:i.accountType,status:i.accountType==="PAYABLE"||i.accountType==="RECEIVABLE"?Wt.PENDING:Wt.PAID}}throw new Error("No data returned from Gemini")}catch(e){throw console.error("Error analyzing receipt:",e),e}},l3=async(t,e,n,r)=>{try{const i="gemini-3-pro-preview",l=`
            Act as a Chief Financial Officer (CFO). ${r==="ES"?"Respond in Spanish.":"Respond in English."}
            
            I have generated a ${t}. 
            Here is the financial data summary:
            ${JSON.stringify(e,null,2)}

            Here are the calculated Key Financial Ratios:
            ${JSON.stringify(n,null,2)}

            Task:
            1. Review the provided ratios. 
            2. For each ratio provided, write a concise 1-sentence analysis of what this specific value indicates for the business health.
            3. Provide a professional executive summary (1 paragraph) of the overall financial health based on this data.
            
            IMPORTANT: 
            - Do NOT modify the 'value' field of the ratios. Keep the original calculated number/string exactly as is.
            - Do NOT modify the 'name' field.
            - Only populate the 'analysis' field.
            
            Return JSON format matching the schema.
        `,c=await $N.models.generateContent({model:i,contents:l,config:{responseMimeType:"application/json",responseSchema:{type:bt.OBJECT,properties:{analysis:{type:bt.STRING},ratios:{type:bt.ARRAY,items:{type:bt.OBJECT,properties:{name:{type:bt.STRING},value:{type:bt.STRING},analysis:{type:bt.STRING}}}}}}}});if(c.text)return JSON.parse(c.text);throw new Error("Failed to generate analysis")}catch(i){return console.error("Error generating report analysis:",i),{analysis:"Could not generate AI analysis at this time. Displaying raw calculated data.",ratios:n.map(o=>({...o,analysis:o.analysis||"Analysis unavailable."}))}}};var ty=function(t,e){return ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ty(t,e)};function FN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ty(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var df=function(){return df=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},df.apply(this,arguments)};function hs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(o=(i<3?l(o):i>3?l(e,n,o):l(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function YN(t,e){return function(n,r){e(n,r,t)}}function JN(t,e,n,r,i,o){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var c=r.kind,f=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,p=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,b=!1,w=n.length-1;w>=0;w--){var S={};for(var T in r)S[T]=T==="access"?{}:r[T];for(var T in r.access)S.access[T]=r.access[T];S.addInitializer=function(C){if(b)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(C||null))};var x=(0,n[w])(c==="accessor"?{get:p.get,set:p.set}:p[f],S);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(g=l(x.get))&&(p.get=g),(g=l(x.set))&&(p.set=g),(g=l(x.init))&&i.unshift(g)}else(g=l(x))&&(c==="field"?i.unshift(g):p[f]=g)}d&&Object.defineProperty(d,r.name,p),b=!0}function WN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function XN(t){return typeof t=="symbol"?t:"".concat(t)}function QN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function ZN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _e(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(g){l(g)}}function f(p){try{d(r.throw(p))}catch(g){l(g)}}function d(p){p.done?o(p.value):i(p.value).then(c,f)}d((r=r.apply(t,e||[])).next())})}function eR(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(p){return f([d,p])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var rd=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function tR(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rd(e,t,n)}function hf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function nR(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pv(arguments[e]));return t}function rR(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r}function iR(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function aR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(S){return Promise.resolve(S).then(w,g)}}function c(w,S){r[w]&&(i[w]=function(T){return new Promise(function(x,C){o.push([w,T,x,C])>1||f(w,T)})},S&&(i[w]=S(i[w])))}function f(w,S){try{d(r[w](S))}catch(T){b(o[0][3],T)}}function d(w){w.value instanceof rs?Promise.resolve(w.value.v).then(p,g):b(o[0][2],w)}function p(w){f("next",w)}function g(w){f("throw",w)}function b(w,S){w(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function oR(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(l){return(n=!n)?{value:rs(t[i](l)),done:!1}:o?o(l):l}:o}}function sR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hf=="function"?hf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,f){l=t[o](l),i(c,f,l.done,l.value)})}}function i(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}}function lR(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var u3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ny=function(t){return ny=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},ny(t)};function uR(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=ny(t),r=0;r<n.length;r++)n[r]!=="default"&&rd(e,t,n[r]);return u3(e,t),e}function cR(t){return t&&t.__esModule?t:{default:t}}function fR(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function dR(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function hR(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pR(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var c3=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function mR(t){function e(o){t.error=t.hasError?new c3(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return e(l),i()})}else r|=1}catch(l){e(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function gR(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?e?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):t}const f3={__extends:FN,__assign:df,__rest:hs,__decorate:KN,__param:YN,__esDecorate:JN,__runInitializers:WN,__propKey:XN,__setFunctionName:QN,__metadata:ZN,__awaiter:_e,__generator:eR,__createBinding:rd,__exportStar:tR,__values:hf,__read:pv,__spread:nR,__spreadArrays:rR,__spreadArray:iR,__await:rs,__asyncGenerator:aR,__asyncDelegator:oR,__asyncValues:sR,__makeTemplateObject:lR,__importStar:uR,__importDefault:cR,__classPrivateFieldGet:fR,__classPrivateFieldSet:dR,__classPrivateFieldIn:hR,__addDisposableResource:pR,__disposeResources:mR,__rewriteRelativeImportExtension:gR},d3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pR,get __assign(){return df},__asyncDelegator:oR,__asyncGenerator:aR,__asyncValues:sR,__await:rs,__awaiter:_e,__classPrivateFieldGet:fR,__classPrivateFieldIn:hR,__classPrivateFieldSet:dR,__createBinding:rd,__decorate:KN,__disposeResources:mR,__esDecorate:JN,__exportStar:tR,__extends:FN,__generator:eR,__importDefault:cR,__importStar:uR,__makeTemplateObject:lR,__metadata:ZN,__param:YN,__propKey:XN,__read:pv,__rest:hs,__rewriteRelativeImportExtension:gR,__runInitializers:WN,__setFunctionName:QN,__spread:nR,__spreadArray:iR,__spreadArrays:rR,__values:hf,default:f3},Symbol.toStringTag,{value:"Module"})),h3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class mv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class p3 extends mv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qx extends mv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jx extends mv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ry;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ry||(ry={}));class m3{constructor(e,{headers:n={},customFetch:r,region:i=ry.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=h3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _e(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:c,method:f,body:d,signal:p,timeout:g}=r;let b={},{region:w}=r;w||(w=this.region);const S=new URL(`${this.url}/${n}`);w&&w!=="any"&&(b["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let T;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=d):typeof d=="string"?(b["Content-Type"]="text/plain",T=d):typeof FormData<"u"&&d instanceof FormData?T=d:(b["Content-Type"]="application/json",T=JSON.stringify(d)):T=d;let x=p;g&&(l=new AbortController,o=setTimeout(()=>l.abort(),g),p?(x=l.signal,p.addEventListener("abort",()=>l.abort())):x=l.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:T,signal:x}).catch(P=>{throw new p3(P)}),I=C.headers.get("x-relay-error");if(I&&I==="true")throw new qx(C);if(!C.ok)throw new jx(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"||R==="application/pdf"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(c){return{data:null,error:c,response:c instanceof jx||c instanceof qx?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var dn={};const ps=wk(d3);var Ic={},Pc={},Oc={},Dc={},kc={},Uc={},Bx;function yR(){if(Bx)return Uc;Bx=1,Object.defineProperty(Uc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Uc.default=t,Uc}var zx;function vR(){if(zx)return kc;zx=1,Object.defineProperty(kc,"__esModule",{value:!0});const e=ps.__importDefault(yR());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,p,g,b;let w=null,S=null,T=null,x=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const P=await f.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?S=P:S=JSON.parse(P))}const R=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");R&&O&&O.length>1&&(T=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,T=null,x=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const R=await f.text();try{w=JSON.parse(R),Array.isArray(w)&&f.status===404&&(S=[],w=null,x=200,C="OK")}catch{f.status===404&&R===""?(x=204,C="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,x=200,C="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:S,count:T,status:x,statusText:C}});return this.shouldThrowOnError||(c=c.catch(f=>{var d,p,g,b,w,S;let T="";const x=f==null?void 0:f.cause;if(x){const C=(d=x==null?void 0:x.message)!==null&&d!==void 0?d:"",I=(p=x==null?void 0:x.code)!==null&&p!==void 0?p:"";T=`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,T+=`

Caused by: ${(b=x==null?void 0:x.name)!==null&&b!==void 0?b:"Error"}: ${C}`,I&&(T+=` (${I})`),x!=null&&x.stack&&(T+=`
${x.stack}`)}else T=(w=f==null?void 0:f.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=f==null?void 0:f.name)!==null&&S!==void 0?S:"FetchError"}: ${f==null?void 0:f.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return kc.default=n,kc}var Gx;function bR(){if(Gx)return Dc;Gx=1,Object.defineProperty(Dc,"__esModule",{value:!0});const e=ps.__importDefault(vR());class n extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Dc.default=n,Dc}var Hx;function gv(){if(Hx)return Oc;Hx=1,Object.defineProperty(Oc,"__esModule",{value:!0});const e=ps.__importDefault(bR()),n=new RegExp("[,()]");class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${d}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return Oc.default=r,Oc}var Vx;function _R(){if(Vx)return Pc;Vx=1,Object.defineProperty(Pc,"__esModule",{value:!0});const e=ps.__importDefault(gv());class n{constructor(i,{headers:o={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(i,o){const{head:l=!1,count:c}=o??{},f=l?"HEAD":"GET";let d=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var c;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(g.length>0){const b=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Pc.default=n,Pc}var $x;function g3(){if($x)return Ic;$x=1,Object.defineProperty(Ic,"__esModule",{value:!0});const t=ps,e=t.__importDefault(_R()),n=t.__importDefault(gv());class r{constructor(o,{headers:l={},schema:c,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=f}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:f=!1,count:d}={}){var p;let g;const b=new URL(`${this.url}/rpc/${o}`);let w;c||f?(g=c?"HEAD":"GET",Object.entries(l).filter(([T,x])=>x!==void 0).map(([T,x])=>[T,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([T,x])=>{b.searchParams.append(T,x)})):(g="POST",w=l);const S=new Headers(this.headers);return d&&S.set("Prefer",`count=${d}`),new n.default({method:g,url:b,headers:S,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Ic.default=r,Ic}var Fx;function y3(){if(Fx)return dn;Fx=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const t=ps,e=t.__importDefault(g3());dn.PostgrestClient=e.default;const n=t.__importDefault(_R());dn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(gv());dn.PostgrestFilterBuilder=r.default;const i=t.__importDefault(bR());dn.PostgrestTransformBuilder=i.default;const o=t.__importDefault(vR());dn.PostgrestBuilder=o.default;const l=t.__importDefault(yR());return dn.PostgrestError=l.default,dn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},dn}var wR=y3();const SR=xr(wR),v3=mN({__proto__:null,default:SR},[wR]),{PostgrestClient:b3,PostgrestQueryBuilder:Pee,PostgrestFilterBuilder:Oee,PostgrestTransformBuilder:Dee,PostgrestBuilder:kee,PostgrestError:Uee}=SR||v3;class _3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const w3="2.84.0",S3=`realtime-js/${w3}`,ER="1.0.0",E3="2.0.0",Kx=ER,iy=1e4,x3=1e3,T3=100;var Oa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Oa||(Oa={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var vr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vr||(vr={}));var ay;(function(t){t.websocket="websocket"})(ay||(ay={}));var Da;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Da||(Da={}));class A3{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,p=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(b),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,f.length),w.setUint8(S++,c.length),w.setUint8(S++,l.length),w.setUint8(S++,d.length),w.setUint8(S++,this.BINARY_ENCODING),Array.from(f,x=>w.setUint8(S++,x.charCodeAt(0))),Array.from(c,x=>w.setUint8(S++,x.charCodeAt(0))),Array.from(l,x=>w.setUint8(S++,x.charCodeAt(0))),Array.from(d,x=>w.setUint8(S++,x.charCodeAt(0)));var T=new Uint8Array(b.byteLength+p.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(p),b.byteLength),T.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,p=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},b=new TextEncoder().encode(JSON.stringify(p)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(S),x=0;T.setUint8(x++,this.KINDS.userBroadcastPush),T.setUint8(x++,f.length),T.setUint8(x++,c.length),T.setUint8(x++,l.length),T.setUint8(x++,d.length),T.setUint8(x++,this.JSON_ENCODING),Array.from(f,I=>T.setUint8(x++,I.charCodeAt(0))),Array.from(c,I=>T.setUint8(x++,I.charCodeAt(0))),Array.from(l,I=>T.setUint8(x++,I.charCodeAt(0))),Array.from(d,I=>T.setUint8(x++,I.charCodeAt(0)));var C=new Uint8Array(S.byteLength+b.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(b),S.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,l,c,f]=r;return n({join_ref:i,ref:o,topic:l,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(e.slice(f,f+i));f=f+i;const p=r.decode(e.slice(f,f+o));f=f+o;const g=r.decode(e.slice(f,f+l));f=f+l;const b=e.slice(f,e.byteLength),w=c===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,S={type:this.BROADCAST_EVENT,event:p,payload:w};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const Yx=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=C3(l,t,e,i),o),{}):{}},C3=(t,e,n,r)=>{const i=e.find(c=>c.name===t),o=i==null?void 0:i.type,l=n[t];return o&&!r.includes(o)?TR(o,l):oy(l)},TR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return I3(e,n)}switch(t){case at.bool:return N3(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return R3(e);case at.json:case at.jsonb:return M3(e);case at.timestamp:return P3(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return oy(e);default:return oy(e)}},oy=t=>t,N3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},M3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>TR(e,c))}return t},P3=t=>typeof t=="string"?t.replace(" ","T"):t,AR=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class am{constructor(e,n,r={},i=iy){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jx||(Jx={}));class Ml{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=Ml.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ml.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),l=this.transformState(n),c={},f={};return this.map(o,(d,p)=>{l[d]||(f[d]=p)}),this.map(l,(d,p)=>{const g=o[d];if(g){const b=p.map(x=>x.presence_ref),w=g.map(x=>x.presence_ref),S=p.filter(x=>w.indexOf(x.presence_ref)<0),T=g.filter(x=>b.indexOf(x.presence_ref)<0);S.length>0&&(c[d]=S),T.length>0&&(f[d]=T)}else c[d]=p}),this.syncDiff(o,{joins:c,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,f)=>{var d;const p=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),p.length>0){const g=e[c].map(w=>w.presence_ref),b=p.filter(w=>g.indexOf(w.presence_ref)<0);e[c].unshift(...b)}r(c,p,f)}),this.map(l,(c,f)=>{let d=e[c];if(!d)return;const p=f.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),e[c]=d,i(c,d,f),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wx||(Wx={}));var Il;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Il||(Il={}));var Zr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class yv{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new am(this,vr.join,this.params,this.timeout),this.rejoinTimer=new xR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Ml(this),this.broadcastEndpointURL=AR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:l,presence:c,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Zr.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Zr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e==null||e(Zr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,x=(S=T==null?void 0:T.length)!==null&&S!==void 0?S:0,C=[];for(let I=0;I<x;I++){const R=T[I],{filter:{event:O,schema:P,table:D,filter:q}}=R,Z=w&&w[I];if(Z&&Z.event===O&&Z.schema===P&&Z.table===D&&Z.filter===q)C.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Zr.SUBSCRIBED);return}}).receive("error",w=>{this.state=jt.errored,e==null||e(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===jt.joined&&e===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const d=await c.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new am(this,vr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new am(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>T3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:p}=vr;if(r&&[c,f,d,p].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,T,x;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((x=(T=w.filter)===null||T===void 0?void 0:T.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(w=>w.callback(b,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var S,T,x,C,I,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const O=w.id,P=(S=w.filter)===null||S===void 0?void 0:S.event;return O&&((T=n.ids)===null||T===void 0?void 0:T.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const O=(I=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return O==="*"||O===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:T,table:x,commit_timestamp:C,type:I,errors:R}=S;b=Object.assign(Object.assign({},{schema:T,table:x,commit_timestamp:C,eventType:I,new:{},old:{},errors:R}),this._getPayloadRecords(S))}w.callback(b,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&yv.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vr.close,{},e)}_onError(e){this._on(vr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Yx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Yx(e.columns,e.old_record)),n}}const om=()=>{},Lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O3=[1e3,2e3,5e3,1e4],D3=1e4,k3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U3{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=iy,this.transport=null,this.heartbeatIntervalMs=Lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.reconnectTimer=null,this.vsn=Kx,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new A3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ay.websocket}`,this.httpEndpoint=AR(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return Da.Connecting;case Oa.open:return Da.Open;case Oa.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new yv(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(x3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,c=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oa.open||this.conn.readyState===Oa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([k3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:S3};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,l,c,f,d,p,g,b,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:iy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Lc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:om,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Kx,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(S=>O3[S-1]||D3),this.vsn){case ER:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((S,T)=>T(JSON.stringify(S))),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:((S,T)=>T(JSON.parse(S)));break;case E3:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class vv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class L3 extends vv{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sy extends vv{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const bv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),q3=()=>Response,ly=t=>{if(Array.isArray(t))return t.map(n=>ly(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=ly(r)}),e},j3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},B3=(t,e,n)=>_e(void 0,void 0,void 0,function*(){const r=yield q3();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new L3(sm(i),o,l))}).catch(i=>{e(new sy(sm(i),i))}):e(new sy(sm(t),t))}),z3=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(j3(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Yl(t,e,n,r,i,o){return _e(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,z3(e,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>B3(f,c,r))})})}function Pl(t,e,n,r){return _e(this,void 0,void 0,function*(){return Yl(t,"GET",e,n,r)})}function yr(t,e,n,r,i){return _e(this,void 0,void 0,function*(){return Yl(t,"POST",e,r,i,n)})}function uy(t,e,n,r,i){return _e(this,void 0,void 0,function*(){return Yl(t,"PUT",e,r,i,n)})}function G3(t,e,n,r){return _e(this,void 0,void 0,function*(){return Yl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _v(t,e,n,r,i){return _e(this,void 0,void 0,function*(){return Yl(t,"DELETE",e,r,i,n)})}class H3{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}var CR;class V3{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[CR]="BlobDownloadBuilder",this.promise=null}asStream(){return new H3(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}}CR=Symbol.toStringTag;const $3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F3{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=bv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return _e(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Xx),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),f&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(f))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(n),p=this._getFinalPath(d),g=yield(e=="PUT"?uy:yr)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(yt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return _e(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:Xx.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const g=yield uy(this.fetch,c.toString(),f,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(yt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield yr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new vv("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}update(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield yr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return _e(this,void 0,void 0,function*(){try{const i=yield yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),f=()=>Pl(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new V3(f,this.shouldThrowOnError)}info(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Pl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ly(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield G3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r)&&r instanceof sy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield _v(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}list(e,n,r){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$3),n),{prefix:e||""});return{data:yield yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}listV2(e,n){return _e(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield yr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const NR="2.84.0",RR={"X-Client-Info":`storage-js/${NR}`};class K3{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},RR),n),this.fetch=bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Pl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}createBucket(e){return _e(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return _e(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield _v(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Y3{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},RR),n),this.fetch=bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Pl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield _v(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}}const wv={"X-Client-Info":`storage-js/${NR}`,"Content-Type":"application/json"};class MR extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class lm extends MR{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class J3 extends MR{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Qx;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Qx||(Qx={}));const Sv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X3=(t,e,n)=>_e(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new lm(Zx(l),i,c))}).catch(()=>{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new lm(c,i,l))});else{const l=i+"",c=o.statusText||`HTTP ${i} error`;e(new lm(c,i,l))}}else e(new J3(Zx(t),t))}),Q3=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(W3(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Z3(t,e,n,r,i,o){return _e(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Q3(e,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>X3(f,c,r))})})}function Gn(t,e,n,r,i){return _e(this,void 0,void 0,function*(){return Z3(t,"POST",e,r,i,n)})}class ez{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wv),n),this.fetch=Sv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}listIndexes(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return _e(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}}class tz{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wv),n),this.fetch=Sv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}queryVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class nz{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wv),n),this.fetch=Sv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listBuckets(){return _e(this,arguments,void 0,function*(e={}){try{return{data:yield Gn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class rz extends nz{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new iz(this.url,this.headers,e,this.fetch)}}class iz extends ez{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new az(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class az extends tz{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class oz extends K3{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new F3(this.url,this.headers,e,this.fetch)}get vectors(){return new rz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y3(this.url+"/iceberg",this.headers,this.fetch)}}const sz="2.84.0";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const lz={"X-Client-Info":`supabase-js-${Al}/${sz}`},uz={headers:lz},cz={schema:"public"},fz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dz={},hz=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pz=()=>Headers,mz=(t,e,n)=>{const r=hz(n),i=pz();return async(o,l)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:d}))}};function gz(t){return t.endsWith("/")?t:t+"/"}function yz(t,e){var n,r;const{db:i,auth:o,realtime:l,global:c}=t,{db:f,auth:d,realtime:p,global:g}=e,b={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function vz(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const IR="2.84.0",$o=30*1e3,cy=3,um=cy*$o,bz="http://localhost:9999",_z="supabase.auth.token",wz={"X-Client-Info":`gotrue-js/${IR}`},fy="X-Supabase-Api-Version",PR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ez=600*1e3;class Ol extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xz extends Ol{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Tz(t){return we(t)&&t.name==="AuthApiError"}class ka extends Ol{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ta extends Ol{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class jn extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Az(t){return we(t)&&t.name==="AuthSessionMissingError"}class Lo extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qc extends ta{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jc extends ta{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cz(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class eT extends ta{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dy extends ta{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cm(t){return we(t)&&t.name==="AuthRetryableFetchError"}class tT extends ta{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hy extends ta{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nT=` 	
\r=`.split(""),Nz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nT.length;e+=1)t[nT[e].charCodeAt(0)]=-2;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=e;return t})();function rT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pf[r]),e.queuedBits-=6}}function OR(t,e,n){const r=Nz[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iT(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{Iz(l,r,n)};for(let l=0;l<t.length;l+=1)OR(t.charCodeAt(l),i,o);return e.join("")}function Rz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mz(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Rz(r,e)}}function Iz(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)OR(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Pz(t){const e=[];return Mz(t,n=>e.push(n)),new Uint8Array(e)}function Ua(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>rT(i,n,r)),rT(null,n,r),e.join("")}function Oz(t){return Math.round(Date.now()/1e3)+t}function Dz(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",Ca={tested:!1,writable:!1},DR=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ca.tested)return Ca.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ca.tested=!0,Ca.writable=!0}catch{Ca.tested=!0,Ca.writable=!1}return Ca.writable};function kz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const kR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Uz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Na=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vi=async(t,e)=>{await t.removeItem(e)};class id{constructor(){this.promise=new id.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}id.promiseConstructor=Promise;function fm(t){const e=t.split(".");if(e.length!==3)throw new hy("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Sz.test(e[r]))throw new hy("JWT not in base64url format");return{header:JSON.parse(iT(e[0])),payload:JSON.parse(iT(e[1])),signature:Zo(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qz(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function jz(t){return("0"+t.toString(16)).substr(-2)}function Bz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,jz).join("")}async function zz(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Gz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await zz(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(t,e,n=!1){const r=Bz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Fo(t,`${e}-code-verifier`,i);const o=await Gz(r);return[o,r===o?"plain":"s256"]}const Hz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vz(t){const e=t.headers.get(fy);if(!e||!e.match(Hz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $z(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Fz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(t){if(!Kz.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yz(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function aT(t){return JSON.parse(JSON.stringify(t))}const Ra=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jz=[502,503,504];async function oT(t){var e;if(!Uz(t))throw new dy(Ra(t),0);if(Jz.includes(t.status))throw new dy(Ra(t),t.status);let n;try{n=await t.json()}catch(o){throw new ka(Ra(o),o)}let r;const i=Vz(t);if(i&&i.getTime()>=PR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new tT(Ra(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new tT(Ra(n),t.status,n.weak_password.reasons);throw new xz(Ra(n),t.status||500,r)}const Wz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Te(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[fy]||(o[fy]=PR["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Xz(t,e,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function Xz(t,e,n,r,i,o){const l=Wz(e,r,i,o);let c;try{c=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new dy(Ra(f),0)}if(c.ok||await oT(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await oT(f)}}function gr(t){var e;let n=null;e6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Oz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sT(t){const e=gr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qz(t){return{data:t,error:null}}function Zz(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,l=hs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function lT(t){return t}function e6(t){return t.access_token&&t.refresh_token&&t.expires_in}const hm=["global","local","others"];class t6{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=kR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=hm[0]){if(hm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hm.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fi})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fi})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:lT});if(p.error)throw p.error;const g=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);d[`${x}Page`]=T}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(we(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){jo(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fi})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jo(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fi})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jo(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fi})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jo(e.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jo(e.userId),jo(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:lT});if(p.error)throw p.error;const g=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);d[`${x}Page`]=T}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(we(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}}function uT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Bo={debug:!!(globalThis&&DR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n6 extends UR{}async function r6(t,e,n){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new n6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function i6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function LR(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function a6(t){return parseInt(t,16)}function o6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function s6(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:f,resources:d,scheme:p,uri:g,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=LR(t.address),S=p?`${p}://${r}`:r,T=t.statement?`${t.statement}
`:"",x=`${S} wants you to sign in with your Ethereum account:
${w}

${T}`;let C=`URI: ${g}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),c&&(C+=`
Not Before: ${c.toISOString()}`),f&&(C+=`
Request ID: ${f}`),d){let I=`
Resources:`;for(const R of d){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);I+=`
- ${R}`}C+=I}return`${x}
${C}`}class Dt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class mf extends Dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function l6({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(qR(l)){if(o.rp.id!==l)return new Dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function u6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(qR(r)){if(n.rpId!==r)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class c6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const f6=new c6;function d6(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=hs(t,["challenge","user","excludeCredentials"]),o=Zo(e).buffer,l=Object.assign(Object.assign({},n),{id:Zo(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];c.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:Zo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function h6(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=hs(t,["challenge","allowCredentials"]),i=Zo(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Zo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function p6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ua(new Uint8Array(i.authenticatorData)),clientDataJSON:Ua(new Uint8Array(i.clientDataJSON)),signature:Ua(new Uint8Array(i.signature)),userHandle:i.userHandle?Ua(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qR(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function cT(){var t,e;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function g6(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mf("Browser returned unexpected credential type",e)}:{data:null,error:new mf("Empty credential response",e)}}catch(e){return{data:null,error:l6({error:e,options:t})}}}async function y6(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mf("Browser returned unexpected credential type",e)}:{data:null,error:new mf("Empty credential response",e)}}catch(e){return{data:null,error:u6({error:e,options:t})}}}const v6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},b6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=gf(c,l):r[o]=gf(l)}else r[o]=l}return r}function _6(t,e){return gf(v6,t,e||{})}function w6(t,e){return gf(b6,t,e||{})}class S6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const f=i??f6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=_6(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await g6({publicKey:d,signal:f});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const d=w6(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await y6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new ka("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ol("rpId is required for WebAuthn authentication")};try{if(!cT())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new ka("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ol("rpId is required for WebAuthn registration")};try{if(!cT())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new ka("Unexpected error in register",l)}}}}i6();const E6={url:bz,storageKey:_z,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function fT(t,e,n){return await n()}const zo={};class Dl{get jwks(){var e,n;return(n=(e=zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},E6),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Dl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ln()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new t6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kR(o.fetch),this.lock=o.lock||fT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r6:this.lock=fT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new S6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:DR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=uT(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IR}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ln()&&(n=kz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ln()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Cz(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?this._returnResult({error:n}):this._returnResult({error:new ka("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:p,password:g,options:b}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await qo(this.storage,this.storageKey)),o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:p,password:g,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:S},xform:gr})}else if("phone"in e){const{phone:p,password:g,options:b}=e;o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:gr})}else throw new qc("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sT})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:sT})}else throw new qc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Lo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,l,c,f,d,p,g,b;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:T,wallet:x,statement:C,options:I}=e;let R;if(ln())if(typeof x=="object")R=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")R=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=x}const O=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href),P=await R.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=LR(P[0]);let q=(r=I==null?void 0:I.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!q){const L=await R.request({method:"eth_chainId"});q=a6(L)}const Z={domain:O.host,address:D,statement:C,uri:O.href,version:"1",chainId:q,nonce:(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=I==null?void 0:I.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=s6(Z),S=await R.request({method:"personal_sign",params:[o6(w),D]})}try{const{data:T,error:x}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:gr});if(x)throw x;if(!T||!T.session||!T.user){const C=new Lo;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:x})}catch(T){if(we(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,r,i,o,l,c,f,d,p,g,b,w;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:x,wallet:C,statement:I,options:R}=e;let O;if(ln())if(typeof C=="object")O=C;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const P=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),I?{statement:I}:null));let q;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")q=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)q=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)S=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),T=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((g=(p=R==null?void 0:R.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...R.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=D}}try{const{data:x,error:C}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ua(T)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gr});if(C)throw C;if(!x||!x.session||!x.user){const I=new Lo;return this._returnResult({data:{user:null,session:null},error:I})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(we(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Na(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gr});if(await Vi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=e,c=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:f,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const p=new Lo;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,l;try{if("email"in e){const{email:c,options:f}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await qo(this.storage,this.storageKey));const{error:g}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new qc("You must provide either an email or phone number.")}catch(c){if(we(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:gr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,l;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await qo(this.storage,this.storageKey));const d=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:Qz});return!((o=d.data)===null||o===void 0)&&o.url&&ln()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(we(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jn;const{error:i}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(we(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new qc("You must provide either an email or phone number and a type")}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<um:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Na(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=dm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=Yz(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Fi})})}catch(n){if(we(n))return Az(n)&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new jn;const l=i.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await qo(this.storage,this.storageKey));const{data:d,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:Fi});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(we(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=fm(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ln())throw new jc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new eT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eT("No code detected.");const{data:I,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=e;if(!o||!c||!l||!d)throw new jc("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let b=p+g;f&&(b=parseInt(f));const w=b-p;w*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=b-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,p);const{data:T,error:x}=await this._getUser(o);if(x)throw x;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:b,refresh_token:l,token_type:d,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Na(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Tz(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Dz(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qo(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,c,f,d,p;const{data:g,error:b}=o;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ln()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(we(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:c,token:f,access_token:d,nonce:p}=e,g=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:f,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gr}),{data:b,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Lo}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qz(async i=>(i>0&&await Lz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&cm(o)&&Date.now()+l-r<$o})}catch(r){if(this._debug(n,"error",r),we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ln()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Na(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Na(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Fo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:dm()}else if(i&&!i.user&&!i.user){const l=await Na(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Vi(this.storage,this.storageKey+"-user"),await Fo(this.storage,this.storageKey,i)):i.user=dm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<um;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${um}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),cm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new id;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new jn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),we(o)){const l={data:null,error:o};return cm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=aT(i);await Fo(this.storage,this.storageKey,o)}else{const i=aT(n);await Fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vi(this.storage,this.storageKey),await Vi(this.storage,this.storageKey+"-code-verifier"),await Vi(this.storage,this.storageKey+"-user"),this.userStorage&&await Vi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$o}ms, refresh threshold is ${cy} ticks`),i<=cy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await qo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?p6(e.webauthn.credential_response):m6(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d6(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h6(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fm(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jn});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jn});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jn})})}catch(e){if(we(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new jn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+Ez>i)return r;const{data:o,error:l}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});r=w.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:f}}=fm(r);n!=null&&n.allowExpired||$z(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:i,signature:l},error:null}}const p=Fz(i.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,Pz(`${c}.${f}`)))throw new hy("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}}Dl.nextInstanceID={};const x6=Dl;class T6 extends x6{constructor(e){super(e)}}class A6{constructor(e,n,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=n;const c=vz(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:cz,realtime:dz,auth:Object.assign(Object.assign({},fz),{storageKey:f}),global:uz},p=yz(r??{},d);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=mz(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new b3(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new oz(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new m3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:c,lock:f,debug:d,throwOnError:p},g,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T6({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:f,debug:d,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C6=(t,e,n)=>new A6(t,e,n);function N6(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R6="https://zozsbxivnpmmblypcbaq.supabase.co",M6="sb_publishable_KmLOQ9CgrsM-gZX8vw-Ekg_XKthRVTQ",We=C6(R6,M6),jR=N.createContext(void 0),I6=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState([]),[o,l]=N.useState([]),[c,f]=N.useState([]),[d,p]=N.useState(!1),[g,b]=N.useState(new Set),[w,S]=N.useState({name:"FinMKS Global",taxId:"XAXX010101000",address:"123 Business St",logoUrl:"",taxRate:16,language:"ES"}),T=U=>{var G;const F=(e==null?void 0:e.language)||w.language||"ES";return((G=dE[F])==null?void 0:G[U])||U};N.useEffect(()=>{p(!0),We.auth.getSession().then(({data:{session:F}})=>{F!=null&&F.user?x(F.user.id,F.user.email):p(!1)});const{data:{subscription:U}}=We.auth.onAuthStateChange((F,G)=>{G!=null&&G.user?x(G.user.id,G.user.email):(n(null),l([]),f([]),i([]),p(!1))});return()=>U.unsubscribe()},[]);const x=async(U,F)=>{const{data:G,error:se}=await We.from("profiles").select("*").eq("id",U).single();if(G){if(G.status==="INACTIVE"){console.warn("User is inactive. Logging out."),await W();return}const le={id:G.id,email:G.email||F,name:G.full_name||"User",role:G.role||cn.VIEWER,avatar:G.avatar_url,phone:G.phone,bio:G.bio,language:G.language,status:G.status||"ACTIVE"};n(le),C(le.id,le.role)}else if(se&&(console.error("Error fetching profile:",JSON.stringify(se)),se.code==="PGRST116")){console.log("Profile row missing. Creating default profile...");const{error:le}=await We.from("profiles").insert({id:U,email:F,full_name:"New User",role:"ADMIN",language:"ES",status:"ACTIVE"});if(le)console.error("Error creating default profile:",JSON.stringify(le));else{const ue={id:U,email:F,name:"New User",role:cn.ADMIN,avatar:"",language:"ES",status:"ACTIVE"};n(ue),C(U,cn.ADMIN)}}},C=async(U,F)=>{const{data:G}=await We.from("company_settings").select("*").limit(1).single();G&&S({name:G.name,taxId:G.tax_id,address:G.address,logoUrl:G.logo_url||"",taxRate:G.tax_rate,language:"ES"});const{data:se}=await We.from("transactions").select("*").order("date",{ascending:!1});if(se){const ue=se.map(pe=>({id:pe.id,date:pe.date,dueDate:pe.due_date,description:pe.description,amount:parseFloat(pe.amount),group:pe.group,type:pe.type,accountType:pe.account_type,status:pe.status,receiptImage:pe.receipt_image}));l(ue),ue.length===0&&q(U)}const{data:le}=await We.from("financial_reports").select("*").order("created_at",{ascending:!1});if(le){const ue=le.map(pe=>({folio:pe.folio,type:pe.type,dateGenerated:pe.created_at,periodStart:pe.period_start,periodEnd:pe.period_end,generatedBy:pe.generated_by,companySnapshot:pe.company_snapshot,data:pe.data,ratios:pe.ratios,aiAnalysis:pe.ai_analysis}));f(ue)}F===cn.ADMIN&&I(),p(!1)},I=async()=>{const{data:U,error:F}=await We.from("profiles").select("*");if(U){const G=U.map(se=>({id:se.id,name:se.full_name,email:se.email,role:se.role,avatar:se.avatar_url,phone:se.phone,bio:se.bio,language:se.language,status:se.status||"ACTIVE"}));i(G)}else F&&console.error("Error fetching all users:",JSON.stringify(F))},R=async(U,F,G)=>{const se=Math.floor(Math.random()*65535).toString(16).toUpperCase().padStart(4,"0"),le=new Date(Date.now()+360*60*1e3).toISOString(),{error:ue}=await We.from("invitations").insert({code:se,email:U,name:F,role:G,expires_at:le});return ue?(console.error("Error creating invitation:",ue),ue.code==="42501"&&alert("Permission Denied: Admins need 'insert' access to invitations table."),null):se},O=async U=>{const{data:F,error:G}=await We.from("invitations").select("*").eq("code",U).single();if(G||!F)return{success:!1,error:"Invalid Code"};const se=new Date,le=new Date(F.expires_at);return se>le?(await We.from("invitations").delete().eq("code",U),{success:!1,error:"Code Expired"}):{success:!0,data:F}},P=async U=>{if(!U.email||!U.name||!U.role)return{success:!1};const F=await R(U.email,U.name,U.role);return{success:!!F,code:F||void 0}},D=async(U,F)=>{const G=F==="ACTIVE"?"INACTIVE":"ACTIVE",{data:se,error:le}=await We.from("profiles").update({status:G}).eq("id",U).select();le?(console.error("Error updating user status:",le),alert("Failed to update status. Database error.")):se&&se.length>0?(i(ue=>ue.map(pe=>pe.id===U?{...pe,status:G}:pe)),console.log(`User ${U} status updated to ${G}`)):(console.error("Update succeeded but no rows modified. RLS likely prevented update."),alert("Permission Denied: You do not have permission to update this user's status."))},q=async U=>{const F=[],G=new Date,se=[{d:"Consulting Services",t:vt.INCOME,g:mn.OPERATING,a:ct.RECEIVABLE},{d:"Office Rent",t:vt.EXPENSE,g:mn.OPERATING,a:ct.PAYABLE},{d:"Server Hosting",t:vt.EXPENSE,g:mn.OPERATING,a:ct.PAYABLE},{d:"New Laptop",t:vt.EXPENSE,g:mn.INVESTING,a:ct.CASH},{d:"Client Retainer",t:vt.INCOME,g:mn.OPERATING,a:ct.CASH}];for(let ue=0;ue<20;ue++){const pe=se[Math.floor(Math.random()*se.length)],Q=Math.random()>.2,ee=new Date(G);ee.setDate(G.getDate()+(Q?-Math.floor(Math.random()*90):Math.floor(Math.random()*30)));let ce=Wt.PAID,oe=null;if(pe.a===ct.PAYABLE||pe.a===ct.RECEIVABLE){ce=Math.random()>.5?Wt.PAID:Wt.PENDING;const Ie=new Date(ee);Ie.setDate(Ie.getDate()+15),oe=Ie.toISOString().split("T")[0]}F.push({user_id:U,date:ee.toISOString().split("T")[0],due_date:oe,description:`${pe.d} #${1e3+ue}`,amount:Math.floor(Math.random()*5e3)+100,group:pe.g,type:pe.t,account_type:pe.a,status:ce})}const{error:le}=await We.from("transactions").insert(F);le||(console.log(" Seed data inserted successfully"),C(U,cn.ADMIN))},Z=N.useMemo(()=>{const U=[],F=new Date;return F.setHours(0,0,0,0),o.forEach(G=>{if(!g.has(G.id)&&G.status===Wt.PENDING&&G.dueDate&&(G.accountType===ct.PAYABLE||G.accountType===ct.RECEIVABLE)){const se=new Date(G.dueDate);se.setHours(0,0,0,0);const le=se.getTime()-F.getTime(),ue=Math.ceil(le/(1e3*60*60*24)),pe=G.accountType===ct.PAYABLE?"Payable":"Receivable";ue<0?U.push({id:G.id,transactionId:G.id,message:`${pe}: "${G.description}" is OVERDUE by ${Math.abs(ue)} days.`,severity:"high",date:G.dueDate,type:"OVERDUE"}):ue<=7?U.push({id:G.id,transactionId:G.id,message:`${pe}: "${G.description}" due in ${ue} days.`,severity:"medium",date:G.dueDate,type:"DUE_SOON"}):ue<=30&&U.push({id:G.id,transactionId:G.id,message:`${pe}: "${G.description}" due in ${ue} days.`,severity:"low",date:G.dueDate,type:"UPCOMING"})}}),U.sort((G,se)=>G.severity==="high"?-1:1)},[o,g]),L=U=>b(F=>new Set(F).add(U)),ie=async(U,F)=>{const{data:G,error:se}=await We.auth.signInWithPassword({email:U,password:F});if(G.user){const{data:le}=await We.from("profiles").select("status").eq("id",G.user.id).single();if(le&&le.status==="INACTIVE")return await We.auth.signOut(),{success:!1,error:T("accountInactive")}}return se?{success:!1,error:se.message}:{success:!0}},J=async(U,F,G,se,le)=>{const{data:ue,error:pe}=await We.auth.signUp({email:U,password:F});if(pe)return{success:!1,error:pe.message};if(ue.user){if(G||se){console.log("Applying invitation details to new user...");const{error:Q}=await We.from("profiles").update({full_name:G,role:se||cn.VIEWER,status:"ACTIVE"}).eq("id",ue.user.id);Q&&console.error("Error updating invited profile:",Q)}le&&await We.from("invitations").delete().eq("code",le)}return{success:!0}},W=async()=>{await We.auth.signOut()},fe=async U=>{if(!e)return;const F={full_name:U.name,phone:U.phone,bio:U.bio,avatar_url:U.avatar,language:U.language},{error:G}=await We.from("profiles").update(F).eq("id",e.id);G?(console.error("Update profile failed",JSON.stringify(G)),alert("Failed to update profile. See console.")):(console.log(" Profile updated successfully:",F),n({...e,...U}))},ye=async()=>{const{error:U}=await We.auth.resetPasswordForEmail((e==null?void 0:e.email)||"",{redirectTo:window.location.origin});return U&&console.error(U),"123456"},Ee=async(U,F)=>{const{error:G}=await We.auth.updateUser({password:F});return!G},H=async U=>{const{error:F}=await We.from("company_settings").update({name:U.name,tax_id:U.taxId,address:U.address,logo_url:U.logoUrl,tax_rate:U.taxRate}).gt("id",0);F||(console.log(" Company settings updated successfully:",U),S(U))},ae=async U=>{if(!e){alert("User not logged in");return}const{data:F,error:G}=await We.from("transactions").insert({user_id:e.id,date:U.date,due_date:U.dueDate,description:U.description,amount:U.amount,group:U.group,type:U.type,account_type:U.accountType,status:U.status,receipt_image:U.receiptImage}).select().single();if(G){console.error("Error adding transaction:",JSON.stringify(G)),alert("Failed to add transaction to database.");return}F&&(console.log(" Transaction saved to Supabase:",F),l(se=>[{...U,id:F.id},...se]))},de=async U=>{const{error:F}=await We.from("transactions").delete().eq("id",U);F||(console.log(" Transaction deleted:",U),l(G=>G.filter(se=>se.id!==U)))},be=async(U,F)=>{const{error:G}=await We.from("transactions").update({status:F}).eq("id",U);G||l(se=>se.map(le=>le.id===U?{...le,status:F}:le))},Ne=async(U,F,G)=>{try{if(!e){alert("Please log in to generate reports.");return}const se=new Date(F),le=new Date(G);le.setHours(23,59,59,999);const ue=o.filter(Be=>{const De=new Date(Be.date);return De>=se&&De<=le});let pe={},Q=[];const ee=(e==null?void 0:e.language)||"ES",ce=Be=>{var De;return((De=dE[ee])==null?void 0:De[Be])||Be};if(U===Yi.INCOME_STATEMENT){const Be=ue.filter(Ct=>Ct.type===vt.INCOME&&Ct.group===mn.OPERATING),De=ue.filter(Ct=>Ct.type===vt.EXPENSE&&Ct.group===mn.OPERATING),nt=Be.reduce((Ct,tn)=>Ct+tn.amount,0),$t=De.reduce((Ct,tn)=>Ct+tn.amount,0),en=nt-$t,yn=en>0?en*(w.taxRate/100):0,vn=en-yn;pe={period:`${F} to ${G}`,revenues:Be,expenses:De,totalRevenue:nt,totalExpenses:$t,incomeBeforeTax:en,taxRate:w.taxRate,taxAmount:yn,netIncome:vn},Q=[{name:ce("ratio_gross_margin"),value:nt>0?((nt-$t)/nt*100).toFixed(2)+"%":"0%"},{name:ce("ratio_op_margin"),value:nt>0?(en/nt*100).toFixed(2)+"%":"0%"},{name:ce("ratio_net_profit_margin"),value:nt>0?(vn/nt*100).toFixed(2)+"%":"0%"},{name:ce("ratio_exp_revenue"),value:nt>0?($t/nt*100).toFixed(2)+"%":"0%"},{name:ce("ratio_tax_burden"),value:en>0?(yn/en*100).toFixed(2)+"%":"0%"}]}else if(U===Yi.BALANCE_SHEET){const Be=o.filter(ze=>new Date(ze.date)<=le),De=Be.filter(ze=>ze.accountType===ct.CASH&&ze.type===vt.INCOME).reduce((ze,Ft)=>ze+Ft.amount,0)-Be.filter(ze=>ze.accountType===ct.CASH&&ze.type===vt.EXPENSE).reduce((ze,Ft)=>ze+Ft.amount,0),nt=Be.filter(ze=>ze.accountType===ct.RECEIVABLE&&ze.status===Wt.PENDING),$t=nt.reduce((ze,Ft)=>ze+Ft.amount,0),en=Be.filter(ze=>ze.group===mn.INVESTING&&ze.type===vt.EXPENSE).reduce((ze,Ft)=>ze+Ft.amount,0),yn=Be.filter(ze=>ze.accountType===ct.PAYABLE&&ze.status===Wt.PENDING),vn=yn.reduce((ze,Ft)=>ze+Ft.amount,0),Ct=De+$t+en,tn=vn,Nt=Ct-tn;pe={date:G,assets:{cashAndEquivalents:De,accountsReceivable:$t,fixedAssets:en,totalAssets:Ct},liabilities:{accountsPayable:vn,longTermDebt:0,totalLiabilities:tn},equity:Nt,details:{pendingReceivables:nt,pendingPayables:yn}},Q=[{name:ce("ratio_current_ratio"),value:tn>0?((De+$t)/tn).toFixed(2):"N/A"},{name:ce("ratio_debt_ratio"),value:Ct>0?(tn/Ct).toFixed(2):"0"},{name:ce("ratio_debt_equity"),value:Nt>0?(tn/Nt).toFixed(2):"N/A"},{name:ce("ratio_working_capital"),value:`$${(De+$t-vn).toFixed(2)}`},{name:ce("ratio_cash_ratio"),value:tn>0?(De/tn).toFixed(2):"N/A"}]}else if(U===Yi.CASH_FLOW){const Be=ze=>ze.accountType===ct.CASH||ze.status===Wt.PAID,De=ze=>ue.filter(Ft=>Ft.group===ze&&Be(Ft)),nt=De(mn.OPERATING),$t=De(mn.INVESTING),en=De(mn.FINANCING),yn=ze=>ze.reduce((Ft,Xa)=>Xa.type===vt.INCOME?Ft+Xa.amount:Ft-Xa.amount,0),vn=yn(nt),Ct=yn($t),tn=yn(en),Nt=vn+Ct+tn;pe={period:`${F} to ${G}`,operatingActivities:vn,investingActivities:Ct,financingActivities:tn,netCashFlow:Nt,details:{operatingTransactions:nt,investingTransactions:$t,financingTransactions:en}},Q=[{name:ce("ratio_op_cash_flow"),value:"Requires Current Liab."},{name:ce("ratio_free_cash_flow"),value:`$${(vn+Ct).toFixed(2)}`},{name:ce("ratio_cash_flow_cov"),value:"N/A"},{name:ce("ratio_cash_flow_margin"),value:"Requires Revenue"},{name:ce("ratio_net_cash_change"),value:`$${Nt.toFixed(2)}`}]}const oe=`FOL-${Date.now().toString().slice(-6)}`,{data:Ie,error:ke}=await We.from("financial_reports").insert({folio:oe,user_id:e.id,type:U,period_start:F,period_end:G,generated_by:e.name||"Unknown",company_snapshot:w,data:pe,ratios:Q}).select().single();if(Ie&&!ke){console.log(" Report generated and saved to Supabase:",Ie);const Be={folio:Ie.folio,type:Ie.type,dateGenerated:Ie.created_at,periodStart:Ie.period_start,periodEnd:Ie.period_end,generatedBy:Ie.generated_by,companySnapshot:Ie.company_snapshot,data:Ie.data,ratios:Ie.ratios,aiAnalysis:void 0};f(De=>[Be,...De])}else console.error("Error generating report:",JSON.stringify(ke)),alert("Failed to save report to database.")}catch(se){console.error("Report generation logic failed",se),alert("Failed to generate report.")}},j=async U=>{p(!0);try{const F=c.find(ee=>ee.folio===U);if(!F)return;const G=(e==null?void 0:e.language)||"ES",{analysis:se,ratios:le}=await l3(F.type,F.data,F.ratios,G),ue=new Map(le.map(ee=>[ee.name,ee.analysis])),pe=F.ratios.map(ee=>({...ee,analysis:ue.get(ee.name)||ee.analysis})),{error:Q}=await We.from("financial_reports").update({ai_analysis:se,ratios:pe}).eq("folio",U);Q||console.log(" Report analyzed and updated in Supabase"),f(ee=>ee.map(ce=>ce.folio===U?{...ce,aiAnalysis:se,ratios:pe}:ce))}catch(F){console.error("AI Analysis failed",F)}finally{p(!1)}};return E.jsx(jR.Provider,{value:{currentUser:e,allUsers:r,login:ie,signUp:J,logout:W,updateUserProfile:fe,requestPasswordReset:ye,confirmPasswordChange:Ee,companySettings:w,updateCompanySettings:H,transactions:o,addTransaction:ae,deleteTransaction:de,updateTransactionStatus:be,reports:c,generateReport:Ne,analyzeReport:j,isLoading:d,notifications:Z,dismissNotification:L,t:T,fetchAllUsers:I,addNewUser:P,toggleUserStatus:D,createInvitation:R,verifyInvitation:O},children:t})},na=()=>{const t=N.useContext(jR);if(!t)throw new Error("useFinance must be used within FinancialProvider");return t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dT=t=>{const e=O6(t);return e.charAt(0).toUpperCase()+e.slice(1)},BR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),D6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>N.createElement("svg",{ref:f,...k6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BR("lucide",i),...!o&&!D6(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>N.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(U6,{ref:o,iconNode:e,className:BR(`lucide-${P6(dT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dT(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q6=Me("arrow-left",L6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],py=Me("bell",j6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],z6=Me("brain-circuit",B6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hT=Me("building-2",G6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ev=Me("calendar",H6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$6=Me("camera",V6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],K6=Me("chart-pie",F6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],my=Me("check",Y6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xv=Me("circle-alert",J6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pT=Me("circle-check-big",W6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],mT=Me("circle-user",X6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zR=Me("circle-x",Q6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e5=Me("clock",Z6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],n5=Me("copy",t5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],i5=Me("download",r5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],o5=Me("eye-off",a5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GR=Me("eye",s5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gy=Me("file-text",l5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],c5=Me("globe",u5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],yy=Me("key-round",f5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h5=Me("layout-dashboard",d5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],es=Me("loader-circle",p5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],g5=Me("lock",m5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v5=Me("log-out",y5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],HR=Me("mail",b5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],w5=Me("menu",_5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],E5=Me("plus",S5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],T5=Me("power",x5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],C5=Me("receipt",A5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gT=Me("save",N5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],M5=Me("settings-2",R5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P5=Me("settings",I5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D5=Me("shield-check",O5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],U5=Me("shield",k5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yT=Me("sparkles",L5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j5=Me("trash-2",q5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],z5=Me("trending-down",B5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],H5=Me("trending-up",G5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$5=Me("triangle-alert",V5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K5=Me("user-plus",F5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vT=Me("users",Y5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],W5=Me("wallet",J5),X5=({currentPage:t,setPage:e})=>{const{currentUser:n,logout:r,t:i}=na(),o=[{id:"dashboard",label:i("dashboard"),icon:h5},{id:"transactions",label:i("movements"),icon:C5},{id:"reports",label:i("reports"),icon:gy},{id:"notifications",label:i("notifications"),icon:py},{id:"settings",label:i("settings"),icon:P5}];return E.jsxs("div",{className:"w-64 bg-gray-800 text-white flex flex-col h-full md:h-screen md:sticky md:top-0 no-print shadow-xl",children:[E.jsx("div",{className:"p-6 border-b border-slate-700",children:E.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[E.jsx(K6,{className:"text-blue-400"}),"FinMKS"]})}),E.jsx("div",{className:"flex-1 py-6 px-4 space-y-2",children:o.map(l=>E.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t===l.id?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(l.icon,{size:20}),E.jsx("span",{className:"font-medium",children:l.label})]},l.id))}),E.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[E.jsx("img",{src:n==null?void 0:n.avatar,alt:"User",className:"w-8 h-8 rounded-full bg-slate-800"}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[E.jsx("p",{className:"text-sm font-semibold truncate",children:n==null?void 0:n.name}),E.jsx("p",{className:"text-xs text-slate-400 truncate",children:n==null?void 0:n.role})]})]}),E.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-slate-800 rounded-lg transition-colors",children:[E.jsx(v5,{size:16}),i("signOut")]})]})]})};function VR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VR(t))&&(r&&(r+=" "),r+=e);return r}var Q5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tv(t){if(typeof t!="string")return!1;var e=Q5;return e.includes(t)}var Z5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eG=new Set(Z5);function $R(t){return typeof t!="string"?!1:eG.has(t)}function FR(t){return typeof t=="string"&&t.startsWith("data-")}function is(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&($R(n)||FR(n))&&(e[n]=t[n]);return e}function vy(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return is(e)}return typeof t=="object"&&!Array.isArray(t)?is(t):null}function ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&($R(n)||FR(n)||Tv(n))&&(e[n]=t[n]);return e}var tG=["children","width","height","viewBox","className","style","title","desc"];function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}function nG(t,e){if(t==null)return{};var n,r,i=rG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KR=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:c,title:f,desc:d}=t,p=nG(t,tG),g=o||{width:r,height:i,x:0,y:0},b=Lt("recharts-surface",l);return N.createElement("svg",by({},ur(p),{className:b,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,d),n)}),iG=["children","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(null,arguments)}function aG(t,e){if(t==null)return{};var n,r,i=oG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wi=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=aG(t,iG),o=Lt("recharts-layer",r);return N.createElement("g",_y({className:o},ur(i),{ref:e}),n)}),YR=yN(),sG=N.createContext(null);function ot(t){return function(){return t}}const JR=Math.cos,yf=Math.sin,Ar=Math.sqrt,vf=Math.PI,ad=2*vf,wy=Math.PI,Sy=2*wy,Ma=1e-6,lG=Sy-Ma;function WR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WR:uG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-e,d=i-n,p=l-e,g=c-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Ma)if(!(Math.abs(g*f-d*p)>Ma)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,S=i-c,T=f*f+d*d,x=w*w+S*S,C=Math.sqrt(T),I=Math.sqrt(b),R=o*Math.tan((wy-Math.acos((T+b-x)/(2*C*I)))/2),O=R/I,P=R/C;Math.abs(O-1)>Ma&&this._append`L${e+O*p},${n+O*g}`,this._append`A${o},${o},0,0,${+(g*w>p*S)},${this._x1=e+P*f},${this._y1=n+P*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,p=n+f,g=1^l,b=l?i-o:o-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Ma||Math.abs(this._y1-p)>Ma)&&this._append`L${d},${p}`,r&&(b<0&&(b=b%Sy+Sy),b>lG?this._append`A${r},${r},0,1,${g},${e-c},${n-f}A${r},${r},0,1,${g},${this._x1=d},${this._y1=p}`:b>Ma&&this._append`A${r},${r},0,${+(b>=wy)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Av(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cG(e)}function Cv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XR(t){this._context=t}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function od(t){return new XR(t)}function QR(t){return t[0]}function ZR(t){return t[1]}function eM(t,e){var n=ot(!0),r=null,i=od,o=null,l=Av(c);t=typeof t=="function"?t:t===void 0?QR:ot(t),e=typeof e=="function"?e:e===void 0?ZR:ot(e);function c(f){var d,p=(f=Cv(f)).length,g,b=!1,w;for(r==null&&(o=i(w=l())),d=0;d<=p;++d)!(d<p&&n(g=f[d],d,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(g,d,f),+e(g,d,f));if(w)return o=null,w+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ot(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),c):r},c}function Bc(t,e,n){var r=null,i=ot(!0),o=null,l=od,c=null,f=Av(d);t=typeof t=="function"?t:t===void 0?QR:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ZR:ot(+n);function d(g){var b,w,S,T=(g=Cv(g)).length,x,C=!1,I,R=new Array(T),O=new Array(T);for(o==null&&(c=l(I=f())),b=0;b<=T;++b){if(!(b<T&&i(x=g[b],b,g))===C)if(C=!C)w=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=b-1;S>=w;--S)c.point(R[S],O[S]);c.lineEnd(),c.areaEnd()}C&&(R[b]=+t(x,b,g),O[b]=+e(x,b,g),c.point(r?+r(x,b,g):R[b],n?+n(x,b,g):O[b]))}if(I)return c=null,I+""||null}function p(){return eM().defined(i).curve(l).context(o)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:ot(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:ot(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ot(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:ot(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:ot(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ot(+g),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ot(!!g),d):i},d.curve=function(g){return arguments.length?(l=g,o!=null&&(c=l(o)),d):l},d.context=function(g){return arguments.length?(g==null?o=c=null:c=l(o=g),d):o},d}class tM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fG(t){return new tM(t,!0)}function dG(t){return new tM(t,!1)}const Nv={draw(t,e){const n=Ar(e/vf);t.moveTo(n,0),t.arc(0,0,n,0,ad)}},hG={draw(t,e){const n=Ar(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nM=Ar(1/3),pG=nM*2,mG={draw(t,e){const n=Ar(e/pG),r=n*nM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gG={draw(t,e){const n=Ar(e),r=-n/2;t.rect(r,r,n,n)}},yG=.8908130915292852,rM=yf(vf/10)/yf(7*vf/10),vG=yf(ad/10)*rM,bG=-JR(ad/10)*rM,_G={draw(t,e){const n=Ar(e*yG),r=vG*n,i=bG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=ad*o/5,c=JR(l),f=yf(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},pm=Ar(3),wG={draw(t,e){const n=-Ar(e/(pm*3));t.moveTo(0,n*2),t.lineTo(-pm*n,-n),t.lineTo(pm*n,-n),t.closePath()}},ir=-.5,ar=Ar(3)/2,Ey=1/Ar(12),SG=(Ey/2+1)*3,EG={draw(t,e){const n=Ar(e/SG),r=n/2,i=n*Ey,o=r,l=n*Ey+n,c=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(ir*r-ar*i,ar*r+ir*i),t.lineTo(ir*o-ar*l,ar*o+ir*l),t.lineTo(ir*c-ar*f,ar*c+ir*f),t.lineTo(ir*r+ar*i,ir*i-ar*r),t.lineTo(ir*o+ar*l,ir*l-ar*o),t.lineTo(ir*c+ar*f,ir*f-ar*c),t.closePath()}};function xG(t,e){let n=null,r=Av(i);t=typeof t=="function"?t:ot(t||Nv),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function bf(){}function _f(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function iM(t){this._context=t}iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_f(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TG(t){return new iM(t)}function aM(t){this._context=t}aM.prototype={areaStart:bf,areaEnd:bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new aM(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CG(t){return new oM(t)}function sM(t){this._context=t}sM.prototype={areaStart:bf,areaEnd:bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NG(t){return new sM(t)}function bT(t){return t<0?-1:1}function _T(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return(bT(o)+bT(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function wT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,l-c*n,o,l)}function wf(t){this._context=t}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mm(this,this._t0,wT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mm(this,wT(this,n=_T(this,t,e)),n);break;default:mm(this,this._t0,n=_T(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lM(t){this._context=new uM(t)}(lM.prototype=Object.create(wf.prototype)).point=function(t,e){wf.prototype.point.call(this,e,t)};function uM(t){this._context=t}uM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function RG(t){return new wf(t)}function MG(t){return new lM(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ST(t),i=ST(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ST(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function IG(t){return new cM(t)}function sd(t,e){this._context=t,this._t=e}sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PG(t){return new sd(t,.5)}function OG(t){return new sd(t,0)}function DG(t){return new sd(t,1)}function as(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,c=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kG(t,e){return t[e]}function UG(t){const e=[];return e.key=t,e}function LG(){var t=ot([]),e=xy,n=as,r=kG;function i(o){var l=Array.from(t.apply(this,arguments),UG),c,f=l.length,d=-1,p;for(const g of o)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(g,l[c].key,d,o)]).data=g;for(c=0,p=Cv(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?xy:typeof o=="function"?o:ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??as,i):n},i}function qG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}as(t,e)}}function jG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}as(t,e)}}function BG(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,f=0,d=0;c<l;++c){for(var p=t[e[c]],g=p[r][1]||0,b=p[r-1][1]||0,w=(g-b)/2,S=0;S<c;++S){var T=t[e[S]],x=T[r][1]||0,C=T[r-1][1]||0;w+=x-C}f+=g,d+=w*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,as(t,e)}}var gm={},ym={},ET;function zG(){return ET||(ET=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(ym)),ym}var vm={},xT;function fM(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vm)),vm}var bm={},TT;function Rv(){return TT||(TT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(bm)),bm}var _m={},wm={},AT;function GG(){return AT||(AT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(wm)),wm}var CT;function Mv(){return CT||(CT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GG(),n=Rv();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let c=0,f="",d="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const g=i[c];d?g==="\\"&&c+1<l?(c++,f+=i[c]):g===d?d="":f+=g:p?g==='"'||g==="'"?d=g:g==="]"?(p=!1,o.push(f),f=""):f+=g:g==="["?(p=!0,f&&(o.push(f),f="")):g==="."?f&&(o.push(f),f=""):f+=g,c++}return f&&o.push(f),o}t.toPath=r})(_m)),_m}var NT;function Iv(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zG(),n=fM(),r=Rv(),i=Mv();function o(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?n.isDeepKey(f)?o(c,i.toPath(f),d):d:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=c[f];return p===void 0?d:p}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?d:p}}}function l(c,f,d){if(f.length===0)return d;let p=c;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return d;p=p[f[g]]}return p===void 0?d:p}t.get=o})(gm)),gm}var Sm,RT;function HG(){return RT||(RT=1,Sm=Iv().get),Sm}var VG=HG();const kl=xr(VG);var Cn=t=>t===0?0:t>0?1:-1,ai=t=>typeof t=="number"&&t!=+t,oi=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!ai(t),si=t=>Ce(t)||typeof t=="string",$G=0,Ul=t=>{var e=++$G;return"".concat(t||"").concat(e)},Vn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var o;if(oi(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return ai(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},dM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function br(t,e,n){return Ce(t)&&Ce(e)?t+n*(e-t):e}function FG(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):kl(r,e))===n)}var Fn=t=>t===null||typeof t>"u",Jl=t=>Fn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function KG(t){return t!=null}function Wl(){}var YG=["type","size","sizeType"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){JG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e,n){return(e=WG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WG(t){var e=XG(t,"string");return typeof e=="symbol"?e:e+""}function XG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QG(t,e){if(t==null)return{};var n,r,i=ZG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hM={symbolCircle:Nv,symbolCross:hG,symbolDiamond:mG,symbolSquare:gG,symbolStar:_G,symbolTriangle:wG,symbolWye:EG},eH=Math.PI/180,tH=t=>{var e="symbol".concat(Jl(t));return hM[e]||Nv},nH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*eH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rH=(t,e)=>{hM["symbol".concat(Jl(t))]=e},pM=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=QG(t,YG),o=IT(IT({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=tH(l),w=xG().type(b).size(nH(n,r,l)),S=w();if(S!==null)return S},{className:f,cx:d,cy:p}=o,g=ur(o);return Ce(d)&&Ce(p)&&Ce(n)?N.createElement("path",Ty({},g,{className:Lt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};pM.registerSymbol=rH;var mM=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,iH=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Tv(i)&&(r[i]=(o=>n[i](n,o)))}),r},aH=(t,e,n)=>r=>(t(e,n,r),null),oH=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Tv(i)&&typeof o=="function"&&(r||(r={}),r[i]=aH(o,e,n))}),r};function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){lH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lH(t,e,n){return(e=uH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uH(t){var e=cH(t,"string");return typeof e=="symbol"?e:e+""}function cH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e){var n=sH({},t),r=e,i=Object.keys(e),o=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}var Em={},xm={},OT;function fH(){return OT||(OT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(xm)),xm}var Tm={},DT;function gM(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Tm)),Tm}var Am={},Cm={},Nm={},kT;function dH(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nm)),Nm}var UT;function Pv(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Cm)),Cm}var Rm={},LT;function hH(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Rm)),Rm}var qT;function pH(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pv(),n=hH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Am)),Am}var Mm={},Im={},jT;function mH(){return jT||(jT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iv();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Im)),Im}var Pm={},Om={},Dm={},km={},BT;function yM(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(km)),km}var Um={},zT;function vM(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Um)),Um}var Lm={},GT;function bM(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lm)),Lm}var HT;function gH(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM(),n=vM(),r=bM();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):o(p,g,function w(S,T,x,C,I,R){const O=b(S,T,x,C,I,R);return O!==void 0?!!O:o(S,T,w,R)},new Map)}function o(p,g,b,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,w);case"function":return Object.keys(g).length>0?o(p,{...g},b,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,b,w);if(g instanceof Map)return c(p,g,b,w);if(g instanceof Set)return d(p,g,b,w);const S=Object.keys(g);if(p==null)return S.length===0;if(S.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let T=0;T<S.length;T++){const x=S[T];if(!n.isPrimitive(p)&&!(x in p)||g[x]===void 0&&p[x]!==void 0||g[x]===null&&p[x]!==null||!b(p[x],g[x],x,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function c(p,g,b,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,T]of g.entries()){const x=p.get(S);if(b(x,T,S,p,g,w)===!1)return!1}return!0}function f(p,g,b,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let T=0;T<g.length;T++){const x=g[T];let C=!1;for(let I=0;I<p.length;I++){if(S.has(I))continue;const R=p[I];let O=!1;if(b(R,x,T,p,g,w)&&(O=!0),O){S.add(I),C=!0;break}}if(!C)return!1}return!0}function d(p,g,b,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],b,w):!1}t.isMatchWith=i,t.isSetMatch=d})(Dm)),Dm}var VT;function _M(){return VT||(VT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Om)),Om}var qm={},jm={},Bm={},$T;function yH(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Bm)),Bm}var zm={},FT;function wM(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(zm)),zm}var Gm={},KT;function SM(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",S="[object Error]",T="[object DataView]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",q="[object Int32Array]",Z="[object BigInt64Array]",L="[object Float32Array]",ie="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=Z,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=T,t.dateTag=c,t.errorTag=S,t.float32ArrayTag=L,t.float64ArrayTag=ie,t.functionTag=g,t.int16ArrayTag=D,t.int32ArrayTag=q,t.int8ArrayTag=P,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=I,t.uint32ArrayTag=R,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=C})(Gm)),Gm}var Hm={},YT;function vH(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Hm)),Hm}var JT;function EM(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yH(),n=wM(),r=SM(),i=vM(),o=vH();function l(p,g){return c(p,void 0,p,new Map,g)}function c(p,g,b,w=new Map,S=void 0){const T=S==null?void 0:S(p,g,b,w);if(T!==void 0)return T;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const x=new Array(p.length);w.set(p,x);for(let C=0;C<p.length;C++)x[C]=c(p[C],C,b,w,S);return Object.hasOwn(p,"index")&&(x.index=p.index),Object.hasOwn(p,"input")&&(x.input=p.input),x}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const x=new RegExp(p.source,p.flags);return x.lastIndex=p.lastIndex,x}if(p instanceof Map){const x=new Map;w.set(p,x);for(const[C,I]of p)x.set(C,c(I,C,b,w,S));return x}if(p instanceof Set){const x=new Set;w.set(p,x);for(const C of p)x.add(c(C,void 0,b,w,S));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const x=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,x);for(let C=0;C<p.length;C++)x[C]=c(p[C],C,b,w,S);return x}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const x=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,x),f(x,p,b,w,S),x}if(typeof File<"u"&&p instanceof File){const x=new File([p],p.name,{type:p.type});return w.set(p,x),f(x,p,b,w,S),x}if(typeof Blob<"u"&&p instanceof Blob){const x=new Blob([p],{type:p.type});return w.set(p,x),f(x,p,b,w,S),x}if(p instanceof Error){const x=new p.constructor;return w.set(p,x),x.message=p.message,x.name=p.name,x.stack=p.stack,x.cause=p.cause,f(x,p,b,w,S),x}if(p instanceof Boolean){const x=new Boolean(p.valueOf());return w.set(p,x),f(x,p,b,w,S),x}if(p instanceof Number){const x=new Number(p.valueOf());return w.set(p,x),f(x,p,b,w,S),x}if(p instanceof String){const x=new String(p.valueOf());return w.set(p,x),f(x,p,b,w,S),x}if(typeof p=="object"&&d(p)){const x=Object.create(Object.getPrototypeOf(p));return w.set(p,x),f(x,p,b,w,S),x}return p}function f(p,g,b=p,w,S){const T=[...Object.keys(g),...e.getSymbols(g)];for(let x=0;x<T.length;x++){const C=T[x],I=Object.getOwnPropertyDescriptor(p,C);(I==null||I.writable)&&(p[C]=c(g[C],C,b,w,S))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(jm)),jm}var WT;function bH(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qm)),qm}var XT;function _H(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M(),n=bH();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(Pm)),Pm}var Vm={},$m={},Fm={},QT;function wH(){return QT||(QT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EM(),n=SM();function r(i,o){return e.cloneDeepWith(i,(l,c,f,d)=>{const p=o==null?void 0:o(l,c,f,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Fm)),Fm}var ZT;function SH(){return ZT||(ZT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($m)),$m}var Km={},Ym={},eA;function xM(){return eA||(eA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ym)),Ym}var Jm={},tA;function EH(){return tA||(tA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Jm)),Jm}var nA;function xH(){return nA||(nA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fM(),n=xM(),r=EH(),i=Mv();function o(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let p=0;p<f.length;p++){const g=f[p];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=o})(Km)),Km}var rA;function TH(){return rA||(rA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M(),n=Rv(),r=SH(),i=Iv(),o=xH();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const p=i.get(d,c);return p===void 0?o.has(d,c):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(Vm)),Vm}var iA;function AH(){return iA||(iA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gM(),n=mH(),r=_H(),i=TH();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Mm)),Mm}var aA;function CH(){return aA||(aA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fH(),n=gM(),r=pH(),i=AH();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=o})(Em)),Em}var Wm,oA;function NH(){return oA||(oA=1,Wm=CH().uniqBy),Wm}var RH=NH();const sA=xr(RH);function MH(t,e,n){return e===!0?sA(t,n):typeof e=="function"?sA(t,e):t}var Xm={exports:{}},Qm={},Zm={exports:{}},eg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function IH(){if(lA)return eg;lA=1;var t=us();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(g,b){var w=b(),S=r({inst:{value:w,getSnapshot:b}}),T=S[0].inst,x=S[1];return o(function(){T.value=w,T.getSnapshot=b,f(T)&&x({inst:T})},[g,w,b]),i(function(){return f(T)&&x({inst:T}),g(function(){f(T)&&x({inst:T})})},[g]),l(w),w}function f(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function d(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return eg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,eg}var uA;function PH(){return uA||(uA=1,Zm.exports=IH()),Zm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function OH(){if(cA)return Qm;cA=1;var t=us(),e=PH();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Qm.useSyncExternalStoreWithSelector=function(d,p,g,b,w){var S=o(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=c(function(){function C(D){if(!I){if(I=!0,R=D,D=b(D),w!==void 0&&T.hasValue){var q=T.value;if(w(q,D))return O=q}return O=D}if(q=O,r(R,D))return q;var Z=b(D);return w!==void 0&&w(q,Z)?(R=D,q):(R=D,O=Z)}var I=!1,R,O,P=g===void 0?null:g;return[function(){return C(p())},P===null?void 0:function(){return C(P())}]},[p,g,b,w]);var x=i(d,S[0],S[1]);return l(function(){T.hasValue=!0,T.value=x},[x]),f(x),x},Qm}var fA;function DH(){return fA||(fA=1,Xm.exports=OH()),Xm.exports}var kH=DH(),Ov=N.createContext(null),UH=t=>t,zt=()=>{var t=N.useContext(Ov);return t?t.store.dispatch:UH},af=()=>{},LH=()=>af,qH=(t,e)=>t===e;function Oe(t){var e=N.useContext(Ov);return kH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:LH,e?e.store.getState:af,e?e.store.getState:af,e?t:af,qH)}function jH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function BH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function zH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var dA=t=>Array.isArray(t)?t:[t];function GH(t){const e=Array.isArray(t[0])?t[0]:t;return zH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function HH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var VH=class{constructor(t){this.value=t}deref(){return this.value}},$H=typeof WeakRef<"u"?WeakRef:VH,FH=0,hA=1;function zc(){return{s:FH,v:void 0,o:null,p:null}}function TM(t,e={}){let n=zc();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var g;let c=n;const{length:f}=arguments;for(let b=0,w=f;b<w;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let T=c.o;T===null&&(c.o=T=new WeakMap);const x=T.get(S);x===void 0?(c=zc(),T.set(S,c)):c=x}else{let T=c.p;T===null&&(c.p=T=new Map);const x=T.get(S);x===void 0?(c=zc(),T.set(S,c)):c=x}}const d=c;let p;if(c.s===hA)p=c.v;else if(p=t.apply(null,arguments),o++,r){const b=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;b!=null&&r(b,p)&&(p=b,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new $H(p):p}return d.s=hA,d.v=p,p}return l.clearCache=()=>{n=zc(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function KH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),jH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:w=TM,argsMemoizeOptions:S=[]}=p,T=dA(b),x=dA(S),C=GH(i),I=g(function(){return o++,d.apply(null,arguments)},...T),R=w(function(){l++;const P=HH(C,arguments);return c=I.apply(null,P),c},...x);return Object.assign(R,{resultFunc:d,memoizedResultFunc:I,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var Y=KH(TM),YH=Object.assign((t,e=Y)=>{BH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>YH}),tg={},ng={},rg={},pA;function JH(){return pA||(pA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(rg)),rg}var ig={},ag={},mA;function AM(){return mA||(mA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ag)),ag}var gA;function WH(){return gA||(gA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(ig)),ig}var yA;function XH(){return yA||(yA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JH(),n=WH(),r=Mv();function i(o,l,c,f){if(o==null)return[];c=f?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const d=(w,S)=>{let T=w;for(let x=0;x<S.length&&T!=null;++x)T=T[S[x]];return T},p=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:d(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?d(S,w):typeof S=="object"?S[w]:S,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:g.map(S=>p(S,w))})).slice().sort((w,S)=>{for(let T=0;T<g.length;T++){const x=e.compareValues(w.criteria[T],S.criteria[T],c[T]);if(x!==0)return x}return 0}).map(w=>w.original)}t.orderBy=i})(ng)),ng}var og={},vA;function QH(){return vA||(vA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const p=c[d];Array.isArray(p)&&f<o?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(og)),og}var sg={},bA;function CM(){return bA||(bA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xM(),n=Pv(),r=yM(),i=bM();function o(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=o})(sg)),sg}var _A;function ZH(){return _A||(_A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XH(),n=QH(),r=CM();function i(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(tg)),tg}var lg,wA;function eV(){return wA||(wA=1,lg=ZH().sortBy),lg}var tV=eV();const ld=xr(tV);var NM=t=>t.legend.settings,nV=t=>t.legend.size,rV=t=>t.legend.payload;Y([rV,NM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ld(r,n):r});var Gc=1;function iV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Gc||Math.abs(l.left-e.left)>Gc||Math.abs(l.top-e.top)>Gc||Math.abs(l.width-e.width)>Gc)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function un(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aV=typeof Symbol=="function"&&Symbol.observable||"@@observable",SA=aV,ug=()=>Math.random().toString(36).substring(7).split("").join("."),oV={INIT:`@@redux/INIT${ug()}`,REPLACE:`@@redux/REPLACE${ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ug()}`},Sf=oV;function Dv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function RM(t,e,n){if(typeof t!="function")throw new Error(un(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(un(1));return n(RM)(t,e)}let r=t,i=e,o=new Map,l=o,c=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((x,C)=>{l.set(C,x)}))}function p(){if(f)throw new Error(un(3));return i}function g(x){if(typeof x!="function")throw new Error(un(4));if(f)throw new Error(un(5));let C=!0;d();const I=c++;return l.set(I,x),function(){if(C){if(f)throw new Error(un(6));C=!1,d(),l.delete(I),o=null}}}function b(x){if(!Dv(x))throw new Error(un(7));if(typeof x.type>"u")throw new Error(un(8));if(typeof x.type!="string")throw new Error(un(17));if(f)throw new Error(un(9));try{f=!0,i=r(i,x)}finally{f=!1}return(o=l).forEach(I=>{I()}),x}function w(x){if(typeof x!="function")throw new Error(un(10));r=x,b({type:Sf.REPLACE})}function S(){const x=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(un(11));function I(){const O=C;O.next&&O.next(p())}return I(),{unsubscribe:x(I)}},[SA](){return this}}}return b({type:Sf.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:w,[SA]:S}}function sV(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Sf.INIT})>"u")throw new Error(un(12));if(typeof n(void 0,{type:Sf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(un(13))})}function MM(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{sV(n)}catch(o){i=o}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],w=l[g],S=b(w,c);if(typeof S>"u")throw c&&c.type,new Error(un(14));d[g]=S,f=f||S!==w}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Ef(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function lV(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(un(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},c=t.map(f=>f(l));return o=Ef(...c)(i.dispatch),{...i,dispatch:o}}}function IM(t){return Dv(t)&&"type"in t&&typeof t.type=="string"}var PM=Symbol.for("immer-nothing"),EA=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function _r(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ll=Object.getPrototypeOf;function Ha(t){return!!t&&!!t[Kn]}function li(t){var e;return t?OM(t)||Array.isArray(t)||!!t[EA]||!!((e=t.constructor)!=null&&e[EA])||Xl(t)||cd(t):!1}var uV=Object.prototype.constructor.toString(),xA=new WeakMap;function OM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=xA.get(n);return r===void 0&&(r=Function.toString.call(n),xA.set(n,r)),r===uV}function xf(t,e,n=!0){ud(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function ud(t){const e=t[Kn];return e?e.type_:Array.isArray(t)?1:Xl(t)?2:cd(t)?3:0}function Ay(t,e){return ud(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function DM(t,e,n){const r=ud(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Xl(t){return t instanceof Map}function cd(t){return t instanceof Set}function Ia(t){return t.copy_||t.base_}function Cy(t,e){if(Xl(t))return new Map(t);if(cd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Kn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Ll(t),r)}else{const r=Ll(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kv(t,e=!1){return fd(t)||Ha(t)||!li(t)||(ud(t)>1&&Object.defineProperties(t,{set:Hc,add:Hc,clear:Hc,delete:Hc}),Object.freeze(t),e&&Object.values(t).forEach(n=>kv(n,!0))),t}function fV(){_r(2)}var Hc={value:fV};function fd(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var dV={};function Va(t){const e=dV[t];return e||_r(0,t),e}var ql;function kM(){return ql}function hV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TA(t,e){e&&(Va("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ny(t){Ry(t),t.drafts_.forEach(pV),t.drafts_=null}function Ry(t){t===ql&&(ql=t.parent_)}function AA(t){return ql=hV(ql,t)}function pV(t){const e=t[Kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function CA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Kn].modified_&&(Ny(e),_r(4)),li(t)&&(t=Tf(e,t),e.parent_||Af(e,t)),e.patches_&&Va("Patches").generateReplacementPatches_(n[Kn].base_,t,e.patches_,e.inversePatches_)):t=Tf(e,n,[]),Ny(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PM?t:void 0}function Tf(t,e,n){if(fd(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Kn];if(!i)return xf(e,(o,l)=>NA(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Af(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,c=!1;i.type_===3&&(l=new Set(o),o.clear(),c=!0),xf(l,(f,d)=>NA(t,i,o,f,d,n,c),r),Af(t,o,!1),n&&t.patches_&&Va("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function NA(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const c=fd(i);if(!(c&&!l)){if(Ha(i)){const f=o&&e&&e.type_!==3&&!Ay(e.assigned_,r)?o.concat(r):void 0,d=Tf(t,i,f);if(DM(n,r,d),Ha(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(li(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Tf(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Xl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Af(t,i)}}}function Af(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kv(e,n)}function mV(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:kM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Uv;n&&(i=[r],o=jl);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,c}var Uv={get(t,e){if(e===Kn)return t;const n=Ia(t);if(!Ay(n,e))return gV(t,n,e);const r=n[e];return t.finalized_||!li(r)?r:r===cg(t.base_,e)?(fg(t),t.copy_[e]=Iy(r,t)):r},has(t,e){return e in Ia(t)},ownKeys(t){return Reflect.ownKeys(Ia(t))},set(t,e,n){const r=UM(Ia(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=cg(Ia(t),e),o=i==null?void 0:i[Kn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cV(n,i)&&(n!==void 0||Ay(t.base_,e)))return!0;fg(t),My(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fg(t),My(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ia(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){_r(11)},getPrototypeOf(t){return Ll(t.base_)},setPrototypeOf(){_r(12)}},jl={};xf(Uv,(t,e)=>{jl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jl.deleteProperty=function(t,e){return jl.set.call(this,t,e,void 0)};jl.set=function(t,e,n){return Uv.set.call(this,t[0],e,n,t[0])};function cg(t,e){const n=t[Kn];return(n?Ia(n):t)[e]}function gV(t,e,n){var i;const r=UM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function UM(t,e){if(!(e in t))return;let n=Ll(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ll(n)}}function My(t){t.modified_||(t.modified_=!0,t.parent_&&My(t.parent_))}function fg(t){t.copy_||(t.copy_=Cy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&_r(6),r!==void 0&&typeof r!="function"&&_r(7);let i;if(li(e)){const o=AA(this),l=Iy(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Ny(o):Ry(o)}return TA(o,r),CA(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===PM&&(i=void 0),this.autoFreeze_&&kv(i,!0),r){const o=[],l=[];Va("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else _r(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){li(t)||_r(8),Ha(t)&&(t=Er(t));const e=AA(this),n=Iy(t,void 0);return n[Kn].isManual_=!0,Ry(e),n}finishDraft(t,e){const n=t&&t[Kn];(!n||!n.isManual_)&&_r(9);const{scope_:r}=n;return TA(r,e),CA(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Va("Patches").applyPatches_;return Ha(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Iy(t,e){const n=Xl(t)?Va("MapSet").proxyMap_(t,e):cd(t)?Va("MapSet").proxySet_(t,e):mV(t,e);return(e?e.scope_:kM()).drafts_.push(n),n}function Er(t){return Ha(t)||_r(10,t),LM(t)}function LM(t){if(!li(t)||fd(t))return t;const e=t[Kn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cy(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Cy(t,!0);return xf(n,(i,o)=>{DM(n,i,LM(o))},r),e&&(e.finalized_=!1),n}var Py=new yV,qM=Py.produce,vV=Py.setUseStrictIteration.bind(Py);function jM(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var bV=jM(),_V=jM,wV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ef:Ef.apply(null,arguments)};function cr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error($n(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>IM(r)&&r.type===t,n}var BM=class Cl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cl.prototype)}static get[Symbol.species](){return Cl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cl(...e[0].concat(this)):new Cl(...e.concat(this))}};function RA(t){return li(t)?qM(t,()=>{}):t}function Vc(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function SV(t){return typeof t=="boolean"}var EV=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new BM;return n&&(SV(n)?l.push(bV):l.push(_V(n.extraArgument))),l},zM="RTK_autoBatch",pt=()=>t=>({payload:t,meta:{[zM]:!0}}),MA=t=>e=>{setTimeout(e,t)},GM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MA(10):t.type==="callback"?t.queueNotification:MA(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return c.add(p),()=>{b(),c.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[zM]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(p)}finally{i=!0}}})},xV=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new BM(t);return r&&i.push(GM(typeof r=="object"?r:void 0)),i};function TV(t){const e=EV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(Dv(n))c=MM(n);else throw new Error($n(1));let f;typeof r=="function"?f=r(e):f=e();let d=Ef;i&&(d=wV({trace:!1,...typeof i=="object"&&i}));const p=lV(...f),g=xV(p);let b=typeof l=="function"?l(g):g();const w=d(...b);return RM(c,o,w)}function HM(t){const e={},n=[];let r;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error($n(28));if(c in e)throw new Error($n(29));return e[c]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}vV(!1);function AV(t){return typeof t=="function"}function CV(t,e){let[n,r,i]=HM(e),o;if(AV(t))o=()=>RA(t());else{const c=RA(t);o=()=>c}function l(c=o(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,g)=>{if(g)if(Ha(p)){const w=g(p,f);return w===void 0?p:w}else{if(li(p))return qM(p,b=>g(b,f));{const b=g(p,f);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},c)}return l.getInitialState=o,l}var NV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RV=(t=21)=>{let e="",n=t;for(;n--;)e+=NV[Math.random()*64|0];return e},MV=Symbol.for("rtk-slice-createasyncthunk");function IV(t,e){return`${t}/${e}`}function PV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[MV];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error($n(11));const c=(typeof i.reducers=="function"?i.reducers(DV()):i.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(O,P){const D=typeof O=="string"?O:O.type;if(!D)throw new Error($n(12));if(D in d.sliceCaseReducersByType)throw new Error($n(13));return d.sliceCaseReducersByType[D]=P,p},addMatcher(O,P){return d.sliceMatchers.push({matcher:O,reducer:P}),p},exposeAction(O,P){return d.actionCreators[O]=P,p},exposeCaseReducer(O,P){return d.sliceCaseReducersByName[O]=P,p}};f.forEach(O=>{const P=c[O],D={reducerName:O,type:IV(o,O),createNotation:typeof i.reducers=="function"};UV(P)?qV(D,P,p,e):kV(D,P,p)});function g(){const[O={},P=[],D=void 0]=typeof i.extraReducers=="function"?HM(i.extraReducers):[i.extraReducers],q={...O,...d.sliceCaseReducersByType};return CV(i.initialState,Z=>{for(let L in q)Z.addCase(L,q[L]);for(let L of d.sliceMatchers)Z.addMatcher(L.matcher,L.reducer);for(let L of P)Z.addMatcher(L.matcher,L.reducer);D&&Z.addDefaultCase(D)})}const b=O=>O,w=new Map,S=new WeakMap;let T;function x(O,P){return T||(T=g()),T(O,P)}function C(){return T||(T=g()),T.getInitialState()}function I(O,P=!1){function D(Z){let L=Z[O];return typeof L>"u"&&P&&(L=Vc(S,D,C)),L}function q(Z=b){const L=Vc(w,P,()=>new WeakMap);return Vc(L,Z,()=>{const ie={};for(const[J,W]of Object.entries(i.selectors??{}))ie[J]=OV(W,Z,()=>Vc(S,Z,C),P);return ie})}return{reducerPath:O,getSelectors:q,get selectors(){return q(D)},selectSlice:D}}const R={name:o,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...I(l),injectInto(O,{reducerPath:P,...D}={}){const q=P??l;return O.inject({reducerPath:q,reducer:x},D),{...R,...I(q,!0)}}};return R}}function OV(t,e,n,r){function i(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Rn=PV();function DV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kV({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!LV(r))throw new Error($n(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?cr(t,l):cr(t))}function UV(t){return t._reducerDefinitionType==="asyncThunk"}function LV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qV({type:t,reducerName:e},n,r,i){if(!i)throw new Error($n(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:d,options:p}=n,g=i(t,o,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:l||$c,pending:c||$c,rejected:f||$c,settled:d||$c})}function $c(){}var jV="task",VM="listener",$M="completed",Lv="cancelled",BV=`task-${Lv}`,zV=`task-${$M}`,Oy=`${VM}-${Lv}`,GV=`${VM}-${$M}`,dd=class{constructor(t){Qp(this,"name","TaskAbortError");Qp(this,"message");this.code=t,this.message=`${jV} ${Lv} (reason: ${t})`}},qv=(t,e)=>{if(typeof t!="function")throw new TypeError($n(32))},Cf=()=>{},FM=(t,e=Cf)=>(t.catch(e),t),KM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ja=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ba=t=>{if(t.aborted){const{reason:e}=t;throw new dd(e)}};function YM(t,e){let n=Cf;return new Promise((r,i)=>{const o=()=>i(new dd(t.reason));if(t.aborted){o();return}n=KM(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Cf})}var HV=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof dd?"cancelled":"rejected",error:n}}finally{e==null||e()}},Nf=t=>e=>FM(YM(t,e).then(n=>(Ba(t),n))),JM=t=>{const e=Nf(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ts}=Object,IA={},hd="listenerMiddleware",VV=(t,e)=>{const n=r=>KM(t,()=>ja(r,t.reason));return(r,i)=>{qv(r);const o=new AbortController;n(o);const l=HV(async()=>{Ba(t),Ba(o.signal);const c=await r({pause:Nf(o.signal),delay:JM(o.signal),signal:o.signal});return Ba(o.signal),c},()=>ja(o,zV));return i!=null&&i.autoJoin&&e.push(l.catch(Cf)),{result:Nf(t)(l),cancel(){ja(o,BV)}}}},$V=(t,e)=>{const n=async(r,i)=>{Ba(e);let o=()=>{};const c=[new Promise((f,d)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});o=()=>{p(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await YM(e,Promise.race(c));return Ba(e),f}finally{o()}};return(r,i)=>FM(n(r,i))},WM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=cr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error($n(21));return qv(o),{predicate:i,type:e,effect:o}},XM=ts(t=>{const{type:e,predicate:n,effect:r}=WM(t);return{id:RV(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($n(22))}}},{withTypes:()=>XM}),PA=(t,e)=>{const{type:n,effect:r,predicate:i}=WM(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Dy=t=>{t.pending.forEach(e=>{ja(e,Oy)})},FV=(t,e)=>()=>{for(const n of e.keys())Dy(n);t.clear()},OA=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},QM=ts(cr(`${hd}/add`),{withTypes:()=>QM}),KV=cr(`${hd}/removeAll`),ZM=ts(cr(`${hd}/remove`),{withTypes:()=>ZM}),YV=(...t)=>{console.error(`${hd}/error`,...t)},Ql=(t={})=>{const e=new Map,n=new Map,r=w=>{const S=n.get(w)??0;n.set(w,S+1)},i=w=>{const S=n.get(w)??1;S===1?n.delete(w):n.set(w,S-1)},{extra:o,onError:l=YV}=t;qv(l);const c=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),S=>{w.unsubscribe(),S!=null&&S.cancelActive&&Dy(w)}),f=w=>{const S=PA(e,w)??XM(w);return c(S)};ts(f,{withTypes:()=>f});const d=w=>{const S=PA(e,w);return S&&(S.unsubscribe(),w.cancelActive&&Dy(S)),!!S};ts(d,{withTypes:()=>d});const p=async(w,S,T,x)=>{const C=new AbortController,I=$V(f,C.signal),R=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(S,ts({},T,{getOriginalState:x,condition:(O,P)=>I(O,P).then(Boolean),take:I,delay:JM(C.signal),pause:Nf(C.signal),extra:o,signal:C.signal,fork:VV(C.signal,R),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((O,P,D)=>{O!==C&&(ja(O,Oy),D.delete(O))})},cancel:()=>{ja(C,Oy),w.pending.delete(C)},throwIfCancelled:()=>{Ba(C.signal)}})))}catch(O){O instanceof dd||OA(l,O,{raisedBy:"effect"})}finally{await Promise.all(R),ja(C,GV),i(w),w.pending.delete(C)}},g=FV(e,n);return{middleware:w=>S=>T=>{if(!IM(T))return S(T);if(QM.match(T))return f(T.payload);if(KV.match(T)){g();return}if(ZM.match(T))return d(T.payload);let x=w.getState();const C=()=>{if(x===IA)throw new Error($n(23));return x};let I;try{if(I=S(T),e.size>0){const R=w.getState(),O=Array.from(e.values());for(const P of O){let D=!1;try{D=P.predicate(T,R,x)}catch(q){D=!1,OA(l,q,{raisedBy:"predicate"})}D&&p(P,T,w,C)}}}finally{x=IA}return I},startListening:f,stopListening:d,clearListeners:g}};function $n(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var JV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eI=Rn({name:"chartLayout",initialState:JV,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:WV,setLayout:XV,setChartSize:QV,setScale:ZV}=eI.actions,e$=eI.reducer;function tI(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){t$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$(t,e,n){return(e=n$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=r$(t,"string");return typeof e=="symbol"?e:e+""}function r$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function At(t,e,n){return Fn(t)||Fn(e)?n:si(e)?kl(t,e,n):typeof e=="function"?e(t):n}var i$=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Ce(t[o]))return Yo(Yo({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Ce(t[l]))return Yo(Yo({},t),{},{[l]:t[l]+(i||0)})}return t},Ya=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",kA=1e-4,a$=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-kA,o=Math.max(r[0],r[1])+kA,l=t(e[0]),c=t(e[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([e[0],e[n-1]])}},o$=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var c=ai(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},s$=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=ai(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},l$={sign:o$,expand:qG,none:as,silhouette:jG,wiggle:BG,positive:s$},u$=(t,e,n)=>{var r=l$[n],i=LG().keys(e).value((o,l)=>Number(At(o,l,0))).order(xy).offset(r);return i(t)},c$=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},f$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],d$=(t,e,n)=>{if(t!=null)return f$(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,c=l.reduce((f,d)=>{var p=tI(d,e,n),g=c$(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},UA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=ld(e,p=>p.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function jA(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Yo(Yo({},e),{},{dataKey:n,payload:r,value:i,name:o})}function nI(t,e){if(t)return String(t);if(typeof e=="string")return e}var h$=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},p$=(t,e)=>e==="centric"?t.angle:t.radius,mi=t=>t.layout.width,gi=t=>t.layout.height,m$=t=>t.layout.scale,rI=t=>t.layout.margin,pd=Y(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),md=Y(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),iI="data-recharts-item-index",aI="data-recharts-item-data-key",Zl=60;function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){g$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g$(t,e,n){return(e=y$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y$(t){var e=v$(t,"string");return typeof e=="symbol"?e:e+""}function v$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b$=t=>t.brush.height;function _$(t){var e=md(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zl;return n+i}return n},0)}function w$(t){var e=md(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zl;return n+i}return n},0)}function S$(t){var e=pd(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function E$(t){var e=pd(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qt=Y([mi,gi,rI,b$,_$,w$,S$,E$,NM,nV],(t,e,n,r,i,o,l,c,f,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Fc(Fc({},g),p),w=b.bottom;b.bottom+=r,b=i$(b,f,d);var S=t-b.left-b.right,T=e-b.top-b.bottom;return Fc(Fc({brushBottom:w},b),{},{width:Math.max(S,0),height:Math.max(T,0)})}),x$=Y(Qt,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Y(mi,gi,(t,e)=>({x:0,y:0,width:t,height:e}));var T$=N.createContext(null),ra=()=>N.useContext(T$)!=null,gd=t=>t.brush,yd=Y([gd,Qt,rI],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ce(t.width)?t.width:e.width})),dg={},hg={},pg={},zA;function A$(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,c=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},g=()=>{d&&p(),T()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},T=()=>{S(),l=void 0,c=null},x=()=>{p()},C=function(...I){if(i!=null&&i.aborted)return;l=this,c=I;const R=b==null;w(),f&&R&&p()};return C.schedule=w,C.cancel=T,C.flush=x,i==null||i.addEventListener("abort",T,{once:!0}),C}t.debounce=e})(pg)),pg}var GA;function C$(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A$();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let p,g=null;const b=e.debounce(function(...T){p=r.apply(this,T),g=null},i,{edges:d}),w=function(...T){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,T),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,T),p)},S=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=S,w}t.debounce=n})(hg)),hg}var HA;function N$(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C$();function n(r,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(dg)),dg}var mg,VA;function R$(){return VA||(VA=1,mg=N$().throttle),mg}var M$=R$();const I$=xr(M$);var $A=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},oI=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,c=oi(r)?t:Number(r),f=oi(i)?e:Number(i);return o&&o>0&&(c?f=c/o:f&&(c=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},P$={width:0,height:0,overflow:"visible"},O$={width:0,overflowX:"visible"},D$={height:0,overflowY:"visible"},k$={},U$=t=>{var{width:e,height:n}=t,r=oi(e),i=oi(n);return r&&i?P$:r?O$:i?D$:k$};function L$(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Xt(t){return Number.isFinite(t)}function Xi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=B$(t,"string");return typeof e=="symbol"?e:e+""}function B$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sI=N.createContext({width:-1,height:-1});function z$(t){return Xi(t.width)&&Xi(t.height)}function lI(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return z$(i)?N.createElement(sI.Provider,{value:i},e):null}var jv=()=>N.useContext(sI),G$=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:p=0,id:g,className:b,onResize:w,style:S={}}=t,T=N.useRef(null),x=N.useRef();x.current=w,N.useImperativeHandle(e,()=>T.current);var[C,I]=N.useState({containerWidth:r.width,containerHeight:r.height}),R=N.useCallback((Z,L)=>{I(ie=>{var J=Math.round(Z),W=Math.round(L);return ie.containerWidth===J&&ie.containerHeight===W?ie:{containerWidth:J,containerHeight:W}})},[]);N.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Wl;var Z=W=>{var fe,{width:ye,height:Ee}=W[0].contentRect;R(ye,Ee),(fe=x.current)===null||fe===void 0||fe.call(x,ye,Ee)};p>0&&(Z=I$(Z,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(Z),{width:ie,height:J}=T.current.getBoundingClientRect();return R(ie,J),L.observe(T.current),()=>{L.disconnect()}},[R,p]);var{containerWidth:O,containerHeight:P}=C;$A(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:q}=oI(O,P,{width:i,height:o,aspect:n,maxHeight:f});return $A(D!=null&&D>0||q!=null&&q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,q,i,o,l,c,n),N.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",b),style:KA(KA({},S),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:f}),ref:T},N.createElement("div",{style:U$({width:i,height:o})},N.createElement(lI,{width:D,height:q},d)))}),H$=N.forwardRef((t,e)=>{var n=jv();if(Xi(n.width)&&Xi(n.height))return t.children;var{width:r,height:i}=L$({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=oI(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(o)&&Ce(l)?N.createElement(lI,{width:o,height:l},t.children):N.createElement(G$,ky({},t,{width:r,height:i,ref:e}))});function uI(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var vd=()=>{var t,e=ra(),n=Oe(x$),r=Oe(yd),i=(t=Oe(gd))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},V$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$$=()=>{var t;return(t=Oe(Qt))!==null&&t!==void 0?t:V$},F$=()=>Oe(mi),K$=()=>Oe(gi),st=t=>t.layout.layoutType,Bv=()=>Oe(st),Y$=()=>{var t=Bv();return t!==void 0},bd=t=>{var e=zt(),n=ra(),{width:r,height:i}=t,o=jv(),l=r,c=i;return o&&(l=o.width>0?o.width:r,c=o.height>0?o.height:i),N.useEffect(()=>{!n&&Xi(l)&&Xi(c)&&e(QV({width:l,height:c}))},[e,n,l,c]),null},J$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cI=Rn({name:"legend",initialState:J$,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:pt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Er(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:pt()},removeLegendPayload:{reducer(t,e){var n=Er(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:pt()}}}),{setLegendSize:Lee,setLegendSettings:qee,addLegendPayload:W$,replaceLegendPayload:X$,removeLegendPayload:Q$}=cI.actions,Z$=cI.reducer;function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(null,arguments)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){e8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e8(t,e,n){return(e=t8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=n8(t,"string");return typeof e=="symbol"?e:e+""}function n8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r8(t){return Array.isArray(t)&&si(t[0])&&si(t[1])?t.join(" ~ "):t}var i8=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,w=()=>{if(o&&o.length){var P={padding:0,margin:0},D=(c?ld(o,c):o).map((q,Z)=>{if(q.type==="none")return null;var L=q.formatter||l||r8,{value:ie,name:J}=q,W=ie,fe=J;if(L){var ye=L(ie,J,q,Z,o);if(Array.isArray(ye))[W,fe]=ye;else if(ye!=null)W=ye;else return null}var Ee=gg({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:Ee},si(fe)?N.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,si(fe)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},W),N.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},S=gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=gg({margin:0},i),x=!Fn(p),C=x?p:"",I=Lt("recharts-default-tooltip",f),R=Lt("recharts-tooltip-label",d);x&&g&&o!==void 0&&o!==null&&(C=g(p,o));var O=b?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Uy({className:I,style:S},O),N.createElement("p",{className:R,style:T},N.isValidElement(C)?C:"".concat(C)),w())},bl="recharts-tooltip-wrapper",a8={visibility:"hidden"};function o8(t){var{coordinate:e,translateX:n,translateY:r}=t;return Lt(bl,{["".concat(bl,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(bl,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(bl,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(bl,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function JA(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(o&&Ce(o[r]))return o[r];var p=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=f[r];if(b==null)return 0;if(l[r]){var w=p,S=b;return w<S?Math.max(g,b):Math.max(p,b)}if(d==null)return 0;var T=g+c,x=b+d;return T>x?Math.max(p,b):Math.max(g,b)}function s8(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function l8(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,d,p,g;return l.height>0&&l.width>0&&n?(p=JA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=JA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=s8({translateX:p,translateY:g,useTranslate3d:c})):d=a8,{cssProperties:d,cssClasses:o8({translateX:p,translateY:g,coordinate:n})}}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return(e=u8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=c8(t,"string");return typeof e=="symbol"?e:e+""}function c8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class f8 extends N.PureComponent{constructor(){super(...arguments),Ly(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ly(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:p,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:S,lastBoundingBox:T,innerRef:x,hasPortalFromProps:C}=this.props,{cssClasses:I,cssProperties:R}=l8({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:p,reverseDirection:g,tooltipBox:{height:T.height,width:T.width},useTranslate3d:b,viewBox:w}),O=C?{}:Kc(Kc({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=Kc(Kc({},O),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:x},o)}}var d8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ms={devToolsEnabled:!1,isSsr:d8()},fI=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){h8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h8(t,e,n){return(e=p8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=m8(t,"string");return typeof e=="symbol"?e:e+""}function m8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA={curveBasisClosed:AG,curveBasisOpen:CG,curveBasis:TG,curveBumpX:fG,curveBumpY:dG,curveLinearClosed:NG,curveLinear:od,curveMonotoneX:RG,curveMonotoneY:MG,curveNatural:IG,curveStep:PG,curveStepAfter:DG,curveStepBefore:OG},Rf=t=>Xt(t.x)&&Xt(t.y),eC=t=>t.base!=null&&Rf(t.base)&&Rf(t),_l=t=>t.x,wl=t=>t.y,g8=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Jl(t));return(n==="curveMonotone"||n==="curveBump")&&e?ZA["".concat(n).concat(e==="vertical"?"Y":"X")]:ZA[n]||od},y8=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=g8(e,i),c=o?n.filter(Rf):n,f;if(Array.isArray(r)){var d=n.map((w,S)=>QA(QA({},w),{},{base:r[S]}));i==="vertical"?f=Bc().y(wl).x1(_l).x0(w=>w.base.x):f=Bc().x(_l).y1(wl).y0(w=>w.base.y);var p=f.defined(eC).curve(l),g=o?d.filter(eC):d;return p(g)}i==="vertical"&&Ce(r)?f=Bc().y(wl).x1(_l).x0(r):Ce(r)?f=Bc().x(_l).y1(wl).y0(r):f=eM().x(_l).y(wl);var b=f.defined(Rf).curve(l);return b(c)},zv=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?y8(t):r;return N.createElement("path",qy({},is(t),iH(t),{className:Lt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},v8=["x","y","top","left","width","height","className"];function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){_8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _8(t,e,n){return(e=w8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=S8(t,"string");return typeof e=="symbol"?e:e+""}function S8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E8(t,e){if(t==null)return{};var n,r,i=x8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T8=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),A8=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:c}=t,f=E8(t,v8),d=b8({x:e,y:n,top:r,left:i,width:o,height:l},f);return!Ce(e)||!Ce(n)||!Ce(o)||!Ce(l)||!Ce(r)||!Ce(i)?null:N.createElement("path",jy({},ur(d),{className:Lt("recharts-cross",c),d:T8(e,n,o,l,r,i)}))};function C8(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){N8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N8(t,e,n){return(e=R8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8(t){var e=M8(t,"string");return typeof e=="symbol"?e:e+""}function M8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I8=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dI=(t,e,n)=>t.map(r=>"".concat(I8(r)," ").concat(e,"ms ").concat(n)).join(","),P8=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Bl=(t,e)=>Object.keys(e).reduce((n,r)=>rC(rC({},n),{},{[r]:t(r,e[r])}),{});function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){O8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O8(t,e,n){return(e=D8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=k8(t,"string");return typeof e=="symbol"?e:e+""}function k8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mf=(t,e,n)=>t+(e-t)*n,By=t=>{var{from:e,to:n}=t;return e!==n},hI=(t,e,n)=>{var r=Bl((i,o)=>{if(By(o)){var[l,c]=t(o.from,o.to,o.velocity);return Bt(Bt({},o),{},{from:l,velocity:c})}return o},e);return n<1?Bl((i,o)=>By(o)?Bt(Bt({},o),{},{velocity:Mf(o.velocity,r[i].velocity,n),from:Mf(o.from,r[i].from,n)}):o,e):hI(t,r,n-1)};function U8(t,e,n,r,i,o){var l,c=r.reduce((b,w)=>Bt(Bt({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Bl((b,w)=>w.from,c),d=()=>!Object.values(c).filter(By).length,p=null,g=b=>{l||(l=b);var w=b-l,S=w/n.dt;c=hI(n,c,S),i(Bt(Bt(Bt({},t),e),f())),l=b,d()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function L8(t,e,n,r,i,o,l){var c=null,f=i.reduce((g,b)=>Bt(Bt({},g),{},{[b]:[t[b],e[b]]}),{}),d,p=g=>{d||(d=g);var b=(g-d)/r,w=Bl((T,x)=>Mf(...x,n(b)),f);if(o(Bt(Bt(Bt({},t),e),w)),b<1)c=l.setTimeout(p);else{var S=Bl((T,x)=>Mf(...x,n(1)),f);o(Bt(Bt(Bt({},t),e),S))}};return()=>(c=l.setTimeout(p),()=>{var g;(g=c)===null||g===void 0||g()})}const q8=(t,e,n,r,i,o)=>{var l=P8(t,e);return n==null?()=>(i(Bt(Bt({},t),e)),()=>{}):n.isStepper===!0?U8(t,e,n,l,i,o):L8(t,e,n,r,l,i,o)};var If=1e-4,pI=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],mI=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),aC=(t,e)=>n=>{var r=pI(t,e);return mI(r,n)},j8=(t,e)=>n=>{var r=pI(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return mI(i,n)},B8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},z8=(t,e,n,r)=>{var i=aC(t,n),o=aC(e,r),l=j8(t,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var p=d>1?1:d,g=p,b=0;b<8;++b){var w=i(g)-p,S=l(g);if(Math.abs(w-p)<If||S<If)return o(g);g=c(g-w/S)}return o(g)};return f.isStepper=!1,f},oC=function(){return z8(...B8(...arguments))},G8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,c,f)=>{var d=-(l-c)*n,p=f*r,g=f+(d-p)*i/1e3,b=f*i/1e3+l;return Math.abs(b-c)<If&&Math.abs(g)<If?[c,0]:[b,g]};return o.isStepper=!0,o.dt=i,o},H8=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oC(t);case"spring":return G8();default:if(t.split("(")[0]==="cubic-bezier")return oC(t)}return typeof t=="function"?t:null};function V8(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class $8{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function F8(){return V8(new $8)}var K8=N.createContext(F8);function Y8(t,e){var n=N.useContext(K8);return N.useMemo(()=>e??n(t),[t,e,n])}var J8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sC={t:0},yg={t:1};function Gv(t){var e=Dr(t,J8),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,p=n==="auto"?!ms.isSsr:n,g=Y8(e.animationId,e.animationManager),[b,w]=N.useState(p?sC:yg),S=N.useRef(null);return N.useEffect(()=>{p||w(yg)},[p]),N.useEffect(()=>{if(!p||!r)return Wl;var T=q8(sC,yg,H8(o),i,w,g.getTimeoutController()),x=()=>{S.current=T()};return g.start([f,l,x,i,c]),()=>{g.stop(),S.current&&S.current(),c()}},[p,r,i,o,l,f,c,g]),d(b.t)}function Hv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Ul(e)),r=N.useRef(t);return r.current!==t&&(n.current=Ul(e),r.current=t),n.current}var W8=["radius"],X8=["radius"];function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){Q8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q8(t,e,n){return(e=Z8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z8(t){var e=eF(t,"string");return typeof e=="symbol"?e:e+""}function eF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(null,arguments)}function cC(t,e){if(t==null)return{};var n,r,i=tF(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fC=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=i[g]>o?o:i[g];d="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+c*p[0],",").concat(e)),d+="L ".concat(t+n-c*p[1],",").concat(e),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*p[1])),d+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-c*p[2],",").concat(e+r)),d+="L ".concat(t+c*p[3],",").concat(e+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);d="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+c*w,",").concat(e,`
            L `).concat(t+n-c*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-c*w,",").concat(e+r,`
            L `).concat(t+c*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*w," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},dC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gI=t=>{var e=Dr(t,dC),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ae=n.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:o,y:l,width:c,height:f,radius:d,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:T}=e,x=N.useRef(c),C=N.useRef(f),I=N.useRef(o),R=N.useRef(l),O=N.useMemo(()=>({x:o,y:l,width:c,height:f,radius:d}),[o,l,c,f,d]),P=Hv(O,"rectangle-");if(o!==+o||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var D=Lt("recharts-rectangle",p);if(!T){var q=ur(e),{radius:Z}=q,L=cC(q,W8);return N.createElement("path",Pf({},L,{radius:typeof d=="number"?d:void 0,className:D,d:fC(o,l,c,f,d)}))}var ie=x.current,J=C.current,W=I.current,fe=R.current,ye="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),H=dI(["strokeDasharray"],b,typeof g=="string"?g:dC.animationEasing);return N.createElement(Gv,{animationId:P,key:P,canBegin:r>0,duration:b,easing:g,isActive:T,begin:w},ae=>{var de=br(ie,c,ae),be=br(J,f,ae),Ne=br(W,o,ae),j=br(fe,l,ae);n.current&&(x.current=de,C.current=be,I.current=Ne,R.current=j);var U;S?ae>0?U={transition:H,strokeDasharray:Ee}:U={strokeDasharray:ye}:U={strokeDasharray:Ee};var F=ur(e),{radius:G}=F,se=cC(F,X8);return N.createElement("path",Pf({},se,{radius:typeof d=="number"?d:void 0,className:D,d:fC(Ne,j,de,be,d),ref:n,style:uC(uC({},U),e.style)}))})};function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){nF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nF(t,e,n){return(e=rF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=iF(t,"string");return typeof e=="symbol"?e:e+""}function iF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Of=Math.PI/180,aF=t=>t*180/Math.PI,kt=(t,e,n,r)=>({x:t+Math.cos(-Of*r)*n,y:e+Math.sin(-Of*r)*n}),yI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oF=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},sF=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=oF({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>o&&(f=2*Math.PI-f),{radius:l,angle:aF(f),angleInRadian:f}},lF=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},uF=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},cF=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=sF({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=lF(e),p=o,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?pC(pC({},e),{},{radius:i,angle:uF(p,e)}):null};function vI(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=kt(e,n,r,i),c=kt(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(null,arguments)}var fF=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Yc=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,p=Math.asin(c/d)/Of,g=f?i:i+o*p,b=kt(e,n,d,g),w=kt(e,n,r,g),S=f?i-o*p:i,T=kt(e,n,d*Math.cos(p*Of),S);return{center:b,circleTangency:w,lineTangency:T,theta:p}},bI=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,c=fF(o,l),f=o+c,d=kt(e,n,i,o),p=kt(e,n,i,f),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=kt(e,n,r,o),w=kt(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},dF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,p=Cn(d-f),{circleTangency:g,lineTangency:b,theta:w}=Yc({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:o,cornerIsExternal:c}),{circleTangency:S,lineTangency:T,theta:x}=Yc({cx:e,cy:n,radius:i,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:c}),C=c?Math.abs(f-d):Math.abs(f-d)-w-x;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bI({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var I="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:O,theta:P}=Yc({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:D,lineTangency:q,theta:Z}=Yc({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=c?Math.abs(f-d):Math.abs(f-d)-P-Z;if(L<0&&o===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},hF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_I=t=>{var e=Dr(t,hF),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p,className:g}=e;if(o<i||d===p)return null;var b=Lt("recharts-sector",g),w=o-i,S=Vn(l,w,0,!0),T;return S>0&&Math.abs(d-p)<360?T=dF({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):T=bI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:p}),N.createElement("path",zy({},ur(e),{className:b,d:T}))};function pF(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(mM(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:c}=e,f=kt(r,i,o,c),d=kt(r,i,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return vI(e)}}var vg={},bg={},_g={},mC;function mF(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(_g)),_g}var gC;function gF(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mF();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(bg)),bg}var yC;function yF(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CM(),n=gF();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}t.range=r})(vg)),vg}var wg,vC;function vF(){return vC||(vC=1,wg=yF().range),wg}var bF=vF();const wI=xr(bF);function Ji(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _F(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vv(t){let e,n,r;t.length!==2?(e=Ji,n=(c,f)=>Ji(t(c),f),r=(c,f)=>t(c)-f):(e=t===Ji||t===_F?t:wF,n=t,r=t);function i(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const g=d+p>>>1;n(c[g],f)<0?d=g+1:p=g}while(d<p)}return d}function o(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const g=d+p>>>1;n(c[g],f)<=0?d=g+1:p=g}while(d<p)}return d}function l(c,f,d=0,p=c.length){const g=i(c,f,d,p-1);return g>d&&r(c[g-1],f)>-r(c[g],f)?g-1:g}return{left:i,center:l,right:o}}function wF(){return 0}function SI(t){return t===null?NaN:+t}function*SF(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const EF=Vv(Ji),eu=EF.right;Vv(SI).center;class bC extends Map{constructor(e,n=AF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_C(this,e))}has(e){return super.has(_C(this,e))}set(e,n){return super.set(xF(this,e),n)}delete(e){return super.delete(TF(this,e))}}function _C({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function TF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function AF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CF(t=Ji){if(t===Ji)return EI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function EI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NF=Math.sqrt(50),RF=Math.sqrt(10),MF=Math.sqrt(2);function Df(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=NF?10:o>=RF?5:o>=MF?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?Df(t,e,n*2):[c,f,d]}function Gy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?Df(e,t,n):Df(t,e,n);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(o-d)/-l;else for(let d=0;d<c;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function Hy(t,e,n){return e=+e,t=+t,n=+n,Df(t,e,n)[2]}function Vy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Hy(e,t,n):Hy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?EI:CF(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(d-f/2<0?-1:1),w=Math.max(n,Math.floor(e-d*g/f+b)),S=Math.min(r,Math.floor(e+(f-d)*g/f+b));xI(t,e,w,S,i)}const o=t[e];let l=n,c=r;for(Sl(t,n,e),i(t[r],o)>0&&Sl(t,n,r);l<c;){for(Sl(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?Sl(t,n,c):(++c,Sl(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Sl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function IF(t,e,n){if(t=Float64Array.from(SF(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return SC(t);if(e>=1)return wC(t);var r,i=(r-1)*e,o=Math.floor(i),l=wC(xI(t,o).subarray(0,o+1)),c=SC(t.subarray(o+1));return l+(c-l)*(i-o)}}function PF(t,e,n=SI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function OF(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function dr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $y=Symbol("implicit");function $v(){var t=new bC,e=[],n=[],r=$y;function i(o){let l=t.get(o);if(l===void 0){if(r!==$y)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new bC;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $v(e,n).unknown(r)},dr.apply(i,arguments),i}function Fv(){var t=$v().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,c=!1,f=0,d=0,p=.5;delete t.unknown;function g(){var b=e().length,w=i<r,S=w?i:r,T=w?r:i;o=(T-S)/Math.max(1,b-f+d*2),c&&(o=Math.floor(o)),S+=(T-S-o*(b-f))*p,l=o*(1-f),c&&(S=Math.round(S),l=Math.round(l));var x=OF(b).map(function(C){return S+o*C});return n(w?x.reverse():x)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(c=!!b,g()):c},t.padding=function(b){return arguments.length?(f=Math.min(1,d=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(d=+b,g()):d},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return Fv(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(p)},dr.apply(g(),arguments)}function TI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TI(e())},t}function DF(){return TI(Fv.apply(null,arguments).paddingInner(1))}function Kv(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tu(){}var zl=.7,kf=1/zl,ns="\\s*([+-]?\\d+)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kF=/^#([0-9a-f]{3,8})$/,UF=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),LF=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),qF=new RegExp(`^rgba\\(${ns},${ns},${ns},${Gl}\\)$`),jF=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Gl}\\)$`),BF=new RegExp(`^hsl\\(${Gl},${Pr},${Pr}\\)$`),zF=new RegExp(`^hsla\\(${Gl},${Pr},${Pr},${Gl}\\)$`),EC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kv(tu,Hl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xC,formatHex:xC,formatHex8:GF,formatHsl:HF,formatRgb:TC,toString:TC});function xC(){return this.rgb().formatHex()}function GF(){return this.rgb().formatHex8()}function HF(){return CI(this).formatHsl()}function TC(){return this.rgb().formatRgb()}function Hl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?AC(e):n===3?new Nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UF.exec(t))?new Nn(e[1],e[2],e[3],1):(e=LF.exec(t))?new Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qF.exec(t))?Jc(e[1],e[2],e[3],e[4]):(e=jF.exec(t))?Jc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BF.exec(t))?RC(e[1],e[2]/100,e[3]/100,1):(e=zF.exec(t))?RC(e[1],e[2]/100,e[3]/100,e[4]):EC.hasOwnProperty(t)?AC(EC[t]):t==="transparent"?new Nn(NaN,NaN,NaN,0):null}function AC(t){return new Nn(t>>16&255,t>>8&255,t&255,1)}function Jc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nn(t,e,n,r)}function VF(t){return t instanceof tu||(t=Hl(t)),t?(t=t.rgb(),new Nn(t.r,t.g,t.b,t.opacity)):new Nn}function Fy(t,e,n,r){return arguments.length===1?VF(t):new Nn(t,e,n,r??1)}function Nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Kv(Nn,Fy,AI(tu,{brighter(t){return t=t==null?kf:Math.pow(kf,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zl:Math.pow(zl,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nn(za(this.r),za(this.g),za(this.b),Uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CC,formatHex:CC,formatHex8:$F,formatRgb:NC,toString:NC}));function CC(){return`#${La(this.r)}${La(this.g)}${La(this.b)}`}function $F(){return`#${La(this.r)}${La(this.g)}${La(this.b)}${La((isNaN(this.opacity)?1:this.opacity)*255)}`}function NC(){const t=Uf(this.opacity);return`${t===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${t===1?")":`, ${t})`}`}function Uf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function za(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function La(t){return t=za(t),(t<16?"0":"")+t.toString(16)}function RC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wr(t,e,n,r)}function CI(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);if(t instanceof tu||(t=Hl(t)),!t)return new wr;if(t instanceof wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,f=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+i:2-o-i,l*=60):c=f>0&&f<1?0:l,new wr(l,c,f,t.opacity)}function FF(t,e,n,r){return arguments.length===1?CI(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Kv(wr,FF,AI(tu,{brighter(t){return t=t==null?kf:Math.pow(kf,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zl:Math.pow(zl,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nn(Sg(t>=240?t-240:t+120,i,r),Sg(t,i,r),Sg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wr(MC(this.h),Wc(this.s),Wc(this.l),Uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Uf(this.opacity);return`${t===1?"hsl(":"hsla("}${MC(this.h)}, ${Wc(this.s)*100}%, ${Wc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MC(t){return t=(t||0)%360,t<0?t+360:t}function Wc(t){return Math.max(0,Math.min(1,t||0))}function Sg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yv=t=>()=>t;function KF(t,e){return function(n){return t+n*e}}function YF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JF(t){return(t=+t)==1?NI:function(e,n){return n-e?YF(e,n,t):Yv(isNaN(e)?n:e)}}function NI(t,e){var n=e-t;return n?KF(t,n):Yv(isNaN(t)?e:t)}const IC=(function t(e){var n=JF(e);function r(i,o){var l=n((i=Fy(i)).r,(o=Fy(o)).r),c=n(i.g,o.g),f=n(i.b,o.b),d=NI(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function WF(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function XF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=gs(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function ZF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function e9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eg=new RegExp(Ky.source,"g");function t9(t){return function(){return t}}function n9(t){return function(e){return t(e)+""}}function r9(t,e){var n=Ky.lastIndex=Eg.lastIndex=0,r,i,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Ky.exec(t))&&(i=Eg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:Lf(r,i)})),n=Eg.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?n9(f[0].x):t9(e):(e=f.length,function(d){for(var p=0,g;p<e;++p)c[(g=f[p]).i]=g.x(d);return c.join("")})}function gs(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yv(e):(n==="number"?Lf:n==="string"?(r=Hl(e))?(e=r,IC):r9:e instanceof Hl?IC:e instanceof Date?ZF:XF(e)?WF:Array.isArray(e)?QF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?e9:Lf)(t,e)}function Jv(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function i9(t,e){e===void 0&&(e=t,t=gs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function a9(t){return function(){return t}}function qf(t){return+t}var PC=[0,1];function gn(t){return t}function Yy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:a9(isNaN(e)?NaN:.5)}function o9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function s9(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=Yy(i,r),o=n(l,o)):(r=Yy(r,i),o=n(o,l)),function(c){return o(r(c))}}function l9(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Yy(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=eu(t,c,1,r)-1;return o[f](i[f](c))}}function nu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _d(){var t=PC,e=PC,n=gs,r,i,o,l=gn,c,f,d;function p(){var b=Math.min(t.length,e.length);return l!==gn&&(l=o9(t[0],t[b-1])),c=b>2?l9:s9,f=d=null,g}function g(b){return b==null||isNaN(b=+b)?o:(f||(f=c(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((d||(d=c(e,t.map(r),Lf)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,qf),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=Jv,p()},g.clamp=function(b){return arguments.length?(l=b?!0:gn,p()):l!==gn},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(o=b,g):o},function(b,w){return r=b,i=w,p()}}function Wv(){return _d()(gn,gn)}function u9(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function os(t){return t=jf(Math.abs(t)),t?t[1]:NaN}function c9(t,e){return function(n,r){for(var i=n.length,o=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function f9(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var d9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vl(t){if(!(e=d9.exec(t)))throw new Error("invalid format: "+t);var e;return new Xv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vl.prototype=Xv.prototype;function Xv(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h9(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var RI;function p9(t,e){var n=jf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(RI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jf(t,Math.max(0,e+o-1))[0]}function OC(t,e){var n=jf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:u9,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OC(t*100,e),r:OC,s:p9,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kC(t){return t}var UC=Array.prototype.map,LC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function m9(t){var e=t.grouping===void 0||t.thousands===void 0?kC:c9(UC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?kC:f9(UC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(g){g=Vl(g);var b=g.fill,w=g.align,S=g.sign,T=g.symbol,x=g.zero,C=g.width,I=g.comma,R=g.precision,O=g.trim,P=g.type;P==="n"?(I=!0,P="g"):DC[P]||(R===void 0&&(R=12),O=!0,P="g"),(x||b==="0"&&w==="=")&&(x=!0,b="0",w="=");var D=T==="$"?n:T==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",q=T==="$"?r:/[%p]/.test(P)?l:"",Z=DC[P],L=/[defgprs%]/.test(P);R=R===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function ie(J){var W=D,fe=q,ye,Ee,H;if(P==="c")fe=Z(J)+fe,J="";else{J=+J;var ae=J<0||1/J<0;if(J=isNaN(J)?f:Z(Math.abs(J),R),O&&(J=h9(J)),ae&&+J==0&&S!=="+"&&(ae=!1),W=(ae?S==="("?S:c:S==="-"||S==="("?"":S)+W,fe=(P==="s"?LC[8+RI/3]:"")+fe+(ae&&S==="("?")":""),L){for(ye=-1,Ee=J.length;++ye<Ee;)if(H=J.charCodeAt(ye),48>H||H>57){fe=(H===46?i+J.slice(ye+1):J.slice(ye))+fe,J=J.slice(0,ye);break}}}I&&!x&&(J=e(J,1/0));var de=W.length+J.length+fe.length,be=de<C?new Array(C-de+1).join(b):"";switch(I&&x&&(J=e(be+J,be.length?C-fe.length:1/0),be=""),w){case"<":J=W+J+fe+be;break;case"=":J=W+be+J+fe;break;case"^":J=be.slice(0,de=be.length>>1)+W+J+fe+be.slice(de);break;default:J=be+W+J+fe;break}return o(J)}return ie.toString=function(){return g+""},ie}function p(g,b){var w=d((g=Vl(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(os(b)/3)))*3,T=Math.pow(10,-S),x=LC[8+S/3];return function(C){return w(T*C)+x}}return{format:d,formatPrefix:p}}var Xc,Qv,MI;g9({thousands:",",grouping:[3],currency:["$",""]});function g9(t){return Xc=m9(t),Qv=Xc.format,MI=Xc.formatPrefix,Xc}function y9(t){return Math.max(0,-os(Math.abs(t)))}function v9(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(os(e)/3)))*3-os(Math.abs(t)))}function b9(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,os(e)-os(t))+1}function II(t,e,n,r){var i=Vy(t,e,n),o;switch(r=Vl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=v9(i,l))&&(r.precision=o),MI(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=b9(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=y9(i))&&(r.precision=o-(r.type==="%")*2);break}}return Qv(r)}function ia(t){var e=t.domain;return t.ticks=function(n){var r=e();return Gy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return II(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],c=r[o],f,d,p=10;for(c<l&&(d=l,l=c,c=d,d=i,i=o,o=d);p-- >0;){if(d=Hy(l,c,n),d===f)return r[i]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function PI(){var t=Wv();return t.copy=function(){return nu(t,PI())},dr.apply(t,arguments),ia(t)}function OI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OI(t).unknown(e)},t=arguments.length?Array.from(t,qf):[0,1],ia(n)}function DI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function qC(t){return Math.log(t)}function jC(t){return Math.exp(t)}function _9(t){return-Math.log(-t)}function w9(t){return-Math.exp(-t)}function S9(t){return isFinite(t)?+("1e"+t):t<0?0:t}function E9(t){return t===10?S9:t===Math.E?Math.exp:e=>Math.pow(t,e)}function x9(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BC(t){return(e,n)=>-t(-e,n)}function Zv(t){const e=t(qC,jC),n=e.domain;let r=10,i,o;function l(){return i=x9(r),o=E9(r),n()[0]<0?(i=BC(i),o=BC(o),t(_9,w9)):t(qC,jC),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],p=f[f.length-1];const g=p<d;g&&([d,p]=[p,d]);let b=i(d),w=i(p),S,T;const x=c==null?10:+c;let C=[];if(!(r%1)&&w-b<x){if(b=Math.floor(b),w=Math.ceil(w),d>0){for(;b<=w;++b)for(S=1;S<r;++S)if(T=b<0?S/o(-b):S*o(b),!(T<d)){if(T>p)break;C.push(T)}}else for(;b<=w;++b)for(S=r-1;S>=1;--S)if(T=b>0?S/o(-b):S*o(b),!(T<d)){if(T>p)break;C.push(T)}C.length*2<x&&(C=Gy(d,p,x))}else C=Gy(b,w,Math.min(w-b,x)).map(o);return g?C.reverse():C},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Vl(f)).precision==null&&(f.trim=!0),f=Qv(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=d?f(p):""}},e.nice=()=>n(DI(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function kI(){const t=Zv(_d()).domain([1,10]);return t.copy=()=>nu(t,kI()).base(t.base()),dr.apply(t,arguments),t}function zC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e0(t){var e=1,n=t(zC(e),GC(e));return n.constant=function(r){return arguments.length?t(zC(e=+r),GC(e)):e},ia(n)}function UI(){var t=e0(_d());return t.copy=function(){return nu(t,UI()).constant(t.constant())},dr.apply(t,arguments)}function HC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function T9(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function A9(t){return t<0?-t*t:t*t}function t0(t){var e=t(gn,gn),n=1;function r(){return n===1?t(gn,gn):n===.5?t(T9,A9):t(HC(n),HC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ia(e)}function n0(){var t=t0(_d());return t.copy=function(){return nu(t,n0()).exponent(t.exponent())},dr.apply(t,arguments),t}function C9(){return n0.apply(null,arguments).exponent(.5)}function VC(t){return Math.sign(t)*t*t}function N9(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LI(){var t=Wv(),e=[0,1],n=!1,r;function i(o){var l=N9(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(VC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,qf)).map(VC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},dr.apply(i,arguments),ia(i)}function qI(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=PF(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[eu(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ji),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qI().domain(t).range(e).unknown(r)},dr.apply(o,arguments)}function jI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[eu(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return jI().domain([t,e]).range(i).unknown(o)},dr.apply(ia(l),arguments)}function BI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[eu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return BI().domain(t).range(e).unknown(n)},dr.apply(i,arguments)}const xg=new Date,Tg=new Date;function Gt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const f=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let d;do f.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return f},i.filter=o=>Gt(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(xg.setTime(+o),Tg.setTime(+l),t(xg),t(Tg),Math.floor(n(xg,Tg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Bf=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Bf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Bf);Bf.range;const ti=1e3,sr=ti*60,ni=sr*60,ui=ni*24,r0=ui*7,$C=ui*30,Ag=ui*365,qa=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCSeconds());qa.range;const i0=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ti)},(t,e)=>{t.setTime(+t+e*sr)},(t,e)=>(e-t)/sr,t=>t.getMinutes());i0.range;const a0=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sr)},(t,e)=>(e-t)/sr,t=>t.getUTCMinutes());a0.range;const o0=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ti-t.getMinutes()*sr)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getHours());o0.range;const s0=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCHours());s0.range;const ru=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sr)/ui,t=>t.getDate()-1);ru.range;const wd=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);wd.range;const zI=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));zI.range;function Ja(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*sr)/r0)}const Sd=Ja(0),zf=Ja(1),R9=Ja(2),M9=Ja(3),ss=Ja(4),I9=Ja(5),P9=Ja(6);Sd.range;zf.range;R9.range;M9.range;ss.range;I9.range;P9.range;function Wa(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/r0)}const Ed=Wa(0),Gf=Wa(1),O9=Wa(2),D9=Wa(3),ls=Wa(4),k9=Wa(5),U9=Wa(6);Ed.range;Gf.range;O9.range;D9.range;ls.range;k9.range;U9.range;const l0=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l0.range;const u0=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u0.range;const ci=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ci.range;const fi=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fi.range;function GI(t,e,n,r,i,o){const l=[[qa,1,ti],[qa,5,5*ti],[qa,15,15*ti],[qa,30,30*ti],[o,1,sr],[o,5,5*sr],[o,15,15*sr],[o,30,30*sr],[i,1,ni],[i,3,3*ni],[i,6,6*ni],[i,12,12*ni],[r,1,ui],[r,2,2*ui],[n,1,r0],[e,1,$C],[e,3,3*$C],[t,1,Ag]];function c(d,p,g){const b=p<d;b&&([d,p]=[p,d]);const w=g&&typeof g.range=="function"?g:f(d,p,g),S=w?w.range(d,+p+1):[];return b?S.reverse():S}function f(d,p,g){const b=Math.abs(p-d)/g,w=Vv(([,,x])=>x).right(l,b);if(w===l.length)return t.every(Vy(d/Ag,p/Ag,g));if(w===0)return Bf.every(Math.max(Vy(d,p,g),1));const[S,T]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return S.every(T)}return[c,f]}const[L9,q9]=GI(fi,u0,Ed,zI,s0,a0),[j9,B9]=GI(ci,l0,Sd,ru,o0,i0);function Cg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ng(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function El(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function z9(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=xl(i),p=Tl(i),g=xl(o),b=Tl(o),w=xl(l),S=Tl(l),T=xl(c),x=Tl(c),C=xl(f),I=Tl(f),R={a:ae,A:de,b:be,B:Ne,c:null,d:XC,e:XC,f:c7,g:_7,G:S7,H:s7,I:l7,j:u7,L:HI,m:f7,M:d7,p:j,q:U,Q:e1,s:t1,S:h7,u:p7,U:m7,V:g7,w:y7,W:v7,x:null,X:null,y:b7,Y:w7,Z:E7,"%":ZC},O={a:F,A:G,b:se,B:le,c:null,d:QC,e:QC,f:C7,g:L7,G:j7,H:x7,I:T7,j:A7,L:$I,m:N7,M:R7,p:ue,q:pe,Q:e1,s:t1,S:M7,u:I7,U:P7,V:O7,w:D7,W:k7,x:null,X:null,y:U7,Y:q7,Z:B7,"%":ZC},P={a:ie,A:J,b:W,B:fe,c:ye,d:JC,e:JC,f:r7,g:YC,G:KC,H:WC,I:WC,j:Z9,L:n7,m:Q9,M:e7,p:L,q:X9,Q:a7,s:o7,S:t7,u:F9,U:K9,V:Y9,w:$9,W:J9,x:Ee,X:H,y:YC,Y:KC,Z:W9,"%":i7};R.x=D(n,R),R.X=D(r,R),R.c=D(e,R),O.x=D(n,O),O.X=D(r,O),O.c=D(e,O);function D(Q,ee){return function(ce){var oe=[],Ie=-1,ke=0,Be=Q.length,De,nt,$t;for(ce instanceof Date||(ce=new Date(+ce));++Ie<Be;)Q.charCodeAt(Ie)===37&&(oe.push(Q.slice(ke,Ie)),(nt=FC[De=Q.charAt(++Ie)])!=null?De=Q.charAt(++Ie):nt=De==="e"?" ":"0",($t=ee[De])&&(De=$t(ce,nt)),oe.push(De),ke=Ie+1);return oe.push(Q.slice(ke,Ie)),oe.join("")}}function q(Q,ee){return function(ce){var oe=El(1900,void 0,1),Ie=Z(oe,Q,ce+="",0),ke,Be;if(Ie!=ce.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ee&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(ke=Ng(El(oe.y,0,1)),Be=ke.getUTCDay(),ke=Be>4||Be===0?Gf.ceil(ke):Gf(ke),ke=wd.offset(ke,(oe.V-1)*7),oe.y=ke.getUTCFullYear(),oe.m=ke.getUTCMonth(),oe.d=ke.getUTCDate()+(oe.w+6)%7):(ke=Cg(El(oe.y,0,1)),Be=ke.getDay(),ke=Be>4||Be===0?zf.ceil(ke):zf(ke),ke=ru.offset(ke,(oe.V-1)*7),oe.y=ke.getFullYear(),oe.m=ke.getMonth(),oe.d=ke.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Be="Z"in oe?Ng(El(oe.y,0,1)).getUTCDay():Cg(El(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Be+5)%7:oe.w+oe.U*7-(Be+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Ng(oe)):Cg(oe)}}function Z(Q,ee,ce,oe){for(var Ie=0,ke=ee.length,Be=ce.length,De,nt;Ie<ke;){if(oe>=Be)return-1;if(De=ee.charCodeAt(Ie++),De===37){if(De=ee.charAt(Ie++),nt=P[De in FC?ee.charAt(Ie++):De],!nt||(oe=nt(Q,ce,oe))<0)return-1}else if(De!=ce.charCodeAt(oe++))return-1}return oe}function L(Q,ee,ce){var oe=d.exec(ee.slice(ce));return oe?(Q.p=p.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function ie(Q,ee,ce){var oe=w.exec(ee.slice(ce));return oe?(Q.w=S.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function J(Q,ee,ce){var oe=g.exec(ee.slice(ce));return oe?(Q.w=b.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function W(Q,ee,ce){var oe=C.exec(ee.slice(ce));return oe?(Q.m=I.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function fe(Q,ee,ce){var oe=T.exec(ee.slice(ce));return oe?(Q.m=x.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function ye(Q,ee,ce){return Z(Q,e,ee,ce)}function Ee(Q,ee,ce){return Z(Q,n,ee,ce)}function H(Q,ee,ce){return Z(Q,r,ee,ce)}function ae(Q){return l[Q.getDay()]}function de(Q){return o[Q.getDay()]}function be(Q){return f[Q.getMonth()]}function Ne(Q){return c[Q.getMonth()]}function j(Q){return i[+(Q.getHours()>=12)]}function U(Q){return 1+~~(Q.getMonth()/3)}function F(Q){return l[Q.getUTCDay()]}function G(Q){return o[Q.getUTCDay()]}function se(Q){return f[Q.getUTCMonth()]}function le(Q){return c[Q.getUTCMonth()]}function ue(Q){return i[+(Q.getUTCHours()>=12)]}function pe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ee=D(Q+="",R);return ee.toString=function(){return Q},ee},parse:function(Q){var ee=q(Q+="",!1);return ee.toString=function(){return Q},ee},utcFormat:function(Q){var ee=D(Q+="",O);return ee.toString=function(){return Q},ee},utcParse:function(Q){var ee=q(Q+="",!0);return ee.toString=function(){return Q},ee}}}var FC={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,G9=/^%/,H9=/[\\^$*+?|[\]().{}]/g;function Fe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function V9(t){return t.replace(H9,"\\$&")}function xl(t){return new RegExp("^(?:"+t.map(V9).join("|")+")","i")}function Tl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $9(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function F9(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function K9(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Y9(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function J9(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function KC(t,e,n){var r=Zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function YC(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function W9(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function X9(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Q9(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function JC(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Z9(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WC(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function e7(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function t7(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function n7(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function r7(t,e,n){var r=Zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function i7(t,e,n){var r=G9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function a7(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function o7(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XC(t,e){return Fe(t.getDate(),e,2)}function s7(t,e){return Fe(t.getHours(),e,2)}function l7(t,e){return Fe(t.getHours()%12||12,e,2)}function u7(t,e){return Fe(1+ru.count(ci(t),t),e,3)}function HI(t,e){return Fe(t.getMilliseconds(),e,3)}function c7(t,e){return HI(t,e)+"000"}function f7(t,e){return Fe(t.getMonth()+1,e,2)}function d7(t,e){return Fe(t.getMinutes(),e,2)}function h7(t,e){return Fe(t.getSeconds(),e,2)}function p7(t){var e=t.getDay();return e===0?7:e}function m7(t,e){return Fe(Sd.count(ci(t)-1,t),e,2)}function VI(t){var e=t.getDay();return e>=4||e===0?ss(t):ss.ceil(t)}function g7(t,e){return t=VI(t),Fe(ss.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function y7(t){return t.getDay()}function v7(t,e){return Fe(zf.count(ci(t)-1,t),e,2)}function b7(t,e){return Fe(t.getFullYear()%100,e,2)}function _7(t,e){return t=VI(t),Fe(t.getFullYear()%100,e,2)}function w7(t,e){return Fe(t.getFullYear()%1e4,e,4)}function S7(t,e){var n=t.getDay();return t=n>=4||n===0?ss(t):ss.ceil(t),Fe(t.getFullYear()%1e4,e,4)}function E7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fe(e/60|0,"0",2)+Fe(e%60,"0",2)}function QC(t,e){return Fe(t.getUTCDate(),e,2)}function x7(t,e){return Fe(t.getUTCHours(),e,2)}function T7(t,e){return Fe(t.getUTCHours()%12||12,e,2)}function A7(t,e){return Fe(1+wd.count(fi(t),t),e,3)}function $I(t,e){return Fe(t.getUTCMilliseconds(),e,3)}function C7(t,e){return $I(t,e)+"000"}function N7(t,e){return Fe(t.getUTCMonth()+1,e,2)}function R7(t,e){return Fe(t.getUTCMinutes(),e,2)}function M7(t,e){return Fe(t.getUTCSeconds(),e,2)}function I7(t){var e=t.getUTCDay();return e===0?7:e}function P7(t,e){return Fe(Ed.count(fi(t)-1,t),e,2)}function FI(t){var e=t.getUTCDay();return e>=4||e===0?ls(t):ls.ceil(t)}function O7(t,e){return t=FI(t),Fe(ls.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function D7(t){return t.getUTCDay()}function k7(t,e){return Fe(Gf.count(fi(t)-1,t),e,2)}function U7(t,e){return Fe(t.getUTCFullYear()%100,e,2)}function L7(t,e){return t=FI(t),Fe(t.getUTCFullYear()%100,e,2)}function q7(t,e){return Fe(t.getUTCFullYear()%1e4,e,4)}function j7(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ls(t):ls.ceil(t),Fe(t.getUTCFullYear()%1e4,e,4)}function B7(){return"+0000"}function ZC(){return"%"}function e1(t){return+t}function t1(t){return Math.floor(+t/1e3)}var Go,KI,YI;z7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function z7(t){return Go=z9(t),KI=Go.format,Go.parse,YI=Go.utcFormat,Go.utcParse,Go}function G7(t){return new Date(t)}function H7(t){return t instanceof Date?+t:+new Date(+t)}function c0(t,e,n,r,i,o,l,c,f,d){var p=Wv(),g=p.invert,b=p.domain,w=d(".%L"),S=d(":%S"),T=d("%I:%M"),x=d("%I %p"),C=d("%a %d"),I=d("%b %d"),R=d("%B"),O=d("%Y");function P(D){return(f(D)<D?w:c(D)<D?S:l(D)<D?T:o(D)<D?x:r(D)<D?i(D)<D?C:I:n(D)<D?R:O)(D)}return p.invert=function(D){return new Date(g(D))},p.domain=function(D){return arguments.length?b(Array.from(D,H7)):b().map(G7)},p.ticks=function(D){var q=b();return t(q[0],q[q.length-1],D??10)},p.tickFormat=function(D,q){return q==null?P:d(q)},p.nice=function(D){var q=b();return(!D||typeof D.range!="function")&&(D=e(q[0],q[q.length-1],D??10)),D?b(DI(q,D)):p},p.copy=function(){return nu(p,c0(t,e,n,r,i,o,l,c,f,d))},p}function V7(){return dr.apply(c0(j9,B9,ci,l0,Sd,ru,o0,i0,qa,KI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $7(){return dr.apply(c0(L9,q9,fi,u0,Ed,wd,s0,a0,qa,YI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xd(){var t=0,e=1,n,r,i,o,l=gn,c=!1,f;function d(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(o(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(c=!!g,d):c},d.interpolator=function(g){return arguments.length?(l=g,d):l};function p(g){return function(b){var w,S;return arguments.length?([w,S]=b,l=g(w,S),d):[l(0),l(1)]}}return d.range=p(gs),d.rangeRound=p(Jv),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function aa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JI(){var t=ia(xd()(gn));return t.copy=function(){return aa(t,JI())},yi.apply(t,arguments)}function WI(){var t=Zv(xd()).domain([1,10]);return t.copy=function(){return aa(t,WI()).base(t.base())},yi.apply(t,arguments)}function XI(){var t=e0(xd());return t.copy=function(){return aa(t,XI()).constant(t.constant())},yi.apply(t,arguments)}function f0(){var t=t0(xd());return t.copy=function(){return aa(t,f0()).exponent(t.exponent())},yi.apply(t,arguments)}function F7(){return f0.apply(null,arguments).exponent(.5)}function QI(){var t=[],e=gn;function n(r){if(r!=null&&!isNaN(r=+r))return e((eu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ji),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>IF(t,o/r))},n.copy=function(){return QI(e).domain(t)},yi.apply(n,arguments)}function Td(){var t=0,e=.5,n=1,r=1,i,o,l,c,f,d=gn,p,g=!1,b;function w(T){return isNaN(T=+T)?b:(T=.5+((T=+p(T))-o)*(r*T<r*o?c:f),d(g?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=p(t=+t),o=p(e=+e),l=p(n=+n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(g=!!T,w):g},w.interpolator=function(T){return arguments.length?(d=T,w):d};function S(T){return function(x){var C,I,R;return arguments.length?([C,I,R]=x,d=i9(T,[C,I,R]),w):[d(0),d(.5),d(1)]}}return w.range=S(gs),w.rangeRound=S(Jv),w.unknown=function(T){return arguments.length?(b=T,w):b},function(T){return p=T,i=T(t),o=T(e),l=T(n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function ZI(){var t=ia(Td()(gn));return t.copy=function(){return aa(t,ZI())},yi.apply(t,arguments)}function eP(){var t=Zv(Td()).domain([.1,1,10]);return t.copy=function(){return aa(t,eP()).base(t.base())},yi.apply(t,arguments)}function tP(){var t=e0(Td());return t.copy=function(){return aa(t,tP()).constant(t.constant())},yi.apply(t,arguments)}function d0(){var t=t0(Td());return t.copy=function(){return aa(t,d0()).exponent(t.exponent())},yi.apply(t,arguments)}function K7(){return d0.apply(null,arguments).exponent(.5)}const Nl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fv,scaleDiverging:ZI,scaleDivergingLog:eP,scaleDivergingPow:d0,scaleDivergingSqrt:K7,scaleDivergingSymlog:tP,scaleIdentity:OI,scaleImplicit:$y,scaleLinear:PI,scaleLog:kI,scaleOrdinal:$v,scalePoint:DF,scalePow:n0,scaleQuantile:qI,scaleQuantize:jI,scaleRadial:LI,scaleSequential:JI,scaleSequentialLog:WI,scaleSequentialPow:f0,scaleSequentialQuantile:QI,scaleSequentialSqrt:F7,scaleSequentialSymlog:XI,scaleSqrt:C9,scaleSymlog:UI,scaleThreshold:BI,scaleTime:V7,scaleUtc:$7,tickFormat:II},Symbol.toStringTag,{value:"Module"}));var oa=t=>t.chartData,h0=Y([oa],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nP=(t,e,n,r)=>r?h0(t):oa(t);function Qi(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xt(e)&&Xt(n))return!0}return!1}function n1(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function rP(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Xt(n))i=n;else if(typeof n=="function")return;if(Xt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Qi(l))return l}}function Y7(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Qi(r))return n1(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ce(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&UA.test(i)){var f=UA.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Ce(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&LA.test(o)){var p=LA.exec(o);if(p==null||e==null)c=void 0;else{var g=+p[1];c=e[1]+g}}else c=e==null?void 0:e[1];var b=[l,c];if(Qi(b))return e==null?b:n1(b,e,n)}}}var ys=1e9,J7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m0,mt=!0,fr="[DecimalError] ",Ga=fr+"Invalid argument: ",p0=fr+"Exponent out of range: ",vs=Math.floor,Pa=Math.pow,W7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,Jt=1e7,dt=7,iP=9007199254740991,Hf=vs(iP/dt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(t){return ri(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,n=e.constructor;return it(ri(e,new n(t),0,1),n.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return Ut(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(fr+"NaN");if(n.s<1)throw Error(fr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(mt=!1,e=ri($l(n,o),$l(t,o),o),mt=!0,it(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sP(e,t):aP(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fr+"NaN");return n.s?(mt=!1,e=ri(n,t,0,1).times(t),mt=!0,n.minus(e)):it(new r(n),i)};me.naturalExponential=me.exp=function(){return oP(this)};me.naturalLogarithm=me.ln=function(){return $l(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aP(e,t):sP(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ga+t);if(e=Ut(i)+1,r=i.d.length-1,n=r*dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(fr+"NaN")}for(t=Ut(c),mt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Ir(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(ri(c,o,l+2)).times(.5),Ir(o.d).slice(0,l)===(e=Ir(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(it(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return mt=!0,it(r,n)};me.times=me.mul=function(t){var e,n,r,i,o,l,c,f,d,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=b.length,d=w.length,f<d&&(o=b,b=w,w=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=o[i]+w[r]*b[i-r-1]+e,o[i--]=c%Jt|0,e=c/Jt|0;o[i]=(o[i]+e)%Jt|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,mt?it(t,g.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Or(t,0,ys),e===void 0?e=r.rounding:Or(e,0,8),it(n,t+Ut(n)+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$a(r,!0):(Or(t,0,ys),e===void 0?e=i.rounding:Or(e,0,8),r=it(new i(r),t+1,e),n=$a(r,!0,t+1)),n};me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?$a(i):(Or(t,0,ys),e===void 0?e=o.rounding:Or(e,0,8),r=it(new o(i),t+Ut(i)+1,e),n=$a(r.abs(),!1,t+Ut(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return it(new e(t),Ut(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,n,r,i,o,l,c=this,f=c.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(Hn);if(c=new f(c),!c.s){if(t.s<1)throw Error(fr+"Infinity");return c}if(c.eq(Hn))return c;if(r=f.precision,t.eq(Hn))return it(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=p<0?-p:p)<=iP){for(i=new f(Hn),e=Math.ceil(r/dt+4),mt=!1;n%2&&(i=i.times(c),i1(i.d,e)),n=vs(n/2),n!==0;)c=c.times(c),i1(c.d,e);return mt=!0,t.s<0?new f(Hn).div(i):it(i,r)}}else if(o<0)throw Error(fr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,mt=!1,i=t.times($l(c,r+d)),mt=!0,i=oP(i),i.s=o,i};me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ut(i),r=$a(i,n<=o.toExpNeg||n>=o.toExpPos)):(Or(t,1,ys),e===void 0?e=o.rounding:Or(e,0,8),i=it(new o(i),t,e),n=Ut(i),r=$a(i,t<=n||n<=o.toExpNeg,t)),r};me.toSignificantDigits=me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Or(t,1,ys),e===void 0?e=r.rounding:Or(e,0,8)),it(new r(n),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ut(t),n=t.constructor;return $a(t,e<=n.toExpNeg||e>=n.toExpPos)};function aP(t,e){var n,r,i,o,l,c,f,d,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),mt?it(e,g):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(g/dt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=d.length,c-o<0&&(o=c,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Jt|0,f[o]%=Jt;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,mt?it(e,g):e}function Or(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ga+t)}function Ir(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=dt-r.length,n&&(o+=$i(n)),o+=r;l=t[e],r=l+"",n=dt-r.length,n&&(o+=$i(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var ri=(function(){function t(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%Jt|0,l=o/Jt|0;return l&&r.unshift(l),r}function e(r,i,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,f,d,p,g,b,w,S,T,x,C,I,R,O,P,D,q,Z,L=r.constructor,ie=r.s==i.s?1:-1,J=r.d,W=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(fr+"Division by zero");for(f=r.e-i.e,q=W.length,P=J.length,w=new L(ie),S=w.d=[],d=0;W[d]==(J[d]||0);)++d;if(W[d]>(J[d]||0)&&--f,o==null?I=o=L.precision:l?I=o+(Ut(r)-Ut(i))+1:I=o,I<0)return new L(0);if(I=I/dt+2|0,d=0,q==1)for(p=0,W=W[0],I++;(d<P||p)&&I--;d++)R=p*Jt+(J[d]||0),S[d]=R/W|0,p=R%W|0;else{for(p=Jt/(W[0]+1)|0,p>1&&(W=t(W,p),J=t(J,p),q=W.length,P=J.length),O=q,T=J.slice(0,q),x=T.length;x<q;)T[x++]=0;Z=W.slice(),Z.unshift(0),D=W[0],W[1]>=Jt/2&&++D;do p=0,c=e(W,T,q,x),c<0?(C=T[0],q!=x&&(C=C*Jt+(T[1]||0)),p=C/D|0,p>1?(p>=Jt&&(p=Jt-1),g=t(W,p),b=g.length,x=T.length,c=e(g,T,b,x),c==1&&(p--,n(g,q<b?Z:W,b))):(p==0&&(c=p=1),g=W.slice()),b=g.length,b<x&&g.unshift(0),n(T,g,x),c==-1&&(x=T.length,c=e(W,T,q,x),c<1&&(p++,n(T,q<x?Z:W,x))),x=T.length):c===0&&(p++,T=[0]),S[d++]=p,c&&T[0]?T[x++]=J[O]||0:(T=[J[O]],x=1);while((O++<P||T[0]!==void 0)&&I--)}return S[0]||S.shift(),w.e=f,it(w,l?o+Ut(w)+1:o)}})();function oP(t,e){var n,r,i,o,l,c,f=0,d=0,p=t.constructor,g=p.precision;if(Ut(t)>16)throw Error(p0+Ut(t));if(!t.s)return new p(Hn);for(mt=!1,c=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Pa(2,d))/Math.LN10*2+5|0,c+=r,n=i=o=new p(Hn),p.precision=c;;){if(i=it(i.times(t),c),n=n.times(++f),l=o.plus(ri(i,n,c)),Ir(l.d).slice(0,c)===Ir(o.d).slice(0,c)){for(;d--;)o=it(o.times(o),c);return p.precision=g,e==null?(mt=!0,it(o,g)):o}o=l}}function Ut(t){for(var e=t.e*dt,n=t.d[0];n>=10;n/=10)e++;return e}function Rg(t,e,n){if(e>t.LN10.sd())throw mt=!0,n&&(t.precision=n),Error(fr+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function $i(t){for(var e="";t--;)e+="0";return e}function $l(t,e){var n,r,i,o,l,c,f,d,p,g=1,b=10,w=t,S=w.d,T=w.constructor,x=T.precision;if(w.s<1)throw Error(fr+(w.s?"NaN":"-Infinity"));if(w.eq(Hn))return new T(0);if(e==null?(mt=!1,d=x):d=e,w.eq(10))return e==null&&(mt=!0),Rg(T,d);if(d+=b,T.precision=d,n=Ir(S),r=n.charAt(0),o=Ut(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ir(w.d),r=n.charAt(0),g++;o=Ut(w),r>1?(w=new T("0."+n),o++):w=new T(r+"."+n.slice(1))}else return f=Rg(T,d+2,x).times(o+""),w=$l(new T(r+"."+n.slice(1)),d-b).plus(f),T.precision=x,e==null?(mt=!0,it(w,x)):w;for(c=l=w=ri(w.minus(Hn),w.plus(Hn),d),p=it(w.times(w),d),i=3;;){if(l=it(l.times(p),d),f=c.plus(ri(l,new T(i),d)),Ir(f.d).slice(0,d)===Ir(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(Rg(T,d+2,x).times(o+""))),c=ri(c,new T(g),d),T.precision=x,e==null?(mt=!0,it(c,x)):c;c=f,i+=2}}function r1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vs(n/dt),t.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dt;r<i;)t.d.push(+e.slice(r,r+=dt));e=e.slice(r),r=dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mt&&(t.e>Hf||t.e<-Hf))throw Error(p0+n)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,n){var r,i,o,l,c,f,d,p,g=t.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=dt,i=e,d=g[p=0];else{if(p=Math.ceil((r+1)/dt),o=g.length,p>=o)return t;for(d=o=g[p],l=1;o>=10;o/=10)l++;r%=dt,i=r-dt+l}if(n!==void 0&&(o=Pa(10,l-i-1),c=d/o%10|0,f=e<0||g[p+1]!==void 0||d%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/Pa(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(o=Ut(t),g.length=1,e=e-o-1,g[0]=Pa(10,(dt-e%dt)%dt),t.e=vs(-e/dt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=Pa(10,dt-r),g[p]=i>0?(d/Pa(10,l-i)%Pa(10,i)|0)*o:0),f)for(;;)if(p==0){(g[0]+=o)==Jt&&(g[0]=1,++t.e);break}else{if(g[p]+=o,g[p]!=Jt)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(mt&&(t.e>Hf||t.e<-Hf))throw Error(p0+Ut(t));return t}function sP(t,e){var n,r,i,o,l,c,f,d,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),mt?it(e,w):e;if(f=t.d,g=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(p=l<0,p?(n=f,l=-l,c=g.length):(n=g,r=d,c=f.length),i=Math.max(Math.ceil(w/dt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=g.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=Jt-1;--f[o],f[i]+=Jt}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,mt?it(e,w):e):new b(0)}function $a(t,e,n){var r,i=Ut(t),o=Ir(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+$i(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+$i(-i-1)+o,n&&(r=n-l)>0&&(o+=$i(r))):i>=l?(o+=$i(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+$i(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=$i(r))),t.s<0?"-"+o:o}function i1(t,e){if(t.length>e)return t.length=e,!0}function lP(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ga+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return r1(l,o.toString())}else if(typeof o!="string")throw Error(Ga+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,W7.test(o))r1(l,o);else throw Error(Ga+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lP,i.config=i.set=X7,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X7(t){if(!t||typeof t!="object")throw Error(fr+"Object expected");var e,n,r,i=["precision",1,ys,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ga+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ga+n+": "+r);return this}var m0=lP(J7);Hn=new m0(1);const Xe=m0;var Q7=t=>t,uP={},cP=t=>t===uP,a1=t=>function e(){return arguments.length===0||arguments.length===1&&cP(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fP=(t,e)=>t===1?e:a1(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==uP).length;return o>=t?e(...r):fP(t-o,a1(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(p=>cP(p)?c.shift():p);return e(...d,...c)}))}),Z7=t=>fP(t.length,t),Jy=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},eK=Z7((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),tK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Q7;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),o(...arguments))}},Wy=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function dP(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function hP(t,e,n){for(var r=new Xe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pP=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},mP=(t,e,n)=>{if(t.lte(0))return new Xe(0);var r=dP(t.toNumber()),i=new Xe(10).pow(r),o=t.div(i),l=r!==1?.05:.1,c=new Xe(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new Xe(f.toNumber()):new Xe(Math.ceil(f.toNumber()))},nK=(t,e,n)=>{var r=new Xe(1),i=new Xe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Xe(10).pow(dP(t)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):n||(i=new Xe(Math.floor(t)));var l=Math.floor((e-1)/2),c=tK(eK(f=>i.add(new Xe(f-l).mul(r)).toNumber()),Jy);return c(0,e)},gP=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var l=mP(new Xe(n).sub(e).div(r-1),i,o),c;e<=0&&n>=0?c=new Xe(0):(c=new Xe(e).add(n).div(2),c=c.sub(new Xe(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new Xe(n).sub(c).div(l).toNumber()),p=f+d+1;return p>r?gP(e,n,r,i,o+1):(p<r&&(d=n>0?d+(r-p):d,f=n>0?f:f+(r-p)),{step:l,tickMin:c.sub(new Xe(f).mul(l)),tickMax:c.add(new Xe(d).mul(l))})},rK=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=pP([n,r]);if(c===-1/0||f===1/0){var d=f===1/0?[c,...Jy(0,i-1).map(()=>1/0)]:[...Jy(0,i-1).map(()=>-1/0),f];return n>r?Wy(d):d}if(c===f)return nK(c,i,o);var{step:p,tickMin:g,tickMax:b}=gP(c,f,l,o,0),w=hP(g,b.add(new Xe(.1).mul(p)),p);return n>r?Wy(w):w},iK=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=pP([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),d=mP(new Xe(c).sub(l).div(f-1),o,0),p=[...hP(new Xe(l),new Xe(c),d),c];return o===!1&&(p=p.map(g=>Math.round(g))),r>i?Wy(p):p},aK=t=>t.rootProps.barCategoryGap,iu=t=>t.rootProps.stackOffset,yP=t=>t.rootProps.reverseStackOrder,g0=t=>t.options.chartName,y0=t=>t.rootProps.syncId,vP=t=>t.rootProps.syncMethod,v0=t=>t.options.eventEmitter,Sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ad=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},oK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:ei.type,unit:void 0},sK={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bn.scale,tick:Bn.tick,tickCount:Bn.tickCount,ticks:void 0,type:Bn.type,unit:void 0},lK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uK={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bn.scale,tick:Bn.tick,tickCount:Bn.tickCount,ticks:void 0,type:"category",unit:void 0},b0=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?lK:oK,_0=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?uK:sK,Cd=t=>t.polarOptions,w0=Y([mi,gi,Qt],yI),bP=Y([Cd,w0],(t,e)=>{if(t!=null)return Vn(t.innerRadius,e,0)}),_P=Y([Cd,w0],(t,e)=>{if(t!=null)return Vn(t.outerRadius,e,e*.8)}),cK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},wP=Y([Cd],cK);Y([b0,wP],Ad);var SP=Y([w0,bP,_P],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Y([_0,SP],Ad);var EP=Y([st,Cd,bP,_P,mi,gi],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:Vn(l,i,i/2),cy:Vn(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),gt=(t,e)=>e,au=(t,e,n)=>n;function xP(t){return t==null?void 0:t.id}function TP(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var p=xP(c);d.forEach((g,b)=>{var w=o==null||i?b:String(At(g,o,null)),S=At(g,c.dataKey,0),T;l.has(w)?T=l.get(w):T={},Object.assign(T,{[p]:S}),l.set(w,T)})}}),Array.from(l.values())}function S0(t){return t.stackId!=null&&t.dataKey!=null}var Nd=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Rd(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function fK(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Ht=t=>{var e=st(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},bs=t=>t.tooltip.settings.axisId;function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){dK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dK(t,e,n){return(e=hK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hK(t){var e=pK(t,"string");return typeof e=="symbol"?e:e+""}function pK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xy=[0,"auto"],mK={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gK=(t,e)=>t.cartesianAxis.xAxis[e],sa=(t,e)=>{var n=gK(t,e);return n??mK},yK={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zl},vK=(t,e)=>t.cartesianAxis.yAxis[e],la=(t,e)=>{var n=vK(t,e);return n??yK},bK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},E0=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bK},_t=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);case"zAxis":return E0(t,n);case"angleAxis":return b0(t,n);case"radiusAxis":return _0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_K=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ou=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);case"angleAxis":return b0(t,n);case"radiusAxis":return _0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},AP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function x0(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var wK=t=>t.graphicalItems.cartesianItems,SK=Y([gt,au],x0),T0=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),su=Y([wK,_t,SK],T0,{memoizeOptions:{resultEqualityCheck:Rd}}),CP=Y([su],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(S0)),NP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),EK=Y([su],NP),A0=t=>t.map(e=>e.data).filter(Boolean).flat(1),xK=Y([su],A0,{memoizeOptions:{resultEqualityCheck:Rd}}),C0=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},N0=Y([xK,nP],C0),R0=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:At(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:At(i,r)}))):t.map(r=>({value:r})),Md=Y([N0,_t,su],R0);function RP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function of(t){if(si(t)||t instanceof Date){var e=Number(t);if(Xt(e))return e}}function s1(t){if(Array.isArray(t)){var e=[of(t[0]),of(t[1])];return Qi(e)?e:void 0}var n=of(t);if(n!=null)return[n,n]}function di(t){return t.map(of).filter(KG)}function TK(t,e,n){return!n||typeof e!="number"||ai(e)?[]:n.length?di(n.flatMap(r=>{var i=At(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Xt(o)||!Xt(l)))return[e-o,e+l]})):[]}var Vt=t=>{var e=Ht(t),n=bs(t);return ou(t,e,n)},lu=Y([Vt],t=>t==null?void 0:t.dataKey),AK=Y([CP,nP,Vt],TP),MP=(t,e,n,r)=>{var i={},o=e.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[c,f]=l,d=r?[...f].reverse():f,p=d.map(xP);return[c,{stackedData:u$(t,p,n),graphicalItems:d}]}))},CK=Y([AK,CP,iu,yP],MP),IP=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=d$(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},NK=Y([_t],t=>t.allowDataOverflow),M0=t=>{var e;if(t==null||!("domain"in t))return Xy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=di(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Xy},I0=Y([_t],M0),P0=Y([I0,NK],rP),RK=Y([CK,oa,gt,P0],IP,{memoizeOptions:{resultEqualityCheck:Nd}}),Id=t=>t.errorBars,MK=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>RP(n,r)),$f=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},O0=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,p,g=(d=r[f.id])===null||d===void 0?void 0:d.filter(C=>RP(i,C)),b=At(c,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=TK(c,b,g);if(w.length>=2){var S=Math.min(...w),T=Math.max(...w);(o==null||S<o)&&(o=S),(l==null||T>l)&&(l=T)}var x=s1(b);x!=null&&(o=o==null?x[0]:Math.min(o,x[0]),l=l==null?x[1]:Math.max(l,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=s1(At(c,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Xt(o)&&Xt(l))return[o,l]},IK=Y([N0,_t,EK,Id,gt],O0,{memoizeOptions:{resultEqualityCheck:Nd}});function PK(t){var{value:e}=t;if(si(e)||e instanceof Date)return e}var OK=(t,e,n)=>{var r=t.map(PK).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&dM(r))?wI(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},PP=t=>t.referenceElements.dots,_s=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),DK=Y([PP,gt,au],_s),OP=t=>t.referenceElements.areas,kK=Y([OP,gt,au],_s),DP=t=>t.referenceElements.lines,UK=Y([DP,gt,au],_s),kP=(t,e)=>{var n=di(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},LK=Y(DK,gt,kP),UP=(t,e)=>{var n=di(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qK=Y([kK,gt],UP);function jK(t){var e;if(t.x!=null)return di([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:di(n)}function BK(t){var e;if(t.y!=null)return di([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:di(n)}var LP=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?jK(r):BK(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zK=Y([UK,gt],LP),GK=Y(LK,zK,qK,(t,e,n)=>$f(t,n,e)),D0=(t,e,n,r,i,o,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?$f(r,o,i):$f(o,i);return Y7(e,d,t.allowDataOverflow)},HK=Y([_t,I0,P0,RK,IK,GK,st,gt],D0,{memoizeOptions:{resultEqualityCheck:Nd}}),VK=[0,1],k0=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=Ya(e,o);if(d&&c==null){var p;return wI(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?OK(r,t,d):i==="expand"?VK:l}},U0=Y([_t,st,N0,Md,iu,gt,HK],k0),qP=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(Jl(o));return c in Nl?c:"point"}}},ws=Y([_t,st,AP,g0,gt],qP);function $K(t){if(t!=null){if(t in Nl)return Nl[t]();var e="scale".concat(Jl(t));if(e in Nl)return Nl[e]()}}function L0(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=$K(e);if(i!=null){var o=i.domain(n).range(r);return a$(o),o}}}var q0=(t,e,n)=>{var r=M0(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qi(t))return rK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Qi(t))return iK(t,e.tickCount,e.allowDecimals)}},j0=Y([U0,ou,ws],q0),B0=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Qi(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,o),Math.max(l,c)]}return e},FK=Y([_t,U0,j0,gt],B0),KK=Y(Md,_t,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(di(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),jP=Y(KK,st,aK,Qt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Xt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=Vn(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),YK=(t,e)=>{var n=sa(t,e);return n==null||typeof n.padding!="string"?0:jP(t,"xAxis",e,n.padding)},JK=(t,e)=>{var n=la(t,e);return n==null||typeof n.padding!="string"?0:jP(t,"yAxis",e,n.padding)},WK=Y(sa,YK,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),XK=Y(la,JK,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),QK=Y([Qt,WK,yd,gd,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),ZK=Y([Qt,st,XK,yd,gd,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),uu=(t,e,n,r)=>{var i;switch(e){case"xAxis":return QK(t,n,r);case"yAxis":return ZK(t,n,r);case"zAxis":return(i=E0(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return wP(t);case"radiusAxis":return SP(t,n);default:return}},BP=Y([_t,uu],Ad),Pd=Y([_t,ws,FK,BP],L0);Y([su,Id,gt],MK);function zP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Od=(t,e)=>e,Dd=(t,e,n)=>n,eY=Y(pd,Od,Dd,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zP)),tY=Y(md,Od,Dd,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zP)),GP=(t,e)=>({width:t.width,height:e.height}),nY=(t,e)=>{var n=typeof e.width=="number"?e.width:Zl;return{width:n,height:t.height}};Y(Qt,sa,GP);var rY=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},iY=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},aY=Y(gi,Qt,eY,Od,Dd,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var f=GP(e,c);l==null&&(l=rY(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),oY=Y(mi,Qt,tY,Od,Dd,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var f=nY(e,c);l==null&&(l=iY(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),sY=(t,e)=>{var n=sa(t,e);if(n!=null)return aY(t,n.orientation,n.mirror)};Y([Qt,sa,sY,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var lY=(t,e)=>{var n=la(t,e);if(n!=null)return oY(t,n.orientation,n.mirror)};Y([Qt,la,lY,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});Y(Qt,la,(t,e)=>{var n=typeof e.width=="number"?e.width:Zl;return{width:n,height:t.height}});var HP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,c=Ya(t,r),f=e.map(d=>d.value);if(l&&c&&o==="category"&&i&&dM(f))return f}},z0=Y([st,Md,_t,gt],HP),VP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Ya(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(c=>c.value)}},G0=Y([st,Md,ou,gt],VP);Y([st,_K,ws,Pd,z0,G0,uu,j0,gt],(t,e,n,r,i,o,l,c,f)=>{if(e!=null){var d=Ya(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}});var uY=(t,e,n,r,i,o,l,c,f)=>{if(!(e==null||r==null)){var d=Ya(t,f),{type:p,ticks:g,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/w:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Cn(o[0]-o[1])*2*S:S;var T=g||i;if(T){var x=T.map((C,I)=>{var R=l?l.indexOf(C):C;return{index:I,coordinate:r(R)+S,value:C,offset:S}});return x.filter(C=>Xt(C.coordinate))}return d&&c?c.map((C,I)=>({coordinate:r(C)+S,value:C,index:I,offset:S})).filter(C=>Xt(C.coordinate)):r.ticks?r.ticks(b).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,I)=>({coordinate:r(C)+S,value:l?l[C]:C,index:I,offset:S}))}};Y([st,ou,ws,Pd,j0,uu,z0,G0,gt],uY);var cY=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Ya(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Cn(r[0]-r[1])*2*d:d,c&&o?o.map((p,g)=>({coordinate:n(p)+d,value:p,index:g,offset:d})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,g)=>({coordinate:n(p)+d,value:i?i[p]:p,index:g,offset:d}))}};Y([st,ou,Pd,uu,z0,G0,gt],cY);Y(_t,Pd,(t,e)=>{if(!(t==null||e==null))return Vf(Vf({},t),{},{scale:e})});var fY=Y([_t,ws,U0,BP],L0);Y((t,e,n)=>E0(t,n),fY,(t,e)=>{if(!(t==null||e==null))return Vf(Vf({},t),{},{scale:e})});var dY=Y([st,pd,md],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$P=t=>t.options.defaultTooltipEventType,FP=t=>t.options.validateTooltipEventTypes;function KP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function H0(t,e){var n=$P(t),r=FP(t);return KP(e,n,r)}function hY(t){return Oe(e=>H0(e,t))}var YP=(t,e)=>{var n,r=Number(e);if(!(ai(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},pY=t=>t.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,coordinate:void 0},mY={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JP=Rn({name:"tooltip",initialState:mY,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:pt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Er(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:pt()},removeTooltipEntrySettings:{reducer(t,e){var n=Er(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:pt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:gY,replaceTooltipEntrySettings:yY,removeTooltipEntrySettings:vY,setTooltipSettingsState:bY,setActiveMouseOverItemIndex:WP,mouseLeaveItem:_Y,mouseLeaveChart:XP,setActiveClickItemIndex:wY,setMouseOverAxisIndex:QP,setMouseClickAxisIndex:SY,setSyncInteraction:Qy,setKeyboardInteraction:Zy}=JP.actions,EY=JP.reducer;function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){xY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xY(t,e,n){return(e=TY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=AY(t,"string");return typeof e=="symbol"?e:e+""}function AY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function NY(t){return t.index!=null}var ZP=(t,e,n,r)=>{if(e==null)return Ki;var i=CY(t,e,n);if(i==null)return Ki;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(NY(i)){if(o)return Qc(Qc({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qc(Qc({},Ki),{},{coordinate:i.coordinate})};function RY(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function MY(t,e){var n=RY(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function IY(t,e,n){if(n==null||e==null)return!0;var r=At(t,e);return r==null||!Qi(n)?!0:MY(r,n)}var V0=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Xt(o))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(o,c)),d=e[f];return d==null||IY(d,n,r)?String(f):null},eO=(t,e,n,r,i,o,l,c)=>{if(!(o==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,o);if(d!=null)return d;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},tO=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},cu=t=>t.options.tooltipPayloadSearcher,Ss=t=>t.tooltip;function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return(e=OY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=DY(t,"string");return typeof e=="symbol"?e:e+""}function DY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kY(t,e){return t??e}var nO=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:p}=n,g=[];return t.reduce((b,w)=>{var S,{dataDefinedOnItem:T,settings:x}=w,C=kY(T,c),I=Array.isArray(C)?tI(C,d,p):C,R=(S=x==null?void 0:x.dataKey)!==null&&S!==void 0?S:r,O=x==null?void 0:x.nameKey,P;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&l==="axis"?P=FG(I,r,i):P=o(I,e,f,O),Array.isArray(P))P.forEach(q=>{var Z=c1(c1({},x),{},{name:q.name,unit:q.unit,color:void 0,fill:void 0});b.push(jA({tooltipEntrySettings:Z,dataKey:q.dataKey,payload:q.payload,value:At(q.payload,q.dataKey),name:q.name}))});else{var D;b.push(jA({tooltipEntrySettings:x,dataKey:R,payload:P,value:At(P,R),name:(D=At(P,O))!==null&&D!==void 0?D:x==null?void 0:x.name}))}return b},g)}},$0=Y([Vt,st,AP,g0,Ht],qP),UY=Y([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),LY=Y([Ht,bs],x0),fu=Y([UY,Vt,LY],T0,{memoizeOptions:{resultEqualityCheck:Rd}}),qY=Y([fu],t=>t.filter(S0)),jY=Y([fu],A0,{memoizeOptions:{resultEqualityCheck:Rd}}),Es=Y([jY,oa],C0),BY=Y([qY,oa,Vt],TP),F0=Y([Es,Vt,fu],R0),rO=Y([Vt],M0),zY=Y([Vt],t=>t.allowDataOverflow),iO=Y([rO,zY],rP),GY=Y([fu],t=>t.filter(S0)),HY=Y([BY,GY,iu,yP],MP),VY=Y([HY,oa,Ht,iO],IP),$Y=Y([fu],NP),FY=Y([Es,Vt,$Y,Id,Ht],O0,{memoizeOptions:{resultEqualityCheck:Nd}}),KY=Y([PP,Ht,bs],_s),YY=Y([KY,Ht],kP),JY=Y([OP,Ht,bs],_s),WY=Y([JY,Ht],UP),XY=Y([DP,Ht,bs],_s),QY=Y([XY,Ht],LP),ZY=Y([YY,QY,WY],$f),eJ=Y([Vt,rO,iO,VY,FY,ZY,st,Ht],D0),du=Y([Vt,st,Es,F0,iu,Ht,eJ],k0),tJ=Y([du,Vt,$0],q0),nJ=Y([Vt,du,tJ,Ht],B0),aO=t=>{var e=Ht(t),n=bs(t),r=!1;return uu(t,e,n,r)},oO=Y([Vt,aO],Ad),sO=Y([Vt,$0,nJ,oO],L0),rJ=Y([st,F0,Vt,Ht],HP),iJ=Y([st,F0,Vt,Ht],VP),aJ=(t,e,n,r,i,o,l,c)=>{if(e){var{type:f}=e,d=Ya(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Cn(i[0]-i[1])*2*g:g,d&&l?l.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:o?o[b]:b,index:w,offset:g}))}}},vi=Y([st,Vt,$0,sO,aO,rJ,iJ,Ht],aJ),K0=Y([$P,FP,pY],(t,e,n)=>KP(n.shared,t,e)),lO=t=>t.tooltip.settings.trigger,Y0=t=>t.tooltip.settings.defaultIndex,kd=Y([Ss,K0,lO,Y0],ZP),Fl=Y([kd,Es,lu,du],V0),uO=Y([vi,Fl],YP),oJ=Y([kd],t=>{if(t)return t.dataKey}),cO=Y([Ss,K0,lO,Y0],tO),sJ=Y([mi,gi,st,Qt,vi,Y0,cO,cu],eO),lJ=Y([kd,sJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),uJ=Y([kd],t=>t.active),cJ=Y([cO,Fl,oa,lu,uO,cu,K0],nO);Y([cJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return(e=dJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=hJ(t,"string");return typeof e=="symbol"?e:e+""}function hJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pJ=()=>Oe(Vt),mJ=()=>{var t=pJ(),e=Oe(vi),n=Oe(sO);return qA(!t||!n?void 0:d1(d1({},t),{},{scale:n}),e)};function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return(e=yJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=vJ(t,"string");return typeof e=="symbol"?e:e+""}function vJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bJ=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},_J=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return Ho(Ho(Ho({},r),kt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:f}=r;return Ho(Ho(Ho({},r),kt(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var fO=(t,e,n,r,i)=>{var o,l=-1,c=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var d=f>0?n[f-1].coordinate:n[c-1].coordinate,p=n[f].coordinate,g=f>=c-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(Cn(p-d)!==Cn(g-p)){var w=[];if(Cn(g-p)===Cn(i[1]-i[0])){b=g;var S=p+i[1]-i[0];w[0]=Math.min(S,(S+d)/2),w[1]=Math.max(S,(S+d)/2)}else{b=d;var T=g+i[1]-i[0];w[0]=Math.min(p,(T+p)/2),w[1]=Math.max(p,(T+p)/2)}var x=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>x[0]&&t<=x[1]||t>=w[0]&&t<=w[1]){({index:l}=n[f]);break}}else{var C=Math.min(d,g),I=Math.max(d,g);if(t>(C+p)/2&&t<=(I+p)/2){({index:l}=n[f]);break}}}else if(e){for(var R=0;R<c;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<c-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===c-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:l}=e[R]);break}}return l},SJ=()=>Oe(g0),J0=(t,e)=>e,dO=(t,e,n)=>n,W0=(t,e,n,r)=>r,EJ=Y(vi,t=>ld(t,e=>e.coordinate)),X0=Y([Ss,J0,dO,W0],ZP),Q0=Y([X0,Es,lu,du],V0),xJ=(t,e,n)=>{if(e!=null){var r=Ss(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},hO=Y([Ss,J0,dO,W0],tO),Ff=Y([mi,gi,st,Qt,vi,W0,hO,cu],eO),TJ=Y([X0,Ff],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),pO=Y([vi,Q0],YP),AJ=Y([hO,Q0,oa,lu,pO,cu,J0],nO),CJ=Y([X0,Q0],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),NJ=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&wJ(t,l)){var c=h$(t,e),f=fO(c,o,i,n,r),d=bJ(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},RJ=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var c=cF(t,n);if(c){var f=p$(c,e),d=fO(f,l,o,r,i),p=_J(e,o,d,c);return{activeIndex:String(d),activeCoordinate:p}}}},MJ=(t,e,n,r,i,o,l,c)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?NJ(t,e,r,i,o,l,c):RJ(t,e,n,r,i,o,l)},IJ=Y(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),PJ=Y(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Sr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:fK}});function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(r){OJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OJ(t,e,n){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=kJ(t,"string");return typeof e=="symbol"?e:e+""}function kJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UJ={},LJ={zIndexMap:Object.values(Sr).reduce((t,e)=>m1(m1({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),UJ)},qJ=new Set(Object.values(Sr));function jJ(t){return qJ.has(t)}var mO=Rn({name:"zIndex",initialState:LJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:pt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!jJ(n)&&delete t.zIndexMap[n])},prepare:pt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:pt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:pt()}}}),{registerZIndexPortal:BJ,unregisterZIndexPortal:zJ,registerZIndexPortalId:GJ,unregisterZIndexPortalId:HJ}=mO.actions,VJ=mO.reducer;function hu(t){var{zIndex:e,children:n}=t,r=Y$(),i=r&&e!==void 0&&e!==0,o=ra(),l=zt();N.useLayoutEffect(()=>i?(l(BJ({zIndex:e})),()=>{l(zJ({zIndex:e}))}):Wl,[l,e,i]);var c=Oe(d=>IJ(d,e,o));if(!i)return n;if(!c)return null;var f=document.getElementById(c);return f?YR.createPortal(n,f):null}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(null,arguments)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=FJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=KJ(t,"string");return typeof e=="symbol"?e:e+""}function KJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function JJ(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:p}=t,g=n,b=r,w=i;if(!f||!g||p!=="ScatterChart"&&d!=="axis")return null;var S,T,x;if(p==="ScatterChart")S=g,T=A8,x=Sr.cursorLine;else if(p==="BarChart")S=C8(c,g,o,l),T=gI,x=Sr.cursorRectangle;else if(c==="radial"&&mM(g)){var{cx:C,cy:I,radius:R,startAngle:O,endAngle:P}=vI(g);S={cx:C,cy:I,startAngle:O,endAngle:P,innerRadius:R,outerRadius:R},T=_I,x=Sr.cursorLine}else S={points:pF(c,g,o)},T=zv,x=Sr.cursorLine;var D=typeof f=="object"&&"className"in f?f.className:void 0,q=Zc(Zc(Zc(Zc({stroke:"#ccc",pointerEvents:"none"},o),S),vy(f)),{},{payload:b,payloadIndex:w,className:Lt("recharts-tooltip-cursor",D)});return N.createElement(hu,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},N.createElement(YJ,{cursor:f,cursorComp:T,cursorProps:q}))}function WJ(t){var e=mJ(),n=$$(),r=Bv(),i=SJ();return e==null||n==null||r==null||i==null?null:N.createElement(JJ,ev({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var gO=N.createContext(null),XJ=()=>N.useContext(gO),Mg={exports:{}},y1;function QJ(){return y1||(y1=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||f,b),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],w]:f._events[S].push(w):(f._events[S]=w,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)e.call(p,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,S=new Array(w);b<w;b++)S[b]=g[b].fn;return S},c.prototype.listenerCount=function(d){var p=n?n+d:d,g=this._events[p];return g?g.fn?1:g.length:0},c.prototype.emit=function(d,p,g,b,w,S){var T=n?n+d:d;if(!this._events[T])return!1;var x=this._events[T],C=arguments.length,I,R;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,g),!0;case 4:return x.fn.call(x.context,p,g,b),!0;case 5:return x.fn.call(x.context,p,g,b,w),!0;case 6:return x.fn.call(x.context,p,g,b,w,S),!0}for(R=1,I=new Array(C-1);R<C;R++)I[R-1]=arguments[R];x.fn.apply(x.context,I)}else{var O=x.length,P;for(R=0;R<O;R++)switch(x[R].once&&this.removeListener(d,x[R].fn,void 0,!0),C){case 1:x[R].fn.call(x[R].context);break;case 2:x[R].fn.call(x[R].context,p);break;case 3:x[R].fn.call(x[R].context,p,g);break;case 4:x[R].fn.call(x[R].context,p,g,b);break;default:if(!I)for(P=1,I=new Array(C-1);P<C;P++)I[P-1]=arguments[P];x[R].fn.apply(x[R].context,I)}}return!0},c.prototype.on=function(d,p,g){return o(this,d,p,g,!1)},c.prototype.once=function(d,p,g){return o(this,d,p,g,!0)},c.prototype.removeListener=function(d,p,g,b){var w=n?n+d:d;if(!this._events[w])return this;if(!p)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,w);else{for(var T=0,x=[],C=S.length;T<C;T++)(S[T].fn!==p||b&&!S[T].once||g&&S[T].context!==g)&&x.push(S[T]);x.length?this._events[w]=x.length===1?x[0]:x:l(this,w)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Mg)),Mg.exports}var ZJ=QJ();const eW=xr(ZJ);var Kl=new eW,tv="recharts.syncEvent.tooltip",v1="recharts.syncEvent.brush";function tW(t,e){if(e){var n=Number.parseInt(e,10);if(!ai(n))return t==null?void 0:t[n]}}var nW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yO=Rn({name:"options",initialState:nW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rW=yO.reducer,{createEventEmitter:iW}=yO.actions;function aW(t){return t.tooltip.syncInteraction}var oW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vO=Rn({name:"chartData",initialState:oW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:b1,setDataStartEndIndexes:sW,setComputedData:jee}=vO.actions,lW=vO.reducer,uW=["x","y"];function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=fW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hW(t,e){if(t==null)return{};var n,r,i=pW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mW(){var t=Oe(y0),e=Oe(v0),n=zt(),r=Oe(vP),i=Oe(vi),o=Bv(),l=vd(),c=Oe(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return Wl;var f=(d,p,g)=>{if(e!==g&&t===d){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:S,y:T}=w,x=hW(w,uW),{x:C,y:I,width:R,height:O}=p.payload.sourceViewBox,P=Vo(Vo({},x),{},{x:l.x+(R?(S-C)/R:0)*l.width,y:l.y+(O?(T-I)/O:0)*l.height});n(Vo(Vo({},p),{},{payload:Vo(Vo({},p.payload),{},{coordinate:P})}))}else n(p);return}if(i!=null){var D;if(typeof r=="function"){var q={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},Z=r(i,q);D=i[Z]}else r==="value"&&(D=i.find(H=>String(H.value)===p.payload.label));var{coordinate:L}=p.payload;if(D==null||p.payload.active===!1||L==null||l==null){n(Qy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:ie,y:J}=L,W=Math.min(ie,l.x+l.width),fe=Math.min(J,l.y+l.height),ye={x:o==="horizontal"?D.coordinate:W,y:o==="horizontal"?fe:D.coordinate},Ee=Qy({active:p.payload.active,coordinate:ye,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(Ee)}}};return Kl.on(tv,f),()=>{Kl.off(tv,f)}},[c,n,e,t,r,i,o,l])}function gW(){var t=Oe(y0),e=Oe(v0),n=zt();N.useEffect(()=>{if(t==null)return Wl;var r=(i,o,l)=>{e!==l&&t===i&&n(sW(o))};return Kl.on(v1,r),()=>{Kl.off(v1,r)}},[n,e,t])}function yW(){var t=zt();N.useEffect(()=>{t(iW())},[t]),mW(),gW()}function vW(t,e,n,r,i,o){var l=Oe(w=>xJ(w,t,e)),c=Oe(v0),f=Oe(y0),d=Oe(vP),p=Oe(aW),g=p==null?void 0:p.active,b=vd();N.useEffect(()=>{if(!g&&f!=null&&c!=null){var w=Qy({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b});Kl.emit(tv,f,w,c)}},[g,n,l,i,r,c,f,d,o,b])}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){bW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bW(t,e,n){return(e=_W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SW(t){return t.dataKey}function EW(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(i8,e)}var E1=[],xW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ms.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function TW(t){var e,n,r=Dr(t,xW),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:p,offset:g,payloadUniqBy:b,position:w,reverseDirection:S,useTranslate3d:T,wrapperStyle:x,cursor:C,shared:I,trigger:R,defaultIndex:O,portal:P,axisId:D}=r,q=zt(),Z=typeof O=="number"?String(O):O;N.useEffect(()=>{q(bY({shared:I,trigger:R,axisId:D,active:i,defaultIndex:Z}))},[q,I,R,D,i,Z]);var L=vd(),ie=fI(),J=hY(I),{activeIndex:W,isActive:fe}=(e=Oe(ue=>CJ(ue,J,R,Z)))!==null&&e!==void 0?e:{},ye=Oe(ue=>AJ(ue,J,R,Z)),Ee=Oe(ue=>pO(ue,J,R,Z)),H=Oe(ue=>TJ(ue,J,R,Z)),ae=ye,de=XJ(),be=(n=i??fe)!==null&&n!==void 0?n:!1,[Ne,j]=iV([ae,be]),U=J==="axis"?Ee:void 0;vW(J,R,H,U,W,be);var F=P??de;if(F==null||L==null||J==null)return null;var G=ae??E1;be||(G=E1),d&&G.length&&(G=MH(G.filter(ue=>ue.value!=null&&(ue.hide!==!0||r.includeHidden)),b,SW));var se=G.length>0,le=N.createElement(f8,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:be,coordinate:H,hasPayload:se,offset:g,position:w,reverseDirection:S,useTranslate3d:T,viewBox:L,wrapperStyle:x,lastBoundingBox:Ne,innerRef:j,hasPortalFromProps:!!P},EW(f,S1(S1({},r),{},{payload:G,label:U,active:be,activeIndex:W,coordinate:H,accessibilityLayer:ie})));return N.createElement(N.Fragment,null,YR.createPortal(le,F),be&&N.createElement(WJ,{cursor:C,tooltipEventType:J,coordinate:H,payload:G,index:W}))}var Ud=t=>null;Ud.displayName="Cell";function AW(t,e,n){return(e=CW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RW{constructor(e){AW(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return(e=PW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DW={cacheSize:2e3,enableCache:!0},bO=MW({},DW),T1=new RW(bO.cacheSize),kW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function UW(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(c)}var C1=(t,e)=>{try{var n=document.getElementById(A1);n||(n=document.createElement("span"),n.setAttribute("id",A1),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kW,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},N1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ms.isSsr)return{width:0,height:0};if(!bO.enableCache)return C1(e,n);var r=UW(e,n),i=T1.get(r);if(i)return i;var o=C1(e,n);return T1.set(r,o),o},R1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_O={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jW=Object.keys(_O),Jo="NaN";function BW(t,e){return t*_O[e]}class An{static parse(e){var n,[,r,i]=(n=qW.exec(e))!==null&&n!==void 0?n:[];return new An(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ai(e)&&(this.unit=""),n!==""&&!LW.test(n)&&(this.num=NaN,this.unit=""),jW.includes(n)&&(this.num=BW(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new An(NaN,""):new An(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new An(NaN,""):new An(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new An(NaN,""):new An(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new An(NaN,""):new An(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ai(this.num)}}function wO(t){if(t.includes(Jo))return Jo;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=R1.exec(e))!==null&&n!==void 0?n:[],l=An.parse(r??""),c=An.parse(o??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Jo;e=e.replace(R1,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,g,b]=(d=M1.exec(e))!==null&&d!==void 0?d:[],w=An.parse(p??""),S=An.parse(b??""),T=g==="+"?w.add(S):w.subtract(S);if(T.isNaN())return Jo;e=e.replace(M1,T.toString())}return e}var I1=/\(([^()]*)\)/;function zW(t){for(var e=t,n;(n=I1.exec(e))!=null;){var[,r]=n;e=e.replace(I1,wO(r))}return e}function GW(t){var e=t.replace(/\s+/g,"");return e=zW(e),e=wO(e),e}function HW(t){try{return GW(t)}catch{return Jo}}function Ig(t){var e=HW(t.slice(5,-1));return e===Jo?"":e}var VW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$W=["dx","dy","angle","className","breakAll"];function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function P1(t,e){if(t==null)return{};var n,r,i=FW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SO=/[ \f\n\r\t\v\u2028\u2029]+/,EO=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Fn(e)||(n?i=e.toString().split(""):i=e.toString().split(SO));var o=i.map(c=>({word:c,width:N1(c,r).width})),l=n?0:N1("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function KW(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var xO=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:c}=o,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};i.push(d)}return i},[]),TO=t=>t.reduce((e,n)=>e.width>n.width?e:n),YW="",O1=(t,e,n,r,i,o,l,c)=>{var f=t.slice(0,e),d=EO({breakAll:n,style:r,children:f+YW});if(!d)return[!1,[]];var p=xO(d.wordsWithComputedWidth,o,l,c),g=p.length>i||TO(p).width>Number(o);return[g,p]},JW=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:c,breakAll:f}=t,d=Ce(o),p=String(l),g=xO(e,r,n,i);if(!d||i)return g;var b=g.length>o||TO(g).width>Number(r);if(!b)return g;for(var w=0,S=p.length-1,T=0,x;w<=S&&T<=p.length-1;){var C=Math.floor((w+S)/2),I=C-1,[R,O]=O1(p,I,f,c,o,r,n,i),[P]=O1(p,C,f,c,o,r,n,i);if(!R&&!P&&(w=C+1),R&&P&&(S=C-1),!R&&P){x=O;break}T++}return x||g},D1=t=>{var e=Fn(t)?[]:t.toString().split(SO);return[{words:e,width:void 0}]},WW=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!ms.isSsr){var c,f,d=EO({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:g}=d;c=p,f=g}else return D1(r);return JW({breakAll:o,children:r,maxLines:l,style:i},c,f,e,!!n)}return D1(r)},AO="#808080",XW={angle:0,breakAll:!1,capHeight:"0.71em",fill:AO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Z0=N.forwardRef((t,e)=>{var n=Dr(t,XW),{x:r,y:i,lineHeight:o,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:p}=n,g=P1(n,VW),b=N.useMemo(()=>WW({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:S,angle:T,className:x,breakAll:C}=g,I=P1(g,$W);if(!si(r)||!si(i)||b.length===0)return null;var R=Number(r)+(Ce(w)?w:0),O=Number(i)+(Ce(S)?S:0);if(!Xt(R)||!Xt(O))return null;var P;switch(p){case"start":P=Ig("calc(".concat(l,")"));break;case"middle":P=Ig("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:P=Ig("calc(".concat(b.length-1," * -").concat(o,")"));break}var D=[];if(f){var q=b[0].width,{width:Z}=g;D.push("scale(".concat(Ce(Z)&&Ce(q)?Z/q:1,")"))}return T&&D.push("rotate(".concat(T,", ").concat(R,", ").concat(O,")")),D.length&&(I.transform=D.join(" ")),N.createElement("text",nv({},ur(I),{ref:e,x:R,y:O,className:Lt("recharts-text",x),textAnchor:d,fill:c.includes("url")?AO:c}),b.map((L,ie)=>{var J=L.words.join(C?"":" ");return N.createElement("tspan",{x:R,dy:ie===0?P:o,key:"".concat(J,"-").concat(ie)},J)}))});Z0.displayName="Text";var QW=["labelRef"];function ZW(t,e){if(t==null)return{};var n,r,i=eX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(null,arguments)}var iX=N.createContext(null),aX=()=>{var t=N.useContext(iX),e=vd();return t||uI(e)},oX=N.createContext(null),sX=()=>{var t=N.useContext(oX),e=Oe(EP);return t||e},lX=t=>{var{value:e,formatter:n}=t,r=Fn(t.children)?e:t.children;return typeof n=="function"?n(r):r},uX=t=>t!=null&&typeof t=="function",cX=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fX=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:p,startAngle:g,endAngle:b,clockWise:w}=i,S=(d+p)/2,T=cX(g,b),x=T>=0?1:-1,C,I;switch(e){case"insideStart":C=g+x*o,I=w;break;case"insideEnd":C=b-x*o,I=!w;break;case"end":C=b+x*o,I=w;break;default:throw new Error("Unsupported position ".concat(e))}I=T<=0?I:!I;var R=kt(c,f,S,C),O=kt(c,f,S,C+(I?1:-1)*359),P="M".concat(R.x,",").concat(R.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),D=Fn(t.id)?Ul("recharts-radial-line-"):t.id;return N.createElement("text",Kf({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:D,d:P})),N.createElement("textPath",{xlinkHref:"#".concat(D)},n))},dX=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:p,y:g}=kt(r,i,l+e,d);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:w,y:S}=kt(r,i,b,d);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},rv=t=>"cx"in t&&Ce(t.cx),hX=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!rv(n)&&(o=n);var{x:l,y:c,upperWidth:f,lowerWidth:d,height:p}=e,g=l,b=l+(f-d)/2,w=(g+b)/2,S=(f+d)/2,T=g+f/2,x=p>=0?1:-1,C=x*r,I=x>0?"end":"start",R=x>0?"start":"end",O=f>=0?1:-1,P=O*r,D=O>0?"end":"start",q=O>0?"start":"end";if(i==="top"){var Z={x:g+f/2,y:c-C,textAnchor:"middle",verticalAnchor:I};return Ot(Ot({},Z),o?{height:Math.max(c-o.y,0),width:f}:{})}if(i==="bottom"){var L={x:b+d/2,y:c+p+C,textAnchor:"middle",verticalAnchor:R};return Ot(Ot({},L),o?{height:Math.max(o.y+o.height-(c+p),0),width:d}:{})}if(i==="left"){var ie={x:w-P,y:c+p/2,textAnchor:D,verticalAnchor:"middle"};return Ot(Ot({},ie),o?{width:Math.max(ie.x-o.x,0),height:p}:{})}if(i==="right"){var J={x:w+S+P,y:c+p/2,textAnchor:q,verticalAnchor:"middle"};return Ot(Ot({},J),o?{width:Math.max(o.x+o.width-J.x,0),height:p}:{})}var W=o?{width:S,height:p}:{};return i==="insideLeft"?Ot({x:w+P,y:c+p/2,textAnchor:q,verticalAnchor:"middle"},W):i==="insideRight"?Ot({x:w+S-P,y:c+p/2,textAnchor:D,verticalAnchor:"middle"},W):i==="insideTop"?Ot({x:g+f/2,y:c+C,textAnchor:"middle",verticalAnchor:R},W):i==="insideBottom"?Ot({x:b+d/2,y:c+p-C,textAnchor:"middle",verticalAnchor:I},W):i==="insideTopLeft"?Ot({x:g+P,y:c+C,textAnchor:q,verticalAnchor:R},W):i==="insideTopRight"?Ot({x:g+f-P,y:c+C,textAnchor:D,verticalAnchor:R},W):i==="insideBottomLeft"?Ot({x:b+P,y:c+p-C,textAnchor:q,verticalAnchor:I},W):i==="insideBottomRight"?Ot({x:b+d-P,y:c+p-C,textAnchor:D,verticalAnchor:I},W):i&&typeof i=="object"&&(Ce(i.x)||oi(i.x))&&(Ce(i.y)||oi(i.y))?Ot({x:l+Vn(i.x,S),y:c+Vn(i.y,p),textAnchor:"end",verticalAnchor:"end"},W):Ot({x:T,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},W)},pX={angle:0,offset:5,zIndex:Sr.label,position:"middle",textBreakAll:!1};function CO(t){var e=Dr(t,pX),{viewBox:n,position:r,value:i,children:o,content:l,className:c="",textBreakAll:f,labelRef:d}=e,p=sX(),g=aX(),b=r==="center"?g:p??g,w,S,T;if(n==null?w=b:rv(n)?w=n:w=uI(n),!w||Fn(i)&&Fn(o)&&!N.isValidElement(l)&&typeof l!="function")return null;var x=Ot(Ot({},e),{},{viewBox:w});if(N.isValidElement(l)){var{labelRef:C}=x,I=ZW(x,QW);return N.cloneElement(l,I)}if(typeof l=="function"){if(S=N.createElement(l,x),N.isValidElement(S))return S}else S=lX(e);var R=ur(e);if(rv(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fX(e,r,S,R,w);T=dX(w,e.offset,e.position)}else T=hX(e,w);return N.createElement(hu,{zIndex:e.zIndex},N.createElement(Z0,Kf({ref:d,className:Lt("recharts-label",c)},R,T,{textAnchor:KW(R.textAnchor)?R.textAnchor:T.textAnchor,breakAll:f}),S))}CO.displayName="Label";var Pg={},Og={},U1;function mX(){return U1||(U1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Og)),Og}var Dg={},L1;function gX(){return L1||(L1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Dg)),Dg}var q1;function yX(){return q1||(q1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mX(),n=gX(),r=Pv();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(Pg)),Pg}var kg,j1;function vX(){return j1||(j1=1,kg=yX().last),kg}var bX=vX();const _X=xr(bX);var wX=["valueAccessor"],SX=["dataKey","clockWise","id","textBreakAll","zIndex"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(null,arguments)}function B1(t,e){if(t==null)return{};var n,r,i=EX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xX=t=>Array.isArray(t.value)?_X(t.value):t.value,NO=N.createContext(void 0);NO.Provider;var RO=N.createContext(void 0),TX=RO.Provider;function AX(){return N.useContext(NO)}function CX(){return N.useContext(RO)}function sf(t){var{valueAccessor:e=xX}=t,n=B1(t,wX),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:c}=n,f=B1(n,SX),d=AX(),p=CX(),g=d||p;return!g||!g.length?null:N.createElement(hu,{zIndex:c??Sr.label},N.createElement(Wi,{className:"recharts-label-list"},g.map((b,w)=>{var S,T=Fn(r)?e(b,w):At(b&&b.payload,r),x=Fn(o)?{}:{id:"".concat(o,"-").concat(w)};return N.createElement(CO,Yf({key:"label-".concat(w)},ur(b),f,x,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:T,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}sf.displayName="LabelList";function NX(t){var{label:e}=t;return e?e===!0?N.createElement(sf,{key:"labelList-implicit"}):N.isValidElement(e)||uX(e)?N.createElement(sf,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(sf,Yf({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var MO=t=>t.graphicalItems.polarItems,RX=Y([gt,au],x0),Ld=Y([MO,_t,RX],T0),MX=Y([Ld],A0),qd=Y([MX,h0],C0),IX=Y([qd,_t,Ld],R0);Y([qd,_t,Ld],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,l=At(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:At(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var z1=()=>{},PX=Y([qd,_t,Ld,Id,gt],O0),OX=Y([_t,I0,P0,z1,PX,z1,st,gt],D0),IO=Y([_t,st,qd,IX,iu,gt,OX],k0),DX=Y([IO,_t,ws],q0);Y([_t,IO,DX,gt],B0);var kX={radiusAxis:{},angleAxis:{}},PO=Rn({name:"polarAxis",initialState:kX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Bee,removeRadiusAxis:zee,addAngleAxis:Gee,removeAngleAxis:Hee}=PO.actions,UX=PO.reducer;function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return(e=qX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=jX(t,"string");return typeof e=="symbol"?e:e+""}function jX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BX=(t,e)=>e,eb=Y([MO,BX],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),zX=[],tb=(t,e,n)=>(n==null?void 0:n.length)===0?zX:n,OO=Y([h0,eb,tb],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>H1(H1({},e.presentationProps),o.props))),i!=null)return i}}),GX=Y([OO,eb,tb],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,l=At(r,e.nameKey,e.name),c;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:nI(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),HX=Y([OO,eb,tb,Qt],(t,e,n,r)=>{if(!(e==null||t==null))return FQ({offset:r,pieSettings:e,displayedData:t,cells:n})}),Ug={exports:{}},tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function VX(){if(V1)return tt;V1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(T){if(typeof T=="object"&&T!==null){var x=T.$$typeof;switch(x){case t:switch(T=T.type,T){case n:case i:case r:case f:case d:case b:return T;default:switch(T=T&&T.$$typeof,T){case l:case c:case g:case p:return T;case o:return T;default:return x}}case e:return x}}}return tt.ContextConsumer=o,tt.ContextProvider=l,tt.Element=t,tt.ForwardRef=c,tt.Fragment=n,tt.Lazy=g,tt.Memo=p,tt.Portal=e,tt.Profiler=i,tt.StrictMode=r,tt.Suspense=f,tt.SuspenseList=d,tt.isContextConsumer=function(T){return S(T)===o},tt.isContextProvider=function(T){return S(T)===l},tt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},tt.isForwardRef=function(T){return S(T)===c},tt.isFragment=function(T){return S(T)===n},tt.isLazy=function(T){return S(T)===g},tt.isMemo=function(T){return S(T)===p},tt.isPortal=function(T){return S(T)===e},tt.isProfiler=function(T){return S(T)===i},tt.isStrictMode=function(T){return S(T)===r},tt.isSuspense=function(T){return S(T)===f},tt.isSuspenseList=function(T){return S(T)===d},tt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===f||T===d||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===p||T.$$typeof===l||T.$$typeof===o||T.$$typeof===c||T.$$typeof===w||T.getModuleId!==void 0)},tt.typeOf=S,tt}var $1;function $X(){return $1||($1=1,Ug.exports=VX()),Ug.exports}var FX=$X(),F1=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",K1=null,Lg=null,DO=t=>{if(t===K1&&Array.isArray(Lg))return Lg;var e=[];return N.Children.forEach(t,n=>{Fn(n)||(FX.isFragment(n)?e=e.concat(DO(n.props.children)):e.push(n))}),Lg=e,K1=t,e};function kO(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>F1(i)):r=[F1(e)],DO(t).forEach(i=>{var o=kl(i,"type.displayName")||kl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var qg={},Y1;function KX(){return Y1||(Y1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(qg)),qg}var jg,J1;function YX(){return J1||(J1=1,jg=KX().isPlainObject),jg}var JX=YX();const WX=xr(JX);function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){XX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XX(t,e,n){return(e=QX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=ZX(t,"string");return typeof e=="symbol"?e:e+""}function ZX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(null,arguments)}var Q1=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},eQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tQ=t=>{var e=Dr(t,eQ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:p,isUpdateAnimationActive:g}=e,b=N.useRef(null),[w,S]=N.useState(-1),T=N.useRef(i),x=N.useRef(o),C=N.useRef(l),I=N.useRef(n),R=N.useRef(r),O=Hv(t,"trapezoid-");if(N.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ye=b.current.getTotalLength();ye&&S(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var P=Lt("recharts-trapezoid",c);if(!g)return N.createElement("g",null,N.createElement("path",Jf({},ur(e),{className:P,d:Q1(n,r,i,o,l)})));var D=T.current,q=x.current,Z=C.current,L=I.current,ie=R.current,J="0px ".concat(w===-1?1:w,"px"),W="".concat(w,"px 0px"),fe=dI(["strokeDasharray"],d,f);return N.createElement(Gv,{animationId:O,key:O,canBegin:w>0,duration:d,easing:f,isActive:g,begin:p},ye=>{var Ee=br(D,i,ye),H=br(q,o,ye),ae=br(Z,l,ye),de=br(L,n,ye),be=br(ie,r,ye);b.current&&(T.current=Ee,x.current=H,C.current=ae,I.current=de,R.current=be);var Ne=ye>0?{transition:fe,strokeDasharray:W}:{strokeDasharray:J};return N.createElement("path",Jf({},ur(e),{className:P,d:Q1(de,be,Ee,H,ae),ref:b,style:X1(X1({},Ne),e.style)}))})},nQ=["option","shapeType","propTransformer","activeClassName"];function rQ(t,e){if(t==null)return{};var n,r,i=iQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){aQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lQ(t,e){return Wf(Wf({},e),t)}function uQ(t,e){return t==="symbols"}function eN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(gI,n);case"trapezoid":return N.createElement(tQ,n);case"sector":return N.createElement(_I,n);case"symbols":if(uQ(e))return N.createElement(pM,n);break;case"curve":return N.createElement(zv,n);default:return null}}function cQ(t){return N.isValidElement(t)?t.props:t}function fQ(t){var{option:e,shapeType:n,propTransformer:r=lQ,activeClassName:i="recharts-active-shape"}=t,o=rQ(t,nQ),l;if(N.isValidElement(e))l=N.cloneElement(e,Wf(Wf({},o),cQ(e)));else if(typeof e=="function")l=e(o);else if(WX(e)&&typeof e!="boolean"){var c=r(e,o);l=N.createElement(eN,{shapeType:n,elementProps:c})}else{var f=o;l=N.createElement(eN,{shapeType:n,elementProps:f})}return o.isActive?N.createElement(Wi,{className:i},l):l}var dQ=(t,e)=>{var n=zt();return(r,i)=>o=>{t==null||t(r,i,o),n(WP({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},hQ=t=>{var e=zt();return(n,r)=>i=>{t==null||t(n,r,i),e(_Y())}},pQ=(t,e)=>{var n=zt();return(r,i)=>o=>{t==null||t(r,i,o),n(wY({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function mQ(t){var{tooltipEntrySettings:e}=t,n=zt(),r=ra(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(gY(e)):i.current!==e&&n(yY({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(vY(i.current)),i.current=null)},[n]),null}function gQ(t){var{legendPayload:e}=t,n=zt(),r=Oe(st),i=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(W$(e)):i.current!==e&&n(X$({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(Q$(i.current)),i.current=null)},[n]),null}var Bg,yQ=()=>{var[t]=N.useState(()=>Ul("uid-"));return t},vQ=(Bg=Tk.useId)!==null&&Bg!==void 0?Bg:yQ;function UO(t,e){var n=vQ();return e||(t?"".concat(t,"-").concat(n):n)}var bQ=N.createContext(void 0),_Q=t=>{var{id:e,type:n,children:r}=t,i=UO("recharts-".concat(n),e);return N.createElement(bQ.Provider,{value:i},r(i))},wQ={cartesianItems:[],polarItems:[]},LO=Rn({name:"graphicalItems",initialState:wQ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:pt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Er(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:pt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Er(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:pt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:pt()},removePolarGraphicalItem:{reducer(t,e){var n=Er(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:pt()}}}),{addCartesianGraphicalItem:Vee,replaceCartesianGraphicalItem:$ee,removeCartesianGraphicalItem:Fee,addPolarGraphicalItem:SQ,removePolarGraphicalItem:EQ}=LO.actions,xQ=LO.reducer;function TQ(t){var e=zt();return N.useLayoutEffect(()=>(e(SQ(t)),()=>{e(EQ(t))}),[e,t]),null}var AQ=["key"],CQ=["onMouseEnter","onClick","onMouseLeave"],NQ=["id"],RQ=["id"];function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zi.apply(null,arguments)}function jd(t,e){if(t==null)return{};var n,r,i=OQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DQ(t){var e=N.useMemo(()=>kO(t.children,Ud),[t.children]),n=Oe(r=>GX(r,t.id,e));return n==null?null:N.createElement(gQ,{legendPayload:n})}var kQ=N.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:c,hide:f,tooltipType:d}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:e,nameKey:n,name:nI(c,e),hide:f,type:d,color:l,unit:""}};return N.createElement(mQ,{tooltipEntrySettings:p})}),UQ=(t,e)=>t>e?"start":t<e?"end":"middle",LQ=(t,e,n)=>Vn(typeof e=="function"?e(t):e,n,n*.8),qQ=(t,e,n)=>{var{top:r,left:i,width:o,height:l}=e,c=yI(o,l),f=i+Vn(t.cx,o,o/2),d=r+Vn(t.cy,l,l/2),p=Vn(t.innerRadius,c,0),g=LQ(n,t.outerRadius,c),b=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:p,outerRadius:g,maxRadius:b}},jQ=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function BQ(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var zQ=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=jd(e,AQ);return N.createElement(zv,Zi({},i,{type:"linear",className:n}))},GQ=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var i=Lt("recharts-pie-label-text",BQ(t));return N.createElement(Z0,Zi({},e,{alignmentBaseline:"middle",className:i}),r)};function HQ(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!e)return null;var c=is(n),f=vy(i),d=vy(o),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,w)=>{var S=(b.startAngle+b.endAngle)/2,T=kt(b.cx,b.cy,b.outerRadius+p,S),x=Et(Et(Et(Et({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:UQ(T.x,b.cx)},T),C=Et(Et(Et(Et({},c),b),{},{fill:"none",stroke:b.fill},d),{},{index:w,points:[kt(b.cx,b.cy,b.outerRadius,S),T],key:"line"});return N.createElement(hu,{zIndex:Sr.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},N.createElement(Wi,null,o&&zQ(o,C),GQ(i,x,At(b,l))))});return N.createElement(Wi,{className:"recharts-pie-labels"},g)}function VQ(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(NX,{label:i}):N.createElement(HQ,{sectors:e,props:n,showLabels:r})}function $Q(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o}=t,l=Oe(Fl),{onMouseEnter:c,onClick:f,onMouseLeave:d}=i,p=jd(i,CQ),g=dQ(c,i.dataKey),b=hQ(d),w=pQ(f,i.dataKey);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((S,T)=>{if((S==null?void 0:S.startAngle)===0&&(S==null?void 0:S.endAngle)===0&&e.length!==1)return null;var x=String(T)===l,C=l?r:null,I=n&&x?n:C,R=Et(Et({},S),{},{stroke:S.stroke,tabIndex:-1,[iI]:T,[aI]:i.dataKey});return N.createElement(Wi,Zi({key:"sector-".concat(S==null?void 0:S.startAngle,"-").concat(S==null?void 0:S.endAngle,"-").concat(S.midAngle,"-").concat(T),tabIndex:-1,className:"recharts-pie-sector"},oH(p,S,T),{onMouseEnter:g(S,T),onMouseLeave:b(S,T),onClick:w(S,T)}),N.createElement(fQ,Zi({option:o??I,shapeType:"sector",isActive:x},R)))}))}function FQ(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),w=jQ(c,f),S=Math.abs(w),T=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(D=>At(D,d,0)!==0).length,C=(S>=360?x:x-1)*T,I=S-x*b-C,R=r.reduce((D,q)=>{var Z=At(q,d,0);return D+(Ce(Z)?Z:0)},0),O;if(R>0){var P;O=r.map((D,q)=>{var Z=At(D,d,0),L=At(D,p,q),ie=qQ(n,o,D),J=(Ce(Z)?Z:0)/R,W,fe=Et(Et({},D),i&&i[q]&&i[q].props);q?W=P.endAngle+Cn(w)*T*(Z!==0?1:0):W=c;var ye=W+Cn(w)*((Z!==0?b:0)+J*I),Ee=(W+ye)/2,H=(ie.innerRadius+ie.outerRadius)/2,ae=[{name:L,value:Z,payload:fe,dataKey:d,type:g}],de=kt(ie.cx,ie.cy,H,Ee);return P=Et(Et(Et(Et({},n.presentationProps),{},{percent:J,cornerRadius:typeof l=="string"?parseFloat(l):l,name:L,tooltipPayload:ae,midAngle:Ee,middleRadius:H,tooltipPosition:de},fe),ie),{},{value:Z,startAngle:W,endAngle:ye,payload:fe,paddingAngle:Cn(w)*T}),P})}return O}function KQ(t){var{showLabels:e,sectors:n,children:r}=t,i=N.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return N.createElement(TX,{value:e?i:void 0},r)}function YQ(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:d,onAnimationStart:p,onAnimationEnd:g}=e,b=Hv(e,"recharts-pie-"),w=n.current,[S,T]=N.useState(!1),x=N.useCallback(()=>{typeof g=="function"&&g(),T(!1)},[g]),C=N.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);return N.createElement(KQ,{showLabels:!S,sectors:r},N.createElement(Gv,{animationId:b,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:C,onAnimationEnd:x,key:b},I=>{var R=[],O=r&&r[0],P=O==null?void 0:O.startAngle;return r==null||r.forEach((D,q)=>{var Z=w&&w[q],L=q>0?kl(D,"paddingAngle",0):0;if(Z){var ie=br(Z.endAngle-Z.startAngle,D.endAngle-D.startAngle,I),J=Et(Et({},D),{},{startAngle:P+L,endAngle:P+ie+L});R.push(J),P=J.endAngle}else{var{endAngle:W,startAngle:fe}=D,ye=br(0,W-fe,I),Ee=Et(Et({},D),{},{startAngle:P+L,endAngle:P+ye+L});R.push(Ee),P=Ee.endAngle}}),n.current=R,N.createElement(Wi,null,N.createElement($Q,{sectors:R,activeShape:f,inactiveShape:d,allOtherPieProps:e,shape:e.shape}))}),N.createElement(VQ,{showLabels:!S,sectors:r,props:e}),e.children)}var JQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ms.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Sr.area};function WQ(t){var{id:e}=t,n=jd(t,NQ),{hide:r,className:i,rootTabIndex:o}=t,l=N.useMemo(()=>kO(t.children,Ud),[t.children]),c=Oe(p=>HX(p,e,l)),f=N.useRef(null),d=Lt("recharts-pie",i);return r||c==null?(f.current=null,N.createElement(Wi,{tabIndex:o,className:d})):N.createElement(hu,{zIndex:t.zIndex},N.createElement(kQ,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),N.createElement(Wi,{tabIndex:o,className:d},N.createElement(YQ,{props:Et(Et({},n),{},{sectors:c}),previousSectorsRef:f})))}function qO(t){var e=Dr(t,JQ),{id:n}=e,r=jd(e,RQ),i=is(r);return N.createElement(_Q,{id:n,type:"pie"},o=>N.createElement(N.Fragment,null,N.createElement(TQ,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(DQ,Zi({},r,{id:o})),N.createElement(WQ,Zi({},r,{id:o}))))}qO.displayName="Pie";function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eZ={xAxis:{},yAxis:{},zAxis:{}},jO=Rn({name:"cartesianAxis",initialState:eZ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:pt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:pt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:pt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:pt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:pt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:pt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:pt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:pt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:pt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=rN(rN({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Kee,replaceXAxis:Yee,removeXAxis:Jee,addYAxis:Wee,replaceYAxis:Xee,removeYAxis:Qee,addZAxis:Zee,replaceZAxis:ete,removeZAxis:tte,updateYAxisWidth:nte}=jO.actions,tZ=jO.reducer,nZ=Y([Qt],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),rZ=Y([nZ,mi,gi],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),iZ=()=>Oe(rZ),aZ={},BO=Rn({name:"errorBars",initialState:aZ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:rte,replaceErrorBar:ite,removeErrorBar:ate}=BO.actions,oZ=BO.reducer,zg={exports:{}},Gg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function sZ(){if(iN)return Gg;iN=1;var t=us();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Gg.useSyncExternalStoreWithSelector=function(f,d,p,g,b){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function x(P){if(!C){if(C=!0,I=P,P=g(P),b!==void 0&&S.hasValue){var D=S.value;if(b(D,P))return R=D}return R=P}if(D=R,n(I,P))return D;var q=g(P);return b!==void 0&&b(D,q)?(I=P,D):(I=P,R=q)}var C=!1,I,R,O=p===void 0?null:p;return[function(){return x(d())},O===null?void 0:function(){return x(O())}]},[d,p,g,b]);var T=r(f,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=T},[T]),c(T),T},Gg}var aN;function lZ(){return aN||(aN=1,zg.exports=sZ()),zg.exports}lZ();function uZ(t){t()}function cZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uZ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oN={notify(){},get:()=>[]};function fZ(t,e){let n,r=oN,i=0,o=!1;function l(T){p();const x=r.subscribe(T);let C=!1;return()=>{C||(C=!0,x(),g())}}function c(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function p(){i++,n||(n=t.subscribe(f),r=cZ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oN)}function b(){o||(o=!0,p())}function w(){o&&(o=!1,g())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return S}var dZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hZ=dZ(),pZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mZ=pZ(),gZ=()=>hZ||mZ?N.useLayoutEffect:N.useEffect,yZ=gZ();function sN(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function vZ(t,e){if(sN(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!sN(t[n[i]],e[n[i]]))return!1;return!0}var Hg=Symbol.for("react-redux-context"),Vg=typeof globalThis<"u"?globalThis:{};function bZ(){if(!N.createContext)return{};const t=Vg[Hg]??(Vg[Hg]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var _Z=bZ();function wZ(t){const{children:e,context:n,serverState:r,store:i}=t,o=N.useMemo(()=>{const f=fZ(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=N.useMemo(()=>i.getState(),[i]);yZ(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||_Z;return N.createElement(c.Provider,{value:o},e)}var SZ=wZ,EZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function xZ(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function TZ(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(EZ.has(r)){if(t[r]==null&&e[r]==null)continue;if(!vZ(t[r],e[r]))return!1}else if(!xZ(t[r],e[r]))return!1;return!0}var AZ=t=>{var{chartData:e}=t,n=zt(),r=ra();return N.useEffect(()=>r?()=>{}:(n(b1(e)),()=>{n(b1(void 0))}),[e,n,r]),null},lN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zO=Rn({name:"brush",initialState:lN,reducers:{setBrushSettings(t,e){return e.payload==null?lN:e.payload}}}),{setBrushSettings:ote}=zO.actions,CZ=zO.reducer,NZ={dots:[],areas:[],lines:[]},GO=Rn({name:"referenceElements",initialState:NZ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Er(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Er(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Er(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ste,removeDot:lte,addArea:ute,removeArea:cte,addLine:fte,removeLine:dte}=GO.actions,RZ=GO.reducer,MZ=N.createContext(void 0),IZ=t=>{var{children:e}=t,[n]=N.useState("".concat(Ul("recharts"),"-clip")),r=iZ();if(r==null)return null;var{x:i,y:o,width:l,height:c}=r;return N.createElement(MZ.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:o,height:c,width:l}))),e)},PZ=(t,e)=>e,nb=Y([PZ,st,EP,Ht,oO,vi,EJ,Qt],MJ),rb=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},HO=cr("mouseClick"),VO=Ql();VO.startListening({actionCreator:HO,effect:(t,e)=>{var n=t.payload,r=nb(e.getState(),rb(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(SY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var iv=cr("mouseMove"),$O=Ql(),ef=null;$O.startListening({actionCreator:iv,effect:(t,e)=>{var n=t.payload;ef!==null&&cancelAnimationFrame(ef);var r=rb(n);ef=requestAnimationFrame(()=>{var i=e.getState(),o=H0(i,i.tooltip.settings.shared);if(o==="axis"){var l=nb(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(QP({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(XP())}ef=null})}});var uN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FO=Rn({name:"rootProps",initialState:uN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:uN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),OZ=FO.reducer,{updateOptions:DZ}=FO.actions,KO=Rn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:kZ}=KO.actions,UZ=KO.reducer,YO=cr("keyDown"),JO=cr("focus"),ib=Ql();ib.startListening({actionCreator:YO,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=V0(i,Es(n),lu(n),du(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=vi(n);if(o==="Enter"){var d=Ff(n,"axis","hover",String(i.index));e.dispatch(Zy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var p=dY(n),g=p==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,w=c+b*g;if(!(f==null||w>=f.length||w<0)){var S=Ff(n,"axis","hover",String(w));e.dispatch(Zy({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});ib.startListening({actionCreator:JO,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Ff(n,"axis","hover",String(o));e.dispatch(Zy({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var or=cr("externalEvent"),WO=Ql(),$g=new Map;WO.startListening({actionCreator:or,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=$g.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:lJ(c),activeDataKey:oJ(c),activeIndex:Fl(c),activeLabel:uO(c),activeTooltipIndex:Fl(c),isTooltipActive:uJ(c)};n(f,r)}finally{$g.delete(i)}});$g.set(i,l)}}});var LZ=Y([Ss],t=>t.tooltipItemPayloads),qZ=Y([LZ,cu,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),XO=cr("touchMove"),QO=Ql();QO.startListening({actionCreator:XO,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=H0(r,r.tooltip.settings.shared);if(i==="axis"){var o=nb(r,rb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(QP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(iI),p=(l=f.getAttribute(aI))!==null&&l!==void 0?l:void 0,g=qZ(e.getState(),d,p);e.dispatch(WP({activeDataKey:p,activeIndex:d,activeCoordinate:g}))}}}});var jZ=MM({brush:CZ,cartesianAxis:tZ,chartData:lW,errorBars:oZ,graphicalItems:xQ,layout:e$,legend:Z$,options:rW,polarAxis:UX,polarOptions:UZ,referenceElements:RZ,rootProps:OZ,tooltip:EY,zIndex:VJ}),BZ=function(e){return TV({reducer:jZ,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([VO.middleware,$O.middleware,ib.middleware,WO.middleware,QO.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(GM({type:"raf"}))},devTools:ms.devToolsEnabled})};function zZ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ra(),o=N.useRef(null);if(i)return n;o.current==null&&(o.current=BZ(e));var l=Ov;return N.createElement(SZ,{context:l,store:o.current},n)}function GZ(t){var{layout:e,margin:n}=t,r=zt(),i=ra();return N.useEffect(()=>{i||(r(XV(e)),r(WV(n)))},[r,i,e,n]),null}var HZ=N.memo(GZ,TZ);function VZ(t){var e=zt();return N.useEffect(()=>{e(DZ(t))},[e,t]),null}function cN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=UO("".concat(r).concat(e)),o=zt();return N.useLayoutEffect(()=>(o(GJ({zIndex:e,elementId:i,isPanorama:n})),()=>{o(HJ({zIndex:e,isPanorama:n}))}),[o,e,i,n]),N.createElement("g",{id:i})}function fN(t){var{children:e,isPanorama:n}=t,r=Oe(PJ);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return N.createElement(N.Fragment,null,i.map(l=>N.createElement(cN,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>N.createElement(cN,{key:l,zIndex:l,isPanorama:n})))}var $Z=["children"];function FZ(t,e){if(t==null)return{};var n,r,i=KZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(null,arguments)}var YZ={width:"100%",height:"100%",display:"block"},JZ=N.forwardRef((t,e)=>{var n=F$(),r=K$(),i=fI();if(!Xi(n)||!Xi(r))return null;var{children:o,otherAttributes:l,title:c,desc:f}=t,d,p;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),N.createElement(KR,Xf({},l,{title:c,desc:f,role:p,tabIndex:d,width:n,height:r,style:YZ,ref:e}),o)}),WZ=t=>{var{children:e}=t,n=Oe(yd);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return N.createElement(KR,{width:r,height:i,x:l,y:o},e)},dN=N.forwardRef((t,e)=>{var{children:n}=t,r=FZ(t,$Z),i=ra();return i?N.createElement(WZ,null,N.createElement(fN,{isPanorama:!0},n)):N.createElement(JZ,Xf({ref:e},r),N.createElement(fN,{isPanorama:!1},n))});function XZ(){var t=zt(),[e,n]=N.useState(null),r=Oe(m$);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Xt(o)&&o!==r&&t(ZV(o))}},[e,t,r]),n}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eee(t){var e=tee(t,"string");return typeof e=="symbol"?e:e+""}function tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(null,arguments)}var nee=()=>(yW(),null);function Qf(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ree=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[o,l]=N.useState({containerWidth:Qf((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Qf((r=t.style)===null||r===void 0?void 0:r.height)}),c=N.useCallback((d,p)=>{l(g=>{var b=Math.round(d),w=Math.round(p);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),f=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=d.getBoundingClientRect();c(p,g);var b=S=>{var{width:T,height:x}=S[0].contentRect;c(T,x)},w=new ResizeObserver(b);w.observe(d),i.current=w}},[e,c]);return N.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[c]),N.createElement(N.Fragment,null,N.createElement(bd,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",Fa({ref:f},t)))}),iee=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=N.useState({containerWidth:Qf(n),containerHeight:Qf(r)}),l=N.useCallback((f,d)=>{o(p=>{var g=Math.round(f),b=Math.round(d);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),c=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:p}=f.getBoundingClientRect();l(d,p)}},[e,l]);return N.createElement(N.Fragment,null,N.createElement(bd,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Fa({ref:c},t)))}),aee=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(bd,{width:n,height:r}),N.createElement("div",Fa({ref:e},t)))}),oee=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return oi(n)||oi(r)?N.createElement(iee,Fa({},t,{ref:e})):N.createElement(aee,Fa({},t,{ref:e}))});function see(t){return t===!0?ree:oee}var lee=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:S,onTouchStart:T,style:x,width:C,responsive:I,dispatchTouchEvents:R=!0}=t,O=N.useRef(null),P=zt(),[D,q]=N.useState(null),[Z,L]=N.useState(null),ie=XZ(),J=jv(),W=(J==null?void 0:J.width)>0?J.width:C,fe=(J==null?void 0:J.height)>0?J.height:i,ye=N.useCallback(Q=>{ie(Q),typeof e=="function"&&e(Q),q(Q),L(Q),Q!=null&&(O.current=Q)},[ie,e,q,L]),Ee=N.useCallback(Q=>{P(HO(Q)),P(or({handler:o,reactEvent:Q}))},[P,o]),H=N.useCallback(Q=>{P(iv(Q)),P(or({handler:d,reactEvent:Q}))},[P,d]),ae=N.useCallback(Q=>{P(XP()),P(or({handler:p,reactEvent:Q}))},[P,p]),de=N.useCallback(Q=>{P(iv(Q)),P(or({handler:g,reactEvent:Q}))},[P,g]),be=N.useCallback(()=>{P(JO())},[P]),Ne=N.useCallback(Q=>{P(YO(Q.key))},[P]),j=N.useCallback(Q=>{P(or({handler:l,reactEvent:Q}))},[P,l]),U=N.useCallback(Q=>{P(or({handler:c,reactEvent:Q}))},[P,c]),F=N.useCallback(Q=>{P(or({handler:f,reactEvent:Q}))},[P,f]),G=N.useCallback(Q=>{P(or({handler:b,reactEvent:Q}))},[P,b]),se=N.useCallback(Q=>{P(or({handler:T,reactEvent:Q}))},[P,T]),le=N.useCallback(Q=>{R&&P(XO(Q)),P(or({handler:S,reactEvent:Q}))},[P,R,S]),ue=N.useCallback(Q=>{P(or({handler:w,reactEvent:Q}))},[P,w]),pe=see(I);return N.createElement(gO.Provider,{value:D},N.createElement(sG.Provider,{value:Z},N.createElement(pe,{width:W??(x==null?void 0:x.width),height:fe??(x==null?void 0:x.height),className:Lt("recharts-wrapper",r),style:QZ({position:"relative",cursor:"default",width:W,height:fe},x),onClick:Ee,onContextMenu:j,onDoubleClick:U,onFocus:be,onKeyDown:Ne,onMouseDown:F,onMouseEnter:H,onMouseLeave:ae,onMouseMove:de,onMouseUp:G,onTouchEnd:ue,onTouchMove:le,onTouchStart:se,ref:ye},N.createElement(nee,null),n)))}),uee=["width","height","responsive","children","className","style","compact","title","desc"];function cee(t,e){if(t==null)return{};var n,r,i=fee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dee=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:c,compact:f,title:d,desc:p}=t,g=cee(t,uee),b=is(g);return f?N.createElement(N.Fragment,null,N.createElement(bd,{width:n,height:r}),N.createElement(dN,{otherAttributes:b,title:d,desc:p},o)):N.createElement(lee,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(dN,{otherAttributes:b,title:d,desc:p,ref:e},N.createElement(IZ,null,o)))});function hee(t){var e=zt();return N.useEffect(()=>{e(kZ(t))},[e,t]),null}var pee=["layout"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function mee(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yee={top:5,right:5,bottom:5,left:5},vee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},bee=N.forwardRef(function(e,n){var r,i=Dr(e.categoricalChartProps,vee),{layout:o}=i,l=mee(i,pee),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p}=e,g={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(zZ,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},N.createElement(AZ,{chartData:i.data}),N.createElement(HZ,{layout:o,margin:i.margin}),N.createElement(VZ,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(hee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(dee,av({},l,{ref:n})))}),_ee=["item"],wee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},See=N.forwardRef((t,e)=>{var n=Dr(t,wee);return N.createElement(bee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_ee,tooltipPayloadSearcher:tW,categoricalChartProps:n,ref:e})});const pN=()=>{const{transactions:t,t:e}=na(),[n,r]=N.useState({start:"",end:""});N.useEffect(()=>{const d=new Date,p=new Date(d.getFullYear(),d.getMonth(),1).toISOString().split("T")[0],g=new Date(d.getFullYear(),d.getMonth()+1,0).toISOString().split("T")[0];r({start:p,end:g})},[]);const i=()=>{r({start:"",end:""})},o=N.useMemo(()=>{if(!n.start||!n.end)return t;const d=new Date(n.start),p=new Date(n.end);return p.setHours(23,59,59,999),t.filter(g=>{const b=new Date(g.date);return b>=d&&b<=p})},[t,n]),l=N.useMemo(()=>{const d=o.filter(w=>w.type===vt.INCOME).reduce((w,S)=>w+S.amount,0),p=o.filter(w=>w.type===vt.EXPENSE).reduce((w,S)=>w+S.amount,0),g=o.filter(w=>w.accountType===ct.RECEIVABLE).reduce((w,S)=>w+S.amount,0),b=o.filter(w=>w.accountType===ct.PAYABLE).reduce((w,S)=>w+S.amount,0);return{income:d,expense:p,receivables:g,payables:b,balance:d-p}},[o]),c=N.useMemo(()=>{const d={};return o.forEach(p=>{d[p.group]||(d[p.group]=0),d[p.group]+=p.amount}),Object.keys(d).map(p=>({name:p,value:d[p]}))},[o]),f=["#0088FE","#00C49F","#FFBB28","#FF8042"];return E.jsxs("div",{className:"p-8 space-y-8",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e("financialOverview")}),E.jsx("p",{className:"text-gray-500",children:e("realTimeStatus")})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[E.jsx(Ev,{size:16,className:"text-gray-500"}),E.jsx("input",{type:"date",value:n.start,onChange:d=>r(p=>({...p,start:d.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),E.jsx("span",{className:"text-gray-400",children:"-"}),E.jsx("input",{type:"date",value:n.end,onChange:d=>r(p=>({...p,end:d.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),(n.start||n.end)&&E.jsx("button",{onClick:i,title:"Show All Time",className:"ml-2 text-gray-400 hover:text-red-500 transition-colors",children:E.jsx(zR,{size:16})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsx(tf,{title:e("netCashBalance"),value:`$${l.balance.toLocaleString()}`,icon:W5,color:"bg-blue-500"}),E.jsx(tf,{title:e("totalIncome"),value:`$${l.income.toLocaleString()}`,icon:H5,color:"bg-green-500"}),E.jsx(tf,{title:e("totalExpenses"),value:`$${l.expense.toLocaleString()}`,icon:z5,color:"bg-red-500"}),E.jsx(tf,{title:e("pendingReceivables"),value:`$${l.receivables.toLocaleString()}`,icon:xv,color:"bg-orange-500"})]}),E.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:E.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("activityDistribution")}),c.length>0?E.jsx("div",{className:"h-64",children:E.jsx(H$,{width:"100%",height:"100%",children:E.jsxs(See,{children:[E.jsx(qO,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:c.map((d,p)=>E.jsx(Ud,{fill:f[p%f.length]},`cell-${p}`))}),E.jsx(TW,{})]})})}):E.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"No data for selected period."})]})}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("recentTransactions")}),E.jsx("div",{className:"overflow-y-auto h-64",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2",children:e("date")}),E.jsx("th",{className:"px-4 py-2",children:e("desc")}),E.jsx("th",{className:"px-4 py-2 text-right",children:e("amount")})]})}),E.jsxs("tbody",{children:[o.slice(0,10).map(d=>E.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[E.jsx("td",{className:"px-4 py-3 text-gray-700",children:d.date}),E.jsx("td",{className:"px-4 py-3 text-gray-900 truncate max-w-[150px]",children:d.description}),E.jsxs("td",{className:`px-4 py-3 text-right font-medium ${d.type===vt.INCOME?"text-green-600":"text-red-600"}`,children:[d.type===vt.INCOME?"+":"-","$",d.amount]})]},d.id)),o.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400",children:"No recent transactions in this period."})})]})]})})]})]})},tf=({title:t,value:e,icon:n,color:r})=>E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[E.jsx("div",{className:`p-3 rounded-lg ${r} bg-opacity-10`,children:E.jsx(n,{className:`w-6 h-6 ${r.replace("bg-","text-")}`})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e})]})]}),Eee=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransactionStatus:r,currentUser:i,companySettings:o,t:l}=na(),[c,f]=N.useState(!1),d=N.useRef(null),[p,g]=N.useState("ALL"),[b,w]=N.useState(!1),[S,T]=N.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[x,C]=N.useState({date:new Date().toISOString().split("T")[0],type:vt.EXPENSE,group:mn.OPERATING,accountType:ct.CASH,amount:0,description:"",status:Wt.PAID}),I=(i==null?void 0:i.role)!==cn.VIEWER,R=async L=>{var J;const ie=(J=L.target.files)==null?void 0:J[0];if(ie){f(!0);try{const W=new FileReader;W.onloadend=async()=>{const fe=W.result,ye=fe.split(",")[1];try{const Ee=await s3(ye);C(H=>({...H,...Ee,receiptImage:fe}))}catch{alert("Could not analyze image. Please fill manually.")}finally{f(!1)}},W.readAsDataURL(ie)}catch{f(!1)}}},O=L=>{if(L.preventDefault(),!x.amount||!x.description)return;let ie=Number(x.amount);b&&(ie=ie*(1+o.taxRate/100));const J={id:crypto.randomUUID(),date:x.date||new Date().toISOString().split("T")[0],dueDate:x.dueDate,description:x.description,amount:ie,group:x.group,type:x.type,accountType:x.accountType,status:x.status,receiptImage:x.receiptImage};e(J),C({date:new Date().toISOString().split("T")[0],type:vt.EXPENSE,group:mn.OPERATING,accountType:ct.CASH,amount:0,description:"",receiptImage:void 0,status:Wt.PAID,dueDate:void 0}),w(!1)},P=()=>{T({start:"",end:""})},D=t.filter(L=>{if(p!=="ALL"&&L.accountType!==p)return!1;if(S.start&&S.end){const ie=new Date(L.date),J=new Date(S.start),W=new Date(S.end);if(W.setHours(23,59,59,999),ie<J||ie>W)return!1}return!0}),q=L=>{let ie=Wt.PAID;(L===ct.PAYABLE||L===ct.RECEIVABLE)&&(ie=Wt.PENDING),C({...x,accountType:L,status:ie})},Z=b?Number(x.amount||0)*(1+o.taxRate/100):Number(x.amount||0);return E.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex flex-col justify-between items-start mb-8 gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l("financialMovements")}),E.jsx("p",{className:"text-gray-500",children:l("manageMovements")})]}),E.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm w-full md:w-auto",children:[E.jsx(Ev,{size:16,className:"text-gray-500"}),E.jsx("input",{type:"date",value:S.start,onChange:L=>T(ie=>({...ie,start:L.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),E.jsx("span",{className:"text-gray-400",children:"-"}),E.jsx("input",{type:"date",value:S.end,onChange:L=>T(ie=>({...ie,end:L.target.value})),className:"text-sm outline-none text-black w-32 bg-white"}),(S.start||S.end)&&E.jsx("button",{onClick:P,title:"Clear Filter",className:"ml-2 text-gray-400 hover:text-red-500 transition-colors",children:E.jsx(zR,{size:16})})]}),E.jsx("div",{className:"flex bg-gray-200 p-1 rounded-lg w-full md:w-auto overflow-x-auto",children:["ALL","RECEIVABLE","PAYABLE"].map(L=>E.jsx("button",{onClick:()=>g(L),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap flex-1 ${p===L?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:l(L==="ALL"?"allMovements":L==="RECEIVABLE"?"accountsReceivable":"accountsPayable")},L))})]})]}),E.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[E.jsx("div",{className:"xl:col-span-1",children:E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-4",children:[E.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[E.jsx(E5,{size:20,className:"text-blue-500"})," ",l("recordMovement")]}),E.jsxs("div",{className:"mb-6 p-4 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50 text-center",children:[E.jsx("input",{type:"file",ref:d,accept:"image/*",className:"hidden",onChange:R}),c?E.jsxs("div",{className:"flex flex-col items-center text-blue-600",children:[E.jsx(es,{className:"animate-spin mb-2"}),E.jsx("span",{className:"text-sm font-medium",children:l("analyzing")})]}):E.jsxs("button",{type:"button",disabled:!I,onClick:()=>{var L;return(L=d.current)==null?void 0:L.click()},className:"flex flex-col items-center w-full text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",children:[E.jsx($6,{className:"w-8 h-8 mb-2"}),E.jsx("span",{className:"text-sm font-semibold",children:l("scanReceipt")}),E.jsx("span",{className:"text-xs text-blue-400 mt-1",children:l("autoDetect")})]})]}),E.jsxs("form",{onSubmit:O,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("description")}),E.jsx("input",{type:"text",disabled:!I,value:x.description,onChange:L=>C({...x,description:L.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",placeholder:l("invoicePlaceholder"),required:!0})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("amount")}),E.jsx("input",{type:"number",disabled:!I,value:x.amount,onChange:L=>C({...x,amount:parseFloat(L.target.value)}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("movementDate")}),E.jsx("input",{type:"date",disabled:!I,value:x.date,onChange:L=>C({...x,date:L.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[E.jsx("input",{type:"checkbox",checked:b,onChange:L=>w(L.target.checked),disabled:!I,className:"rounded text-blue-600 focus:ring-blue-500 bg-white"}),E.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:[l("addTax")," (",o.taxRate,"%)"]})]}),E.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 pt-2 border-t border-gray-200",children:[E.jsxs("span",{children:[l("finalAmount"),":"]}),E.jsxs("span",{className:"font-bold text-gray-900 text-sm",children:["$",Z.toFixed(2)]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("accountType")}),E.jsx("select",{disabled:!I,value:x.accountType,onChange:L=>q(L.target.value),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(ct).map(L=>E.jsx("option",{value:L,children:L},L))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("flowType")}),E.jsx("select",{disabled:!I,value:x.type,onChange:L=>C({...x,type:L.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(vt).map(L=>E.jsx("option",{value:L,children:L},L))})]})]}),(x.accountType===ct.PAYABLE||x.accountType===ct.RECEIVABLE)&&E.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[E.jsx("h4",{className:"text-xs font-bold text-yellow-800 mb-2 uppercase tracking-wide",children:l("paymentDetails")}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("dueDate")}),E.jsx("input",{type:"date",disabled:!I,value:x.dueDate||"",onChange:L=>C({...x,dueDate:L.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("status")}),E.jsx("select",{disabled:!I,value:x.status,onChange:L=>C({...x,status:L.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(Wt).map(L=>E.jsx("option",{value:L,children:L},L))})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l("activityGroup")}),E.jsx("select",{disabled:!I,value:x.group,onChange:L=>C({...x,group:L.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black",children:Object.values(mn).map(L=>E.jsx("option",{value:L,children:L},L))})]}),E.jsx("button",{type:"submit",disabled:!I,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:l("saveMovement")})]})]})}),E.jsx("div",{className:"xl:col-span-2",children:E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left",children:l("description")}),E.jsx("th",{className:"px-6 py-3 text-left",children:l("details")}),E.jsx("th",{className:"px-6 py-3 text-left",children:l("status")}),E.jsx("th",{className:"px-6 py-3 text-right",children:l("amount")}),E.jsx("th",{className:"px-6 py-3 text-center",children:l("action")})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[D.map(L=>E.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-medium text-gray-900",children:L.description}),E.jsx("div",{className:"text-xs text-gray-500",children:L.date})]}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsx("span",{className:"inline-flex w-fit px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:L.accountType}),E.jsx("span",{className:"inline-flex w-fit px-2 py-0.5 rounded text-xs bg-blue-50 text-blue-700",children:L.group})]})}),E.jsx("td",{className:"px-6 py-4",children:L.status===Wt.PAID?E.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[E.jsx(pT,{size:12})," ",l("paid")]}):E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[E.jsx(e5,{size:12})," ",l("pending")]}),L.dueDate&&E.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[E.jsx($5,{size:10})," ",l("due"),": ",L.dueDate]})]})}),E.jsxs("td",{className:`px-6 py-4 text-right font-bold ${L.type===vt.INCOME?"text-green-600":"text-gray-900"}`,children:[L.type===vt.INCOME?"+":"-","$",L.amount.toFixed(2)]}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[I&&L.status===Wt.PENDING&&E.jsx("button",{onClick:()=>r(L.id,Wt.PAID),title:"Mark as Paid",className:"p-1 text-green-500 hover:bg-green-50 rounded",children:E.jsx(pT,{size:18})}),I&&E.jsx("button",{onClick:()=>n(L.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:E.jsx(j5,{size:18})})]})})]},L.id)),D.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:l("noTransactions")})})]})]})})})})]})]})},xee=()=>{const{reports:t,generateReport:e,analyzeReport:n,isLoading:r,t:i}=na(),[o,l]=N.useState(null),[c,f]=N.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[d,p]=N.useState({isOpen:!1}),g=x=>{p({isOpen:!0,type:x})},b=()=>{d.type&&e(d.type,c.start,c.end),p({isOpen:!1,type:void 0})},w=()=>{if(!o)return;const x=document.getElementById("report-content");if(!x)return;const C={margin:10,filename:`${o.folio}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf?window.html2pdf().set(C).from(x).save():window.print()},S=(x,C,I=!1)=>E.jsxs("div",{className:"mt-6 mb-4 break-inside-avoid",children:[E.jsx("h5",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider mb-2 border-b border-gray-300 pb-1",children:x}),E.jsxs("table",{className:"w-full text-xs font-mono",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"text-gray-600 text-left",children:[E.jsx("th",{className:"pb-1",children:i("date")}),E.jsx("th",{className:"pb-1",children:i("description")}),I&&E.jsx("th",{className:"pb-1",children:i("dueDate")}),E.jsx("th",{className:"pb-1 text-right",children:i("amount")})]})}),E.jsxs("tbody",{children:[C.map((R,O)=>E.jsxs("tr",{className:"border-b border-gray-100",children:[E.jsx("td",{className:"py-1 text-gray-700",children:R.date}),E.jsx("td",{className:"py-1 text-black",children:R.description||R.desc}),I&&E.jsx("td",{className:"py-1 text-red-600",children:R.dueDate}),E.jsxs("td",{className:"py-1 text-right text-black",children:[R.type===vt.EXPENSE?"-":"","$",R.amount.toFixed(2)]})]},O)),C.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:4,className:"py-2 text-gray-400 italic",children:"No transactions."})})]})]})]}),T=x=>{if(x.type===Yi.INCOME_STATEMENT){const{revenues:C,expenses:I,totalRevenue:R,totalExpenses:O,netIncome:P,incomeBeforeTax:D,taxAmount:q,taxRate:Z}=x.data;return E.jsxs("div",{className:"space-y-4 font-mono text-sm text-black",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_revenues")}),E.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_total_revenue")}),E.jsxs("span",{children:["$",R.toFixed(2)]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2 mt-6",children:i("r_expenses")}),E.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_total_expenses")}),E.jsxs("span",{children:["$",O.toFixed(2)]})]})]}),E.jsxs("div",{className:"mt-6 border-t-2 border-gray-900 pt-4",children:[E.jsxs("div",{className:"flex justify-between font-bold",children:[E.jsx("span",{children:i("r_income_before_tax")}),E.jsxs("span",{children:["$",D.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-1 text-gray-700",children:[E.jsxs("span",{children:[i("r_tax_provision")," (",Z,"%)"]}),E.jsxs("span",{children:["($",q.toFixed(2),")"]})]}),E.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-gray-300 mt-2",children:[E.jsx("span",{children:i("r_net_income")}),E.jsxs("span",{className:P>=0?"text-green-700":"text-red-700",children:["$",P.toFixed(2)]})]})]}),E.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[E.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),S(i("r_revenues"),C),S(i("r_expenses"),I)]})]})}else if(x.type===Yi.BALANCE_SHEET){const{assets:C,liabilities:I,equity:R,details:O}=x.data;return E.jsxs("div",{className:"space-y-6 font-mono text-sm text-black",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_assets")}),E.jsxs("div",{className:"flex justify-between py-1",children:[E.jsx("span",{children:i("r_cash_equivalents")}),E.jsxs("span",{children:["$",C.cashAndEquivalents.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-1",children:[E.jsx("span",{children:i("r_accounts_receivable")}),E.jsxs("span",{children:["$",C.accountsReceivable.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-1",children:[E.jsx("span",{children:i("r_fixed_assets")}),E.jsxs("span",{children:["$",C.fixedAssets.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_total_assets")}),E.jsxs("span",{children:["$",C.totalAssets.toFixed(2)]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_liabilities")}),E.jsxs("div",{className:"flex justify-between py-1",children:[E.jsx("span",{children:i("r_accounts_payable")}),E.jsxs("span",{children:["$",I.accountsPayable.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-1",children:[E.jsx("span",{children:i("r_long_term_debt")}),E.jsxs("span",{children:["$",I.longTermDebt.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_total_liabilities")}),E.jsxs("span",{children:["$",I.totalLiabilities.toFixed(2)]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-900 border-b border-gray-400 mb-2",children:i("r_equity")}),E.jsxs("div",{className:"flex justify-between font-bold pt-2 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_total_equity")}),E.jsxs("span",{children:["$",R.toFixed(2)]})]})]}),E.jsxs("div",{className:"flex justify-between font-bold text-base pt-4 border-t-2 border-black mt-2",children:[E.jsx("span",{children:i("r_total_liab_equity")}),E.jsxs("span",{children:["$",(I.totalLiabilities+R).toFixed(2)]})]}),E.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[E.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),S(i("r_accounts_receivable"),(O==null?void 0:O.pendingReceivables)||[],!0),S(i("r_accounts_payable"),(O==null?void 0:O.pendingPayables)||[],!0)]})]})}else if(x.type===Yi.CASH_FLOW){const{operatingActivities:C,investingActivities:I,financingActivities:R,netCashFlow:O,details:P}=x.data;return E.jsxs("div",{className:"space-y-4 font-mono text-sm text-black",children:[E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[E.jsx("span",{children:i("r_op_activities")}),E.jsxs("span",{className:C>=0?"text-green-700":"text-red-700",children:["$",C.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[E.jsx("span",{children:i("r_inv_activities")}),E.jsxs("span",{className:I>=0?"text-green-700":"text-red-700",children:["$",I.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[E.jsx("span",{children:i("r_fin_activities")}),E.jsxs("span",{className:R>=0?"text-green-700":"text-red-700",children:["$",R.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between font-bold text-lg pt-4 mt-4 bg-gray-50 p-2",children:[E.jsx("span",{children:i("r_net_cash_flow")}),E.jsxs("span",{className:O>=0?"text-green-700":"text-red-700",children:["$",O.toFixed(2)]})]}),E.jsxs("div",{className:"mt-10 pt-4 border-t border-dashed border-gray-300",children:[E.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:i("transactionBreakdown")}),S(i("r_op_activities"),(P==null?void 0:P.operatingTransactions)||[]),S(i("r_inv_activities"),(P==null?void 0:P.investingTransactions)||[]),S(i("r_fin_activities"),(P==null?void 0:P.financingTransactions)||[])]})]})}return null};return E.jsxs("div",{className:"p-4 md:p-8 h-full",children:[d.isOpen&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 no-print",children:E.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-4",children:E.jsx(xv,{className:"w-8 h-8 text-blue-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:i("confirmGenerateTitle")}),E.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:i("confirmGenerateMsg")}),E.jsxs("div",{className:"flex w-full gap-3",children:[E.jsx("button",{onClick:()=>p({isOpen:!1}),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:i("cancel")}),E.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:i("confirm")})]})]})})}),E.jsx("div",{className:"flex justify-between items-center mb-6 no-print",children:E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i("financialStatements")}),E.jsx("p",{className:"text-gray-500",children:i("generateReportsDesc")})]})}),E.jsxs("div",{className:"flex flex-col gap-8",children:[E.jsx("div",{className:"no-print bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:E.jsxs("div",{className:"flex flex-col gap-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"font-semibold mb-3 text-sm text-gray-700 flex items-center gap-2",children:[E.jsx(Ev,{size:16})," ",i("periodSelection")]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:i("startDate")}),E.jsx("input",{type:"date",value:c.start,onChange:x=>f(C=>({...C,start:x.target.value})),className:"w-full text-sm p-2 border rounded-lg outline-none bg-white text-black focus:ring-2 focus:ring-blue-100"})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:i("endDate")}),E.jsx("input",{type:"date",value:c.end,onChange:x=>f(C=>({...C,end:x.target.value})),className:"w-full text-sm p-2 border rounded-lg outline-none bg-white text-black focus:ring-2 focus:ring-blue-100"})]})]})]}),E.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[E.jsx("h3",{className:"font-semibold mb-3 text-sm text-gray-700",children:i("generate")}),E.jsx("div",{className:"flex flex-col gap-3",children:Object.values(Yi).map(x=>E.jsxs("button",{onClick:()=>g(x),className:"flex items-center justify-center gap-3 px-4 py-3 text-sm border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700 transition-all font-medium bg-white shadow-sm",children:[E.jsx(gy,{size:18}),E.jsx("span",{className:"truncate font-semibold",children:x})]},x))})]})]})}),E.jsxs("div",{className:"no-print bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:E.jsx("h3",{className:"font-semibold text-sm text-gray-700",children:i("reportHistory")})}),E.jsx("div",{className:"max-h-64 overflow-y-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-white text-gray-500 uppercase text-xs sticky top-0 z-10",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("folio")}),E.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("type")}),E.jsx("th",{className:"px-6 py-3 text-left bg-gray-50",children:i("period")}),E.jsx("th",{className:"px-6 py-3 text-right bg-gray-50",children:i("generationDate")}),E.jsx("th",{className:"px-6 py-3 text-center bg-gray-50",children:i("action")})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:i("noReports")})}),t.map(x=>E.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${(o==null?void 0:o.folio)===x.folio?"bg-blue-50":""}`,children:[E.jsx("td",{className:"px-6 py-3 font-mono text-gray-600",children:x.folio}),E.jsx("td",{className:"px-6 py-3 font-medium text-gray-800",children:x.type}),E.jsxs("td",{className:"px-6 py-3 text-gray-500",children:[x.periodStart," to ",x.periodEnd]}),E.jsx("td",{className:"px-6 py-3 text-right text-gray-500",children:new Date(x.dateGenerated).toLocaleDateString()}),E.jsx("td",{className:"px-6 py-3 text-center",children:E.jsxs("button",{onClick:()=>l(x),className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-gray-200 rounded hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all text-xs font-medium",children:[E.jsx(GR,{size:14})," ",i("view")]})})]},x.folio))]})]})})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 relative min-h-[500px]",children:[!o&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400",children:[E.jsx(gy,{className:"w-16 h-16 mb-4 text-gray-200"}),E.jsx("p",{children:i("selectRangePrompt")})]}),o&&E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("div",{className:"flex justify-end gap-2 no-print mb-6 sticky top-0 bg-white z-20 py-2 border-b",children:[!o.aiAnalysis&&E.jsxs("button",{onClick:()=>n(o.folio),disabled:r,className:"flex items-center gap-2 px-4 py-2 text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors disabled:opacity-50 shadow-sm",children:[r?E.jsx(yT,{className:"animate-spin",size:16}):E.jsx(z6,{size:16}),"Analyze with Gemini AI"]}),E.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-sm",children:[E.jsx(i5,{size:16})," Download PDF"]})]}),E.jsxs("div",{id:"report-content",className:"bg-white p-8 text-black",children:[E.jsxs("div",{className:"flex items-start justify-between mb-8 border-b-2 border-black pb-6",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[o.companySnapshot.logoUrl&&E.jsx("img",{src:o.companySnapshot.logoUrl,alt:"Logo",className:"h-20 w-auto object-contain"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold uppercase tracking-wider text-black",children:o.companySnapshot.name}),E.jsx("p",{className:"text-xs text-gray-600",children:o.companySnapshot.address}),E.jsxs("p",{className:"text-xs text-gray-600",children:["Tax ID: ",o.companySnapshot.taxId]})]})]}),E.jsxs("div",{className:"text-right text-black",children:[E.jsx("h2",{className:"text-2xl font-bold mb-1",children:o.type}),E.jsxs("p",{className:"text-sm",children:[i("period"),": ",o.periodStart," - ",o.periodEnd]}),E.jsxs("p",{className:"text-sm",children:[i("folio"),": ",E.jsx("span",{className:"font-mono font-bold",children:o.folio})]})]})]}),E.jsxs("div",{className:"mb-10",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 uppercase tracking-wide border-b border-gray-400 pb-1",children:i("statementDetails")}),T(o)]}),E.jsxs("div",{className:"mb-8 break-inside-avoid",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 uppercase tracking-wide border-b border-gray-400 pb-1",children:i("keyRatios")}),E.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.ratios.map((x,C)=>E.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 break-inside-avoid",children:[E.jsxs("div",{className:"flex justify-between items-center mb-1",children:[E.jsx("span",{className:"font-bold text-gray-800",children:x.name}),E.jsx("span",{className:"font-bold text-blue-800 bg-blue-50 px-2 py-0.5 rounded",children:x.value})]}),x.analysis&&E.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',x.analysis,'"']})]},C))})]}),o.aiAnalysis?E.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl mb-8 border border-purple-100 break-inside-avoid",children:[E.jsxs("h3",{className:"flex items-center gap-2 text-purple-900 font-bold mb-3 uppercase tracking-wide text-sm",children:[E.jsx(yT,{size:16}),i("cfoSummary")]}),E.jsx("p",{className:"text-purple-900 leading-relaxed text-sm text-justify",children:o.aiAnalysis})]}):E.jsx("div",{className:"p-4 text-center text-gray-400 border border-dashed border-gray-300 rounded-lg mb-8 text-sm no-print",children:'AI Analysis not generated yet. Click "Analyze with Gemini AI" to generate insights.'}),E.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 flex justify-between items-end text-xs text-gray-600",children:[E.jsxs("div",{children:[E.jsxs("p",{children:[i("generatedBy"),": ",o.generatedBy]}),E.jsxs("p",{children:[i("generationDate"),": ",new Date(o.dateGenerated).toLocaleString()]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"mb-8 border-b border-black w-48"}),E.jsx("p",{children:i("authorizedSignature")})]})]})]})]})]})]})]})},Tee=()=>{const{companySettings:t,updateCompanySettings:e,currentUser:n,updateUserProfile:r,requestPasswordReset:i,confirmPasswordChange:o,t:l,allUsers:c,addNewUser:f,toggleUserStatus:d}=na(),[p,g]=N.useState("PROFILE"),[b,w]=N.useState(t),[S,T]=N.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",bio:(n==null?void 0:n.bio)||"",avatar:(n==null?void 0:n.avatar)||""}),[x,C]=N.useState(!1),[I,R]=N.useState(""),[O,P]=N.useState(""),[D,q]=N.useState(1),[Z,L]=N.useState(!1),[ie,J]=N.useState(!1),[W,fe]=N.useState({name:"",email:"",role:cn.VIEWER}),[ye,Ee]=N.useState(null),[H,ae]=N.useState(!1),de=N.useRef(null),be=N.useRef(null);N.useEffect(()=>{n&&T({name:n.name||"",email:n.email||"",phone:n.phone||"",bio:n.bio||"",avatar:n.avatar||""})},[n]);const Ne=ee=>{ee.preventDefault(),e(b),alert(l("settingsSaved"))},j=ee=>{ee.preventDefault(),r(S),alert(l("settingsSaved"))},U=ee=>{var oe;const ce=(oe=ee.target.files)==null?void 0:oe[0];if(ce){const Ie=new FileReader;Ie.onloadend=()=>{w({...b,logoUrl:Ie.result})},Ie.readAsDataURL(ce)}},F=ee=>{var oe;const ce=(oe=ee.target.files)==null?void 0:oe[0];if(ce){const Ie=new FileReader;Ie.onloadend=()=>{T({...S,avatar:Ie.result})},Ie.readAsDataURL(ce)}},G=ee=>{r({language:ee})},se=async()=>{L(!0);const ee=await i();L(!1),q(2),alert(`${l("codeSent")} ${l("verificationCode")}: ${ee}`)},le=async()=>{L(!0);const ee=await o(I,O);L(!1),ee?(alert(l("passwordChanged")),C(!1),R(""),P(""),q(1)):alert(l("invalidCode"))},ue=async ee=>{ee.preventDefault(),L(!0);const{success:ce,code:oe}=await f(W);L(!1),ce&&oe?(Ee(oe),J(!1),fe({name:"",email:"",role:cn.VIEWER})):alert(l("userCreateError"))},pe=()=>{ye&&(navigator.clipboard.writeText(ye),ae(!0),setTimeout(()=>ae(!1),2e3))},Q=(n==null?void 0:n.role)===cn.ADMIN;return E.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l("appSettings")}),E.jsx("p",{className:"text-gray-500",children:l("managePreferences")})]}),E.jsxs("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto",children:[E.jsxs("button",{onClick:()=>g("PROFILE"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p==="PROFILE"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(mT,{size:18}),l("myProfile")]}),Q&&E.jsxs("button",{onClick:()=>g("COMPANY"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p==="COMPANY"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(hT,{size:18}),l("companyInfo")]}),Q&&E.jsxs("button",{onClick:()=>g("USERS"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p==="USERS"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(vT,{size:18}),l("users")]}),E.jsxs("button",{onClick:()=>g("CONFIG"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p==="CONFIG"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(M5,{size:18}),l("configuration")]})]}),E.jsxs("div",{className:"space-y-8",children:[p==="PROFILE"&&E.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[E.jsx(mT,{className:"text-purple-500",size:20})," ",l("myProfile")]}),E.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsx("img",{src:S.avatar||"https://via.placeholder.com/150",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-100 shadow-sm"}),E.jsx("input",{type:"file",ref:be,onChange:F,className:"hidden",accept:"image/*"}),E.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=be.current)==null?void 0:ee.click()},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:l("uploadLogo")})]}),E.jsxs("div",{className:"md:col-span-2 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("fullName")}),E.jsx("input",{type:"text",value:S.name,onChange:ee=>T({...S,name:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("email")}),E.jsx("input",{type:"email",value:S.email,onChange:ee=>T({...S,email:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("phone")}),E.jsx("input",{type:"tel",value:S.phone,onChange:ee=>T({...S,phone:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("bio")}),E.jsx("input",{type:"text",value:S.bio,onChange:ee=>T({...S,bio:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]}),E.jsx("div",{className:"flex justify-end pt-2",children:E.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors",children:[E.jsx(gT,{size:16})," ",l("saveChanges")]})})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[E.jsx(U5,{className:"text-red-500",size:20})," ",l("security")]}),E.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-lg",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800",children:l("changePassword")}),E.jsx("p",{className:"text-sm text-gray-500",children:l("changePasswordDesc")})]}),E.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition-colors",children:[E.jsx(yy,{size:16})," ",l("changePassword")]})]})]})]}),p==="COMPANY"&&Q&&E.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:E.jsxs("form",{onSubmit:Ne,className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[E.jsx(hT,{className:"text-blue-500",size:20})," ",l("companyInfo")]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-4 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[b.logoUrl?E.jsx("img",{src:b.logoUrl,alt:"Logo",className:"h-24 object-contain"}):E.jsx("div",{className:"h-24 w-24 flex items-center justify-center bg-gray-200 rounded-full text-gray-400 text-xs",children:"No Logo"}),E.jsx("input",{type:"file",ref:de,onChange:U,className:"hidden",accept:"image/*"}),E.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=de.current)==null?void 0:ee.click()},className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:l("uploadLogo")})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("companyName")}),E.jsx("input",{type:"text",value:b.name,onChange:ee=>w({...b,name:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("taxId")}),E.jsx("input",{type:"text",value:b.taxId,onChange:ee=>w({...b,taxId:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]})]}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("businessAddress")}),E.jsx("input",{type:"text",value:b.address,onChange:ee=>w({...b,address:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",placeholder:"Street, City, State, Zip",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("taxRate")}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",value:b.taxRate,onChange:ee=>w({...b,taxRate:Number(ee.target.value)}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",min:"0",max:"100"}),E.jsx("span",{className:"absolute right-3 top-2 text-gray-400",children:"%"})]}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l("taxRateDesc")})]})]}),E.jsx("div",{className:"flex justify-end mt-8",children:E.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:[E.jsx(gT,{size:20})," ",l("saveChanges")]})})]})}),p==="USERS"&&Q&&E.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[E.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-800",children:[E.jsx(vT,{className:"text-orange-500",size:20})," ",l("manageUsers")]}),E.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[E.jsx(K5,{size:16})," ",l("addUser")]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3",children:l("fullName")}),E.jsx("th",{className:"px-6 py-3",children:l("email")}),E.jsx("th",{className:"px-6 py-3",children:l("role")}),E.jsx("th",{className:"px-6 py-3",children:l("status")}),E.jsx("th",{className:"px-6 py-3",children:l("actions")})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.map(ee=>{const ce=ee.id===(n==null?void 0:n.id);return E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3",children:[ee.avatar?E.jsx("img",{src:ee.avatar,className:"w-8 h-8 rounded-full",alt:""}):E.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:ee.name.charAt(0)}),ee.name," ",ce&&E.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded ml-2",children:"(You)"})]}),E.jsx("td",{className:"px-6 py-4 text-gray-600",children:ee.email}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.role===cn.ADMIN?"bg-purple-100 text-purple-800":ee.role===cn.ACCOUNTANT?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:ee.role})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ee.status==="ACTIVE"?l("active"):l("inactive")})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("button",{onClick:()=>!ce&&d(ee.id,ee.status||"ACTIVE"),disabled:ce,title:ce?"Cannot modify own status":ee.status==="ACTIVE"?l("deactivate"):l("activate"),className:`p-1.5 rounded-md transition-colors ${ce?"text-gray-300 cursor-not-allowed":ee.status==="ACTIVE"?"text-green-600 hover:bg-red-50 hover:text-red-600":"text-red-600 hover:bg-green-50 hover:text-green-600"}`,children:E.jsx(T5,{size:18})})})]},ee.id)}),c.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found."})})]})]})})]})}),p==="CONFIG"&&E.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 text-gray-800 border-b pb-2",children:[E.jsx(c5,{className:"text-green-500",size:20})," ",l("localization")]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("language")}),E.jsxs("select",{value:(n==null?void 0:n.language)||"ES",onChange:ee=>G(ee.target.value),className:"w-full p-2 border rounded-lg bg-white text-black",children:[E.jsx("option",{value:"EN",children:"English (EN)"}),E.jsx("option",{value:"ES",children:"Espaol (ES)"})]})]})})]})}),x&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:E.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-4",children:E.jsx(yy,{className:"w-8 h-8 text-blue-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:l("changePassword")}),D===1?E.jsxs("div",{className:"w-full",children:[E.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:l("changePasswordDesc")}),E.jsxs("button",{onClick:se,disabled:Z,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex justify-center items-center gap-2",children:[Z&&E.jsx(es,{className:"animate-spin",size:16}),l("sendCode")]})]}):E.jsxs("div",{className:"w-full space-y-4",children:[E.jsx("p",{className:"text-green-600 text-xs font-semibold bg-green-50 p-2 rounded",children:l("codeSentDesc")}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-left text-xs font-medium text-gray-700 mb-1",children:l("verificationCode")}),E.jsx("input",{type:"text",value:I,onChange:ee=>R(ee.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center tracking-widest bg-white text-black",placeholder:"000000",maxLength:6})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-left text-xs font-medium text-gray-700 mb-1",children:l("newPassword")}),E.jsx("input",{type:"password",value:O,onChange:ee=>P(ee.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black"})]}),E.jsxs("button",{onClick:le,disabled:Z||I.length!==6||O.length<3,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex justify-center items-center gap-2 disabled:opacity-50",children:[Z&&E.jsx(es,{className:"animate-spin",size:16}),l("verifyAndSave")]})]}),E.jsx("button",{onClick:()=>{C(!1),q(1)},className:"mt-4 text-sm text-gray-400 hover:text-gray-600",children:l("cancel")})]})})}),ie&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:[E.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[E.jsx(HR,{className:"text-blue-500",size:20}),l("sendInvitation")]}),E.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Generate an invitation code for a new user."}),E.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("fullName")}),E.jsx("input",{type:"text",value:W.name,onChange:ee=>fe({...W,name:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("email")}),E.jsx("input",{type:"email",value:W.email,onChange:ee=>fe({...W,email:ee.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("role")}),E.jsx("select",{value:W.role,onChange:ee=>fe({...W,role:ee.target.value}),className:"w-full p-2 border rounded-lg bg-white text-black focus:ring-2 focus:ring-blue-500 outline-none",children:Object.values(cn).map(ee=>E.jsx("option",{value:ee,children:ee},ee))})]}),E.jsxs("div",{className:"flex gap-3 mt-6",children:[E.jsx("button",{type:"button",onClick:()=>J(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:l("cancel")}),E.jsxs("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex justify-center items-center gap-2",children:[Z&&E.jsx(es,{className:"animate-spin",size:16}),l("sendInvitation")]})]})]})]})}),ye&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:E.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:E.jsx(my,{className:"w-8 h-8 text-green-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:l("invitationSent")}),E.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:l("invitationDesc")}),E.jsx("div",{className:"w-full bg-gray-50 p-6 rounded-lg border-2 border-dashed border-gray-300 mb-6 flex justify-center items-center",children:E.jsx("span",{className:"text-3xl font-mono font-bold text-gray-800 tracking-widest",children:ye})}),E.jsxs("div",{className:"flex w-full gap-3",children:[E.jsx("button",{onClick:()=>Ee(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:l("close")}),E.jsxs("button",{onClick:pe,className:`flex-1 px-4 py-2 text-white rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${H?"bg-green-600":"bg-blue-600 hover:bg-blue-700"}`,children:[H?E.jsx(my,{size:16}):E.jsx(n5,{size:16}),l(H?"copied":"copyLink")]})]})]})})})]})]})},Aee=()=>{const{notifications:t,dismissNotification:e,t:n}=na();return E.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n("pendingNotifications")}),E.jsx("p",{className:"text-gray-500",children:"Alerts for upcoming and overdue payments."})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col min-h-[300px]",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2 border-b pb-4",children:[E.jsx(py,{className:"text-gray-500",size:20}),n("pendingNotifications"),t.length>0&&E.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:t.length})]}),E.jsxs("div",{className:"overflow-y-auto flex-1 pr-2 space-y-3",children:[t.length===0&&E.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400",children:[E.jsx(py,{className:"w-12 h-12 mb-2 opacity-20"}),E.jsx("p",{className:"text-sm",children:n("noNotifications")})]}),t.map(r=>E.jsxs("div",{className:`p-4 rounded-lg border-l-4 shadow-sm transition-all flex justify-between items-start gap-4 ${r.severity==="high"?"border-red-500 bg-red-50":r.severity==="medium"?"border-orange-500 bg-orange-50":"border-blue-500 bg-blue-50"}`,children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("p",{className:`text-base font-medium ${r.severity==="high"?"text-red-800":"text-gray-800"}`,children:r.message}),E.jsx("span",{className:`text-xs px-2 py-1 rounded uppercase font-bold ${r.severity==="high"?"bg-red-200 text-red-800":r.severity==="medium"?"bg-orange-200 text-orange-800":"bg-blue-200 text-blue-800"}`,children:r.type})]}),E.jsxs("p",{className:"text-xs text-gray-500 font-mono bg-white bg-opacity-50 inline-block px-2 py-0.5 rounded",children:[n("due"),": ",r.date]})]}),E.jsx("button",{onClick:()=>e(r.id),title:n("markAsRead"),className:"p-2 bg-white rounded-full text-gray-400 hover:text-green-600 hover:bg-green-50 transition-colors shadow-sm",children:E.jsx(my,{size:18})})]},r.id))]})]})]})},Cee=()=>{const{login:t,signUp:e,verifyInvitation:n,t:r}=na(),[i,o]=N.useState(""),[l,c]=N.useState(""),[f,d]=N.useState(!1),[p,g]=N.useState(""),[b,w]=N.useState(!1),[S,T]=N.useState(!1),[x,C]=N.useState(!1),[I,R]=N.useState(""),[O,P]=N.useState(""),[D,q]=N.useState(null),Z=async ie=>{ie.preventDefault(),d(!0),g("");const{success:J,data:W,error:fe}=await n(I);d(!1),J&&W?(T(!0),C(!1),o(W.email),P(W.name),q(W.role),g(r("codeVerified"))):g(fe||r("codeInvalid"))},L=async ie=>{ie.preventDefault(),d(!0),g("");try{if(S){const{success:J,error:W}=await e(i,l,O,D||void 0,I);J?(g("Check your email for confirmation!"),T(!1),R("")):g(W||"Signup failed")}else{const{success:J,error:W}=await t(i,l);J||g(W||r("invalidCredentials"))}}catch{g("An unexpected error occurred.")}finally{d(!1)}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[E.jsxs("div",{className:"bg-slate-900 p-8 text-center relative",children:[x&&E.jsx("button",{onClick:()=>{C(!1),g("")},className:"absolute left-4 top-4 text-white hover:text-gray-300",children:E.jsx(q6,{size:20})}),E.jsx("div",{className:"bg-white/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:E.jsx(D5,{className:"w-10 h-10 text-blue-400"})}),E.jsx("h1",{className:"text-2xl font-bold text-white",children:x?r("verifyCode"):S?"Create Account":r("welcomeBack")}),E.jsx("p",{className:"text-gray-300 mt-2 text-sm",children:x?"Enter the code provided by your admin.":r("signInTo")})]}),E.jsxs("div",{className:"p-8",children:[p&&E.jsxs("div",{className:`text-sm p-3 rounded-lg flex items-center gap-2 mb-4 border ${p.includes("Verified")||p.includes("Verificado")||p.includes("Check")?"bg-green-50 text-green-700 border-green-100":"bg-red-50 text-red-600 border-red-100"}`,children:[E.jsx(xv,{size:16}),p]}),x?E.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("enterCode")}),E.jsxs("div",{className:"relative",children:[E.jsx(yy,{className:"absolute left-3 top-3 text-gray-400",size:18}),E.jsx("input",{type:"text",required:!0,value:I,onChange:ie=>R(ie.target.value.toUpperCase()),className:"w-full pl-10 pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all tracking-widest font-mono uppercase",placeholder:"XXXX",maxLength:4})]})]}),E.jsx("button",{type:"submit",disabled:f||I.length!==4,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:f?E.jsx(es,{className:"animate-spin",size:20}):r("verifyCode")})]}):E.jsxs("form",{onSubmit:L,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("email")}),E.jsxs("div",{className:"relative",children:[E.jsx(HR,{className:"absolute left-3 top-3 text-gray-400",size:18}),E.jsx("input",{type:"email",required:!0,disabled:S,value:i,onChange:ie=>o(ie.target.value),className:"w-full pl-10 pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all disabled:bg-gray-100",placeholder:"you@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("password")}),E.jsxs("div",{className:"relative",children:[E.jsx(g5,{className:"absolute left-3 top-3 text-gray-400",size:18}),E.jsx("input",{type:b?"text":"password",required:!0,value:l,onChange:ie=>c(ie.target.value),className:"w-full pl-10 pr-10 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-black transition-all",placeholder:r("passwordPlaceholder")}),E.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:b?E.jsx(o5,{size:18}):E.jsx(GR,{size:18})})]})]}),E.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:f?E.jsx(es,{className:"animate-spin",size:20}):S?"Sign Up":r("loginButton")}),!S&&E.jsx("div",{className:"text-center pt-2",children:E.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-sm text-blue-600 hover:underline",children:r("haveCode")})})]})]})]})})},Nee=()=>{const{currentUser:t}=na(),[e,n]=N.useState("dashboard"),[r,i]=N.useState(!1);if(!t)return E.jsx(Cee,{});const o=()=>{switch(e){case"dashboard":return E.jsx(pN,{});case"transactions":return E.jsx(Eee,{});case"reports":return E.jsx(xee,{});case"settings":return E.jsx(Tee,{});case"notifications":return E.jsx(Aee,{});default:return E.jsx(pN,{})}};return E.jsxs("div",{className:"flex min-h-screen bg-gray-50 text-gray-900 font-sans",children:[E.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-slate-900 z-50 flex items-center px-4 justify-between no-print",children:[E.jsx("span",{className:"text-white font-bold text-lg",children:"FinGemini"}),E.jsx("button",{onClick:()=>i(!r),className:"text-white",children:E.jsx(w5,{})})]}),r&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>i(!1)}),E.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-200 ease-in-out md:static`,children:E.jsx(X5,{currentPage:e,setPage:l=>{n(l),i(!1)}})}),E.jsx("main",{className:"flex-1 h-screen overflow-auto md:ml-0 pt-16 md:pt-0 print:pt-0 print:h-auto print:overflow-visible",children:o()})]})},Ree=()=>E.jsx(I6,{children:E.jsx(Nee,{})}),ZO=document.getElementById("root");if(!ZO)throw new Error("Could not find root element to mount to");const Mee=Pk.createRoot(ZO);Mee.render(E.jsx(gN.StrictMode,{children:E.jsx(Ree,{})}));
